(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64],{34085:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>eu});var a=i(18841),l=i(58669),s=i(26059),o=i(65939),r=i(28198),n=i(98356),c=i(77902),d=i(61197),x=i(2570),m=i(33544),p=i(44166),u=i(59172),h=i(30897),g=i(7934),v=i(74020);let f=(0,l.createContext)(null),j={id:"default",name:"デフォルト",genre:"simple",initialText:"テキスト",initialTextColor:"#000000",initialFontSize:"4rem",initialImageSrc:"",supportedAspectRatios:["1:1","4:3","9:16","16:9"]},b=e=>{let{children:t}=e,[i,s]=(0,l.useState)(j),[o,r]=(0,l.useState)(j.initialText),[n,c]=(0,l.useState)("16:9"),[d,x]=(0,l.useState)({width:16,height:9}),m=(0,l.useCallback)((e,t)=>{u([...e]),g(t)},[]),[p,u]=(0,l.useState)([]),[h,g]=(0,l.useState)(null),b=(0,l.useCallback)(e=>{let t={...e,id:(0,v.A)(),rotation:0,zIndex:0};u(e=>{let i=[t,...e];return i.map((e,t)=>({...e,zIndex:i.length-1-t}))}),g(t.id)},[]),_=(0,l.useCallback)(e=>{u(t=>t.filter(t=>t.id!==e)),h===e&&g(null)},[h]),S=(0,l.useCallback)((e,t)=>{u(i=>i.map(i=>i.id===e?{...i,...t}:i))},[]),w=(0,l.useCallback)((e,t)=>{u(i=>{let a=Array.from(i),[l]=a.splice(e,1);return a.splice(t,0,l),a.map((e,t)=>({...e,zIndex:a.length-1-t}))})},[]),y=(0,l.useCallback)(e=>{u(t=>{let i=t.find(t=>t.id===e);if(!i)return t;let a={...i,id:(0,v.A)(),name:"".concat(i.name,"のコピー"),x:i.x+20,y:i.y+20},l=t.findIndex(t=>t.id===e),s=[...t];return s.splice(l+1,0,a),s.map((e,t)=>({...e,zIndex:s.length-1-t}))})},[]),A=(0,l.useCallback)(e=>{u(t=>{let i=t.findIndex(t=>t.id===e);if(i<=0)return t;let a=[...t],[l]=a.splice(i,1);return a.splice(i-1,0,l),a.map((e,t)=>({...e,zIndex:a.length-1-t}))})},[]),N=(0,l.useCallback)(e=>{u(t=>{let i=t.findIndex(t=>t.id===e);if(i<0||i>=t.length-1)return t;let a=[...t],[l]=a.splice(i,1);return a.splice(i+1,0,l),a.map((e,t)=>({...e,zIndex:a.length-1-t}))})},[]);(0,l.useEffect)(()=>{var e,t,a,l,s;let o=[];if(!i){u([]),g(null);return}if(i.initialImageSrc){let e={id:"background-image",type:"image",name:"背景画像",visible:!0,locked:!1,x:0,y:0,width:1920,height:1080,rotation:0,src:i.initialImageSrc,zIndex:0,isBackground:!0};o.push(e)}i.initialText&&o.push({id:(0,v.A)(),type:"text",name:"テキスト",visible:!0,locked:!1,x:(null==(t=i.initialTextPosition)?void 0:t.x)||50,y:(null==(a=i.initialTextPosition)?void 0:a.y)||50,width:(null==(l=i.initialTextPosition)?void 0:l.width)||300,height:(null==(s=i.initialTextPosition)?void 0:s.height)||100,rotation:0,text:i.initialText,color:i.initialTextColor,fontSize:i.initialFontSize,zIndex:0});let r=o.reverse().map((e,t)=>({...e,zIndex:o.length-1-t}));u(r),g(r.length>0&&(null==(e=r[0])?void 0:e.id)||null)},[i,n,d]);let C=(0,l.useMemo)(()=>({selectedTemplate:i,setSelectedTemplate:s,currentText:o,setCurrentText:r,layers:p,setLayers:u,addLayer:b,removeLayer:_,updateLayer:S,selectedLayerId:h,setSelectedLayerId:g,reorderLayers:w,duplicateLayer:y,moveLayerUp:A,moveLayerDown:N,aspectRatio:n,setAspectRatio:c,customAspectRatio:d,setCustomAspectRatio:x,restoreState:m}),[i,o,p,h,b,_,S,w,y,A,N,n,d,m]);return(0,a.jsx)(f.Provider,{value:C,children:t})},_=()=>{let e=(0,l.useContext)(f);if(!e)throw Error("useTemplate must be used within a TemplateProvider");return e};var S=i(78071),w=i(49907),y=i(44909),A=i(65724),N=i(47049),C=i(98156),T=i(53333),R=i(10768),z=i(40987);let I=JSON.parse('{"templates":[{"id":"cool_1x1_001","name":"cool 1x1 001","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_001.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_002","name":"cool 1x1 002","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_002.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_003","name":"cool 1x1 003","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_003.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_004","name":"cool 1x1 004","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_004.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_005","name":"cool 1x1 005","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_005.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_006","name":"cool 1x1 006","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_006.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_007","name":"cool 1x1 007","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_007.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_008","name":"cool 1x1 008","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_008.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_1x1_009","name":"cool 1x1 009","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/cool_1x1_009.jpg","supportedAspectRatios":["1:1"]},{"id":"test_auto_conversion","name":"cool 1x1 conversion","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/test_auto_conversion.jpg","supportedAspectRatios":["1:1"]},{"id":"test_auto_webp","name":"cool 1x1 webp","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/test_auto_webp.jpg","supportedAspectRatios":["1:1"]},{"id":"test_watch_211852","name":"cool 1x1 211852","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/1x1/test_watch_211852.jpg","supportedAspectRatios":["1:1"]},{"id":"cool_4x3_001","name":"cool 4x3 001","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_001.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_002","name":"cool 4x3 002","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_002.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_003","name":"cool 4x3 003","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_003.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_004","name":"cool 4x3 004","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_004.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_005","name":"cool 4x3 005","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_005.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_006","name":"cool 4x3 006","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_006.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_007","name":"cool 4x3 007","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_007.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_008","name":"cool 4x3 008","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_008.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_4x3_009","name":"cool 4x3 009","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/4x3/cool_4x3_009.jpg","supportedAspectRatios":["4:3"]},{"id":"cool_9x16_001","name":"cool 9x16 001","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/9x16/cool_9x16_001.jpg","supportedAspectRatios":["9:16"]},{"id":"cool_9x16_002","name":"cool 9x16 002","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/9x16/cool_9x16_002.jpg","supportedAspectRatios":["9:16"]},{"id":"cool_9x16_003","name":"cool 9x16 003","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/9x16/cool_9x16_003.jpg","supportedAspectRatios":["9:16"]},{"id":"cool_9x16_004","name":"cool 9x16 004","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/9x16/cool_9x16_004.jpg","supportedAspectRatios":["9:16"]},{"id":"cool_9x16_005","name":"cool 9x16 005","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/9x16/cool_9x16_005.jpg","supportedAspectRatios":["9:16"]},{"id":"cool_9x16_006","name":"cool 9x16 006","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/9x16/cool_9x16_006.jpg","supportedAspectRatios":["9:16"]},{"id":"cool_9x16_007","name":"cool 9x16 007","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/9x16/cool_9x16_007.jpg","supportedAspectRatios":["9:16"]},{"id":"cool_16x9_001","name":"cool 16x9 001","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_001.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_002","name":"cool 16x9 002","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_002.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_003","name":"cool 16x9 003","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_003.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_004","name":"cool 16x9 004","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_004.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_005","name":"cool 16x9 005","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_005.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_006","name":"cool 16x9 006","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_006.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_007","name":"cool 16x9 007","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_007.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_008","name":"cool 16x9 008","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_008.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_009","name":"cool 16x9 009","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_009.jpg","supportedAspectRatios":["16:9"]},{"id":"cool_16x9_010","name":"cool 16x9 010","genre":"cool","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cool/16x9/cool_16x9_010.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_1x1_001","name":"cute 1x1 001","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/1x1/cute_1x1_001.jpg","supportedAspectRatios":["1:1"]},{"id":"cute_1x1_002","name":"cute 1x1 002","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/1x1/cute_1x1_002.jpg","supportedAspectRatios":["1:1"]},{"id":"cute_1x1_003","name":"cute 1x1 003","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/1x1/cute_1x1_003.jpg","supportedAspectRatios":["1:1"]},{"id":"cute_1x1_004","name":"cute 1x1 004","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/1x1/cute_1x1_004.jpg","supportedAspectRatios":["1:1"]},{"id":"cute_1x1_005","name":"cute 1x1 005","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/1x1/cute_1x1_005.jpg","supportedAspectRatios":["1:1"]},{"id":"cute_1x1_006","name":"cute 1x1 006","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/1x1/cute_1x1_006.jpg","supportedAspectRatios":["1:1"]},{"id":"cute_4x3_001","name":"cute 4x3 001","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/4x3/cute_4x3_001.jpg","supportedAspectRatios":["4:3"]},{"id":"cute_4x3_002","name":"cute 4x3 002","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/4x3/cute_4x3_002.jpg","supportedAspectRatios":["4:3"]},{"id":"cute_4x3_003","name":"cute 4x3 003","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/4x3/cute_4x3_003.jpg","supportedAspectRatios":["4:3"]},{"id":"cute_4x3_004","name":"cute 4x3 004","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/4x3/cute_4x3_004.jpg","supportedAspectRatios":["4:3"]},{"id":"cute_4x3_005","name":"cute 4x3 005","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/4x3/cute_4x3_005.jpg","supportedAspectRatios":["4:3"]},{"id":"cute_4x3_006","name":"cute 4x3 006","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/4x3/cute_4x3_006.jpg","supportedAspectRatios":["4:3"]},{"id":"cute_9x16_001","name":"cute 9x16 001","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/9x16/cute_9x16_001.jpg","supportedAspectRatios":["9:16"]},{"id":"cute_9x16_002","name":"cute 9x16 002","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/9x16/cute_9x16_002.jpg","supportedAspectRatios":["9:16"]},{"id":"cute_9x16_003","name":"cute 9x16 003","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/9x16/cute_9x16_003.jpg","supportedAspectRatios":["9:16"]},{"id":"cute_9x16_004","name":"cute 9x16 004","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/9x16/cute_9x16_004.jpg","supportedAspectRatios":["9:16"]},{"id":"cute_9x16_005","name":"cute 9x16 005","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/9x16/cute_9x16_005.jpg","supportedAspectRatios":["9:16"]},{"id":"cute_9x16_006","name":"cute 9x16 006","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/9x16/cute_9x16_006.jpg","supportedAspectRatios":["9:16"]},{"id":"cute_16x9_001","name":"cute 16x9 001","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_001.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_16x9_002","name":"cute 16x9 002","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_002.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_16x9_003","name":"cute 16x9 003","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_003.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_16x9_004","name":"cute 16x9 004","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_004.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_16x9_005","name":"cute 16x9 005","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_005.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_16x9_006","name":"cute 16x9 006","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_006.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_16x9_007","name":"cute 16x9 007","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_007.jpg","supportedAspectRatios":["16:9"]},{"id":"cute_16x9_008","name":"cute 16x9 008","genre":"cute","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/cute/16x9/cute_16x9_008.png","supportedAspectRatios":["16:9"]},{"id":"test_001","name":"elegant 1x1 001","genre":"elegant","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/elegant/1x1/test_001.png","supportedAspectRatios":["1:1"]},{"id":"test_002","name":"elegant 4x3 002","genre":"elegant","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/elegant/4x3/test_002.png","supportedAspectRatios":["4:3"]},{"id":"test_003","name":"elegant 16x9 003","genre":"elegant","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/elegant/16x9/test_003.png","supportedAspectRatios":["16:9"]},{"id":"test_001","name":"modern 1x1 001","genre":"modern","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/modern/1x1/test_001.png","supportedAspectRatios":["1:1"]},{"id":"simple_1x1_001","name":"simple 1x1 001","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/1x1/simple_1x1_001.png","supportedAspectRatios":["1:1"]},{"id":"simple_1x1_002","name":"simple 1x1 002","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/1x1/simple_1x1_002.png","supportedAspectRatios":["1:1"]},{"id":"simple_1x1_003","name":"simple 1x1 003","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/1x1/simple_1x1_003.jpg","supportedAspectRatios":["1:1"]},{"id":"simple_1x1_004","name":"simple 1x1 004","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/1x1/simple_1x1_004.jpg","supportedAspectRatios":["1:1"]},{"id":"simple_1x1_005","name":"simple 1x1 005","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/1x1/simple_1x1_005.jpg","supportedAspectRatios":["1:1"]},{"id":"simple_1x1_006","name":"simple 1x1 006","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/1x1/simple_1x1_006.jpg","supportedAspectRatios":["1:1"]},{"id":"simple_1x1_007","name":"simple 1x1 007","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/1x1/simple_1x1_007.jpg","supportedAspectRatios":["1:1"]},{"id":"simple_4x3_001","name":"simple 4x3 001","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/4x3/simple_4x3_001.jpg","supportedAspectRatios":["4:3"]},{"id":"simple_4x3_002","name":"simple 4x3 002","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/4x3/simple_4x3_002.jpg","supportedAspectRatios":["4:3"]},{"id":"simple_4x3_003","name":"simple 4x3 003","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/4x3/simple_4x3_003.jpg","supportedAspectRatios":["4:3"]},{"id":"simple_4x3_004","name":"simple 4x3 004","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/4x3/simple_4x3_004.jpg","supportedAspectRatios":["4:3"]},{"id":"simple_4x3_005","name":"simple 4x3 005","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/4x3/simple_4x3_005.jpg","supportedAspectRatios":["4:3"]},{"id":"simple_9x16_001","name":"simple 9x16 001","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/9x16/simple_9x16_001.jpg","supportedAspectRatios":["9:16"]},{"id":"simple_9x16_002","name":"simple 9x16 002","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/9x16/simple_9x16_002.jpg","supportedAspectRatios":["9:16"]},{"id":"simple_9x16_003","name":"simple 9x16 003","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/9x16/simple_9x16_003.jpg","supportedAspectRatios":["9:16"]},{"id":"simple_9x16_004","name":"simple 9x16 004","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/9x16/simple_9x16_004.jpg","supportedAspectRatios":["9:16"]},{"id":"simple_16x9_001","name":"simple 16x9 001","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_001.png","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_002","name":"simple 16x9 002","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_002.jpg","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_003","name":"simple 16x9 003","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_003.jpg","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_004","name":"simple 16x9 004","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_004.jpg","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_005","name":"simple 16x9 005","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_005.jpg","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_006","name":"simple 16x9 006","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_006.jpg","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_007","name":"simple 16x9 007","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_007.jpg","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_008","name":"simple 16x9 008","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_008.jpg","supportedAspectRatios":["16:9"]},{"id":"simple_16x9_009","name":"simple 16x9 009","genre":"simple","initialText":"テキスト","initialTextColor":"#000000","initialFontSize":"4rem","initialImageSrc":"/Kurodev-tool-portal/templates/asset-creator/simple/16x9/simple_16x9_009.png","supportedAspectRatios":["16:9"]}],"metadata":{"generatedAt":"2025-10-30T10:52:30.470Z","totalTemplates":93,"invalidTemplates":0,"duplicates":0,"missingFiles":0}}');var F=i(24156);let k={simple:"シンプル",cute:"かわいい",cool:"クール",stylish:"スタイリッシュ",elegant:"エレガント",modern:"モダン",vintage:"ヴィンテージ",minimal:"ミニマル",colorful:"カラフル",dark:"ダーク",bright:"ブライト",nature:"ナチュラル",urban:"アーバン",fantasy:"ファンタジー",retro:"レトロ",futuristic:"フューチャー",romantic:"ロマンチック",energetic:"エネルギッシュ",calm:"カーム",professional:"プロフェッショナル",casual:"カジュアル",formal:"フォーマル",playful:"プレイフル",serious:"シリアス",artistic:"アーティスティック",tech:"テック",gaming:"ゲーミング",music:"ミュージック",food:"フード",travel:"トラベル",fashion:"ファッション",beauty:"ビューティー",lifestyle:"ライフスタイル",business:"ビジネス",education:"エデュケーション",health:"ヘルス",sports:"スポーツ",entertainment:"エンターテイメント",news:"ニュース",technology:"テクノロジー",science:"サイエンス",culture:"カルチャー",social:"ソーシャル",personal:"パーソナル",creative:"クリエイティブ",innovative:"イノベーティブ",traditional:"トラディショナル",contemporary:"コンテンポラリー",experimental:"エクスペリメンタル",classic:"クラシック",trendy:"トレンディ",unique:"ユニーク",premium:"プレミアム",affordable:"アフォーダブル",luxury:"ラグジュアリー",eco:"エコ",sustainable:"サステナブル",organic:"オーガニック",digital:"デジタル",analog:"アナログ",hybrid:"ハイブリッド",pure:"ピュア",mixed:"ミックス",solid:"ソリッド",gradient:"グラデーション",pattern:"パターン",texture:"テクスチャー",geometric:"ジオメトリック",abstract:"アブストラクト",realistic:"リアリスティック",cartoon:"カートゥーン",anime:"アニメ",manga:"マンガ",illustration:"イラストレーション",photography:"フォトグラフィー",design:"デザイン",art:"アート",craft:"クラフト",handmade:"ハンドメイド",industrial:"インダストリアル",rustic:"ラスティック",cozy:"コージー",spacious:"スペーシャス",compact:"コンパクト",large:"ラージ",small:"スモール",medium:"ミディアム",extra:"エクストラ",mega:"メガ",micro:"マイクロ",macro:"マクロ",nano:"ナノ",pico:"ピコ",giga:"ギガ",kilo:"キロ",milli:"ミリ",centi:"センチ",deci:"デシ",deca:"デカ",hecto:"ヘクト",peta:"ペタ",exa:"エクサ",zetta:"ゼタ",yotta:"ヨタ",ronna:"ロナ",quetta:"クエタ",femto:"フェムト",atto:"アト",zepto:"ゼプト",yocto:"ヨクト",ronto:"ロント",quecto:"クエクト"},K=["1:1","4:3","9:16","16:9"],E=l.memo(e=>{let{onSelectTemplate:t,selectedTemplateId:i}=e,{aspectRatio:s,setAspectRatio:o,customAspectRatio:r,setCustomAspectRatio:d}=_(),{filteredTemplates:x,availableGenres:m,genreNames:u,isLoading:h}=function(e){let{aspectRatio:t,customAspectRatio:i}=e,[a,s]=(0,l.useState)([]),[o,r]=(0,l.useState)(!0);(0,l.useEffect)(()=>{try{r(!0),F.vF.debug("テンプレート読み込み開始",void 0,"useTemplateManagement");let e=(()=>{try{return F.vF.debug("テンプレート読み込み完了",{count:I.templates.length},"templateLoader"),I.templates}catch(e){return F.vF.error("テンプレート読み込み失敗",e,"templateLoader"),[]}})();F.vF.debug("テンプレート読み込み完了",{count:e.length,genres:[...new Set(e.map(e=>e.genre))]},"useTemplateManagement"),s(e),r(!1)}catch(e){F.vF.error("テンプレート読み込み失敗",e,"useTemplateManagement"),s([]),r(!1)}},[]);let n=(0,l.useMemo)(()=>{let e=a.filter(e=>"custom"===t||e.supportedAspectRatios.includes(t));return F.vF.debug("テンプレートフィルタリング",{aspectRatio:t,beforeCount:a.length,afterCount:e.length,genres:[...new Set(e.map(e=>e.genre))]},"useTemplateManagement"),e},[a,t]),c=(0,l.useMemo)(()=>{let e=[...new Set(n.map(e=>e.genre))];return F.vF.debug("利用可能なジャンル",{availableGenres:e,filteredCount:n.length,totalCount:a.length,aspectRatio:t,allGenres:[...new Set(a.map(e=>e.genre))]},"useTemplateManagement"),e},[n,a,t]),d=(0,l.useMemo)(()=>(e=>{let t={};return e.forEach(e=>{let i;t[e]=k[i=e]||i}),t})(c),[c]),x=(0,l.useMemo)(()=>c.reduce((e,t)=>(e[t]=n.filter(e=>e.genre===t),e),{}),[c,n]);return{templates:a,filteredTemplates:n,availableGenres:c,genreNames:d,templatesByGenre:x,isLoading:o}}({aspectRatio:s,customAspectRatio:r}),{handleCustomAspectRatioChange:g}={handleCustomAspectRatioChange:(e,t)=>{let i=parseInt(e.target.value,10),a={...r,[t]:i};!isNaN(i)&&i>0&&(d(a),o("custom"))}};return h?(0,a.jsx)("div",{className:"w-full p-4 text-center",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"テンプレートを読み込み中..."})}):(0,a.jsxs)(R.nD,{type:"multiple",className:"w-full",defaultValue:["aspect-ratio","templates"],children:[(0,a.jsxs)(R.As,{value:"aspect-ratio",children:[(0,a.jsx)(R.$m,{children:"アスペクト比"}),(0,a.jsxs)(R.ub,{className:"space-y-4 pt-4",children:[(0,a.jsx)(n.J,{children:"プリセット"}),(0,a.jsx)(z.O,{type:"single",value:"custom"===s?"":s,onValueChange:e=>{e&&o(e)},variant:"outline",className:"flex-wrap justify-start",children:K.map(e=>(0,a.jsx)(z.d,{value:e,"aria-label":"比率 ".concat(e),children:e},e))}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"手動設定"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.p,{type:"number",placeholder:"幅",className:"w-24",value:r.width,onChange:e=>g(e,"width")}),(0,a.jsx)("span",{children:":"}),(0,a.jsx)(c.p,{type:"number",placeholder:"高さ",className:"w-24",value:r.height,onChange:e=>g(e,"height")})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"小さい数字で比率、大きい数字で解像度を指定できます。"})]})]})]}),(0,a.jsxs)(R.As,{value:"templates",children:[(0,a.jsx)(R.$m,{children:"テンプレート選択"}),(0,a.jsx)(R.ub,{className:"pt-4",children:m.length>0?(0,a.jsxs)(p.tU,{defaultValue:m[0],className:"w-full",children:[(0,a.jsx)(p.j7,{className:(0,T.cn)("w-full h-auto p-1",m.length<=4?1===m.length?"grid grid-cols-1":2===m.length?"grid grid-cols-2":3===m.length?"grid grid-cols-3":"grid grid-cols-4":"flex overflow-x-auto space-x-1 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100"),children:m.map(e=>(0,a.jsx)(p.Xi,{value:e,className:(0,T.cn)(m.length>4?"min-w-fit whitespace-nowrap":"","h-8 px-3 py-1 text-sm"),children:u[e]},e))}),m.map(e=>(0,a.jsx)(p.av,{value:e,children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 mt-4",children:x.filter(t=>t.genre===e).map(e=>(0,a.jsx)(C.Zp,{className:(0,T.cn)("cursor-pointer hover:border-[#20B2AA] transition-colors group",i===e.id&&"border-2 border-[#20B2AA] ring-2 ring-[#20B2AA]"),onClick:()=>t(e),children:(0,a.jsx)(C.Wu,{className:"p-0 rounded-md",children:(0,a.jsx)("div",{className:(0,T.cn)("w-full rounded-md flex items-center justify-center relative overflow-hidden","1:1"===s?"aspect-square":"4:3"===s?"aspect-[4/3]":"9:16"===s?"aspect-[9/16]":"aspect-video"),children:(0,a.jsx)(N.wF,{src:e.initialImageSrc,alt:e.name,aspectRatio:"16:9",breakpoints:{sm:200,md:250,lg:300},style:{objectFit:"cover"},className:"transition-transform duration-300 group-hover:scale-105"})})})},e.id))})},e))]}):(0,a.jsx)("div",{className:"text-center text-sm text-muted-foreground py-4",children:"このアスペクト比に対応するテンプレートはありません。"})})]})]})});var L=i(58414);let D=e=>{let{isDesktop:t,isSidebarOpen:i,setIsSidebarOpen:s,layers:o,updateLayer:r,removeLayer:n,selectedLayerId:c,setSelectedLayerId:d,reorderLayers:x,duplicateLayer:m,addLayer:u,moveLayerUp:h,moveLayerDown:g,selectedTemplate:v,setSelectedTemplate:f}=e,[j,b]=l.useState("templates"),_=(0,a.jsxs)("div",{className:"h-full flex flex-col min-w-0 max-w-full overflow-x-hidden",children:[(0,a.jsx)("div",{className:"p-3 border-b border-[#4A4A4A] min-w-0",children:(0,a.jsx)("h2",{className:"text-base font-semibold text-[#A0A0A0] truncate",children:"素材・レイヤー"})}),(0,a.jsxs)(p.tU,{value:j,onValueChange:b,className:"flex-1 flex flex-col min-w-0",children:[(0,a.jsxs)(p.j7,{className:"grid w-10/12 grid-cols-2 mx-auto mt-4 min-w-0",children:[(0,a.jsxs)(p.Xi,{value:"templates",className:"text-xs p-2 min-w-0 flex-col gap-2 max-w-full",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"truncate text-xs",children:"素材"})]}),(0,a.jsxs)(p.Xi,{value:"layers",className:"text-xs p-2 min-w-0 flex-col gap-2 max-w-full",children:[(0,a.jsx)(A.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"truncate text-xs",children:"レイヤー"})]})]}),(0,a.jsx)(p.av,{value:"templates",className:"flex-1 px-3 pb-3 pt-2 mt-8 min-w-0 max-w-full overflow-x-hidden",children:(0,a.jsx)("div",{className:"min-w-0 max-w-full",children:(0,a.jsx)(E,{onSelectTemplate:f,selectedTemplateId:(null==v?void 0:v.id)||null})})}),(0,a.jsx)(p.av,{value:"layers",className:"flex-1 px-3 pb-3 pt-2 mt-8 min-w-0 max-w-full overflow-x-hidden",children:(0,a.jsx)("div",{className:"min-w-0 max-w-full",children:(0,a.jsx)(L.G,{context:{layers:o,updateLayer:r,removeLayer:n,selectedLayerId:c,setSelectedLayerId:d,reorderLayers:x,duplicateLayer:m,addLayer:u,moveLayerUp:h,moveLayerDown:g}})})})]})]});return t?(0,a.jsx)("div",{className:"w-1/5 border-r border-[#4A4A4A] bg-[#1A1A1A] overflow-y-auto overflow-x-hidden",children:_}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.R,{onOpen:()=>s(!0),className:"fixed top-4 left-4 z-40 lg:hidden"}),(0,a.jsx)(w.B,{isOpen:i,onClose:()=>s(!1),title:"素材・レイヤー",children:_})]})};var J=i(22215),O=i(6166),P=i(5081),W=i(14967),M=i(21645),G=i(54407),U=i(80889),B=i(68698),q=i(64248),V=i(95176),$=i(77463),H=i(89432);let X={web:[{name:"Web バナー (大)",width:1200,height:630,platform:"web",selected:!0},{name:"Web バナー (中)",width:800,height:420,platform:"web",selected:!0},{name:"Web バナー (小)",width:600,height:315,platform:"web",selected:!1},{name:"ヘッダー画像",width:1920,height:400,platform:"web",selected:!1}],social:[{name:"Twitter ヘッダー",width:1500,height:500,platform:"twitter",selected:!0},{name:"Twitter 投稿",width:1200,height:675,platform:"twitter",selected:!0},{name:"Instagram 投稿",width:1080,height:1080,platform:"instagram",selected:!0},{name:"Instagram ストーリー",width:1080,height:1920,platform:"instagram",selected:!1},{name:"Facebook カバー",width:1200,height:630,platform:"facebook",selected:!1}],print:[{name:"A4 (300DPI)",width:2480,height:3508,platform:"print",selected:!0},{name:"A3 (300DPI)",width:3508,height:4961,platform:"print",selected:!1},{name:"名刺 (300DPI)",width:1063,height:638,platform:"print",selected:!1},{name:"ポスター A2 (300DPI)",width:4961,height:7016,platform:"print",selected:!1},{name:"フライヤー A5 (300DPI)",width:1748,height:2480,platform:"print",selected:!0}],presentation:[{name:"スライド 16:9",width:1920,height:1080,platform:"presentation",selected:!0},{name:"スライド 4:3",width:1024,height:768,platform:"presentation",selected:!1},{name:"プレゼン用高解像度",width:3840,height:2160,platform:"presentation",selected:!1}]},Z={low:{pixelRatio:1,label:"軽量 (1x)",description:"Web表示用"},medium:{pixelRatio:1.5,label:"標準 (1.5x)",description:"一般的な用途"},high:{pixelRatio:2,label:"高品質 (2x)",description:"Retina対応"},ultra:{pixelRatio:3,label:"超高品質 (3x)",description:"高解像度ディスプレイ"},print:{pixelRatio:4,label:"印刷用 (4x)",description:"300DPI印刷対応"}},Y=e=>{let{onExport:t,isExporting:i=!1}=e,s=!(0,H.U)("(min-width: 768px)"),[d,m]=(0,l.useState)({resolution:"fhd",quality:"high",format:"png",pixelRatio:2,backgroundColor:"#ffffff",includeTransparency:!1,optimizeForPlatform:"general",batchExport:!1,batchSizes:[]}),[p,h]=(0,l.useState)("web"),[g,v]=(0,l.useState)([]),f=e=>{m(t=>({...t,...e}))},j=e=>{f({batchExport:!0,batchSizes:X[e].map(e=>({...e,selected:e.selected})),optimizeForPlatform:"web"===e?"web":"print"===e?"print":"social",quality:"print"===e?"print":"high",format:"png",includeTransparency:"print"!==e}),h(e)},b=async()=>{let e=document.getElementById("download-target");if(!e)return void o.oR.error("プレビューエリアが見つかりません");try{await t(e,d)}catch(e){F.vF.error("エクスポート失敗",e,"AssetExportSettingsPanel"),o.oR.error("エクスポートに失敗しました")}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(C.Zp,{children:[(0,a.jsx)(C.aR,{className:"pb-3",children:(0,a.jsxs)(C.ZB,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),"用途別プリセット"]})}),(0,a.jsx)(C.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(r.$,{variant:"web"===p?"default":"outline",size:s?"sm":"default",onClick:()=>j("web"),className:"flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Web用"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Web"})]}),(0,a.jsxs)(r.$,{variant:"social"===p?"default":"outline",size:s?"sm":"default",onClick:()=>j("social"),className:"flex items-center gap-2",children:[(0,a.jsx)(U.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"SNS用"}),(0,a.jsx)("span",{className:"sm:hidden",children:"SNS"})]}),(0,a.jsxs)(r.$,{variant:"print"===p?"default":"outline",size:s?"sm":"default",onClick:()=>j("print"),className:"flex items-center gap-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"印刷用"}),(0,a.jsx)("span",{className:"sm:hidden",children:"印刷"})]}),(0,a.jsxs)(r.$,{variant:"presentation"===p?"default":"outline",size:s?"sm":"default",onClick:()=>j("presentation"),className:"flex items-center gap-2",children:[(0,a.jsx)(q.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"プレゼン用"}),(0,a.jsx)("span",{className:"sm:hidden",children:"プレゼン"})]})]})})]}),(0,a.jsxs)(C.Zp,{children:[(0,a.jsx)(C.aR,{className:"pb-3",children:(0,a.jsxs)(C.ZB,{className:"text-sm flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),"基本設定"]})}),(0,a.jsxs)(C.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"resolution",children:"解像度"}),(0,a.jsxs)(x.l6,{value:d.resolution,onValueChange:e=>f({resolution:e}),children:[(0,a.jsx)(x.bq,{className:s?"h-10":"",children:(0,a.jsx)(x.yv,{})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"hd",children:"HD (1280\xd7720)"}),(0,a.jsx)(x.eb,{value:"fhd",children:"Full HD (1920\xd71080)"}),(0,a.jsx)(x.eb,{value:"4k",children:"4K (3840\xd72160)"}),(0,a.jsx)(x.eb,{value:"print",children:"印刷用高解像度"}),(0,a.jsx)(x.eb,{value:"custom",children:"カスタム"})]})]})]}),"custom"===d.resolution&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.J,{htmlFor:"customWidth",children:"幅 (px)"}),(0,a.jsx)(c.p,{id:"customWidth",type:"number",value:d.customWidth||"",onChange:e=>f({customWidth:parseInt(e.target.value)||void 0}),placeholder:"1920",inputMode:"numeric",className:s?"h-10":""})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(n.J,{htmlFor:"customHeight",children:"高さ (px)"}),(0,a.jsx)(c.p,{id:"customHeight",type:"number",value:d.customHeight||"",onChange:e=>f({customHeight:parseInt(e.target.value)||void 0}),placeholder:"1080",inputMode:"numeric",className:s?"h-10":""})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"quality",children:"品質"}),(0,a.jsxs)(x.l6,{value:d.quality,onValueChange:e=>{let t=Z[e];f({quality:e,pixelRatio:t.pixelRatio})},children:[(0,a.jsx)(x.bq,{className:s?"h-10":"",children:(0,a.jsx)(x.yv,{})}),(0,a.jsx)(x.gC,{children:Object.entries(Z).map(e=>{let[t,i]=e;return(0,a.jsx)(x.eb,{value:t,children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{children:i.label}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:i.description})]})},t)})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"format",children:"フォーマット"}),(0,a.jsxs)(x.l6,{value:d.format,onValueChange:e=>f({format:e}),children:[(0,a.jsx)(x.bq,{className:s?"h-10":"",children:(0,a.jsx)(x.yv,{})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"png",children:"PNG (透明背景対応)"}),(0,a.jsx)(x.eb,{value:"jpeg",children:"JPEG (軽量)"})]})]})]}),"png"===d.format&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.S,{id:"transparency",checked:d.includeTransparency,onCheckedChange:e=>f({includeTransparency:e})}),(0,a.jsx)(n.J,{htmlFor:"transparency",className:"text-sm",children:"透明背景を使用"})]}),!d.includeTransparency&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"backgroundColor",children:"背景色"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.p,{id:"backgroundColor",type:"color",value:d.backgroundColor,onChange:e=>f({backgroundColor:e.target.value}),className:"w-12 h-10 p-1 border rounded"}),(0,a.jsx)(c.p,{value:d.backgroundColor,onChange:e=>f({backgroundColor:e.target.value}),placeholder:"#ffffff",className:(0,T.cn)("flex-1",s?"h-10":"")})]})]})]})]}),d.batchExport&&d.batchSizes.length>0&&(0,a.jsxs)(C.Zp,{children:[(0,a.jsx)(C.aR,{className:"pb-3",children:(0,a.jsxs)(C.ZB,{className:"text-sm flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(V.A,{className:"h-4 w-4"}),"バッチエクスポート"]}),(0,a.jsx)("div",{className:"flex gap-1",children:(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{let e=d.batchSizes.every(e=>e.selected);f({batchSizes:d.batchSizes.map(t=>({...t,selected:!e}))})},className:"h-7 px-2 text-xs",children:d.batchSizes.every(e=>e.selected)?"全解除":"全選択"})})]})}),(0,a.jsx)(C.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"エクスポートするサイズを選択してください:"}),(0,a.jsx)("div",{className:"grid gap-1",children:d.batchSizes.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.S,{checked:e.selected,onCheckedChange:i=>{let a=[...d.batchSizes];a[t]={...e,selected:i},f({batchSizes:a})},id:"batch-size-".concat(t)}),(0,a.jsx)("label",{htmlFor:"batch-size-".concat(t),className:"cursor-pointer",children:e.name})]}),(0,a.jsxs)(W.E,{variant:"secondary",children:[e.width,"\xd7",e.height]})]},t))}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["選択済み: ",d.batchSizes.filter(e=>e.selected).length,"/",d.batchSizes.length,"サイズ"]})]})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.$,{onClick:b,disabled:i,className:(0,T.cn)("flex-1",s?"h-11":""),children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}),"エクスポート中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.A,{className:"mr-2 h-4 w-4"}),"エクスポート"]})}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>{let e=prompt("プリセット名を入力してください:");if(e){let t={...d,name:e};v(e=>[...e,t]),o.oR.success('プリセット "'.concat(e,'" を保存しました'))}},disabled:i,className:s?"h-11":"",title:"現在の設定をプリセットとして保存",children:[(0,a.jsx)($.A,{className:"h-4 w-4"}),s?"":"保存"]})]})]})},Q=e=>{let{isDesktop:t,isSidebarOpen:i,setIsSidebarOpen:s,isExporting:o,renderToolsPanel:r,handleBatchExport:n,handleAdvancedExport:c,handleAddShape:d}=e,[x,m]=l.useState("tools"),u=(0,a.jsxs)("div",{className:"h-full flex flex-col min-w-0 max-w-full overflow-x-hidden",children:[(0,a.jsx)("div",{className:"p-3 border-b border-[#4A4A4A] min-w-0",children:(0,a.jsx)("h2",{className:"text-base font-semibold text-[#A0A0A0] truncate",children:"編集・エクスポート"})}),(0,a.jsxs)(p.tU,{value:x,onValueChange:m,className:"flex-1 flex flex-col min-w-0",children:[(0,a.jsxs)(p.j7,{className:"grid w-10/12 grid-cols-2 mx-auto mt-4 min-w-0",children:[(0,a.jsxs)(p.Xi,{value:"tools",className:"text-xs p-2 min-w-0 flex-col gap-2 max-w-full",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"truncate text-xs",children:"編集"})]}),(0,a.jsxs)(p.Xi,{value:"export",className:"text-xs p-2 min-w-0 flex-col gap-2 max-w-full",children:[(0,a.jsx)(O.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"truncate text-xs",children:"エクスポート"})]})]}),(0,a.jsx)(p.av,{value:"tools",className:"flex-1 px-3 pb-3 pt-2 mt-8 min-w-0 max-w-full overflow-x-hidden overflow-y-auto",children:(0,a.jsx)("div",{className:"min-w-0 max-w-full",children:r()})}),(0,a.jsx)(p.av,{value:"export",className:"flex-1 px-3 pb-3 pt-2 mt-8 min-w-0 max-w-full overflow-x-hidden overflow-y-auto",children:(0,a.jsx)("div",{className:"min-w-0 max-w-full",children:(0,a.jsx)(Y,{onExport:n,isExporting:o})})})]})]});return t?(0,a.jsx)("div",{className:"w-1/5 border-l border-[#4A4A4A] bg-[#1A1A1A] overflow-y-auto overflow-x-hidden",children:u}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.R,{onOpen:()=>s(!0),className:"fixed top-4 right-4 z-40 lg:hidden"}),(0,a.jsx)(w.B,{isOpen:i,onClose:()=>s(!1),title:"編集・エクスポート",children:u})]})};var ee=i(44647),et=i(38825),ei=i(15025),ea=i(84885),el=i(73308);let es=e=>{let{isDesktop:t,isPreviewDedicatedMode:i,setIsPreviewDedicatedMode:l,zoom:s,setZoom:o,onFitToScreen:n,canUndo:c,canRedo:d,showGrid:x,setShowGrid:m,showAspectGuide:p,setShowAspectGuide:u,showSafeArea:h,setShowSafeArea:g,showCenterLines:v,setShowCenterLines:f,handleToolbarUndo:j,handleToolbarRedo:b,handleSave:_,handleDownloadThumbnail:S}=e;return(0,a.jsxs)(a.Fragment,{children:[t&&(0,a.jsx)(el.M,{zoom:s,setZoom:o,onFitToScreen:n,onUndo:j,onRedo:b,onSave:_,onDownload:S,canUndo:c,canRedo:d,isPreviewDedicatedMode:i,onTogglePreviewMode:()=>l(!i),showGrid:x,setShowGrid:m,showAspectGuide:p,setShowAspectGuide:u,showSafeArea:h,setShowSafeArea:g,showCenterLines:v,setShowCenterLines:f}),!t&&i&&(0,a.jsx)("div",{className:"absolute top-2 left-2 z-20",children:(0,a.jsxs)(r.$,{size:"sm",variant:"outline",onClick:()=>l(!1),className:"bg-background/90 backdrop-blur-sm shadow-lg",children:[(0,a.jsx)(ea.A,{className:"h-4 w-4 mr-1"}),"通常表示に戻る"]})})]})};var eo=i(30417),er=i(5952);let en=e=>{let{isDesktop:t,isPreviewDedicatedMode:i,setIsPreviewDedicatedMode:l,selectedTab:s,setSelectedTab:o,showGrid:n,setShowGrid:c,showAspectGuide:d,setShowAspectGuide:x,showSafeArea:m,setShowSafeArea:u,showCenterLines:h,setShowCenterLines:g,gridSize:v,setGridSize:f,zoom:j,setZoom:b,onFitToScreen:_,baseSizeRef:S,layers:w,selectedLayerId:y,setSelectedLayerId:A,updateLayer:N,removeLayer:C,duplicateLayer:T,moveLayerUp:R,moveLayerDown:z,reorderLayers:I,addLayer:F,aspectRatio:k,customAspectRatio:K,isShiftKeyDown:E,handleLayerDragStop:D,handleLayerResize:J,handleToolbarUndo:O,handleToolbarRedo:P,handleSave:W,handleDownloadThumbnail:M,canUndo:G,canRedo:U,handleAddShape:B,renderToolsPanel:q}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,a.jsx)(es,{isDesktop:t,isPreviewDedicatedMode:i,setIsPreviewDedicatedMode:l,zoom:j,setZoom:b,onFitToScreen:_,canUndo:G,canRedo:U,showGrid:n,setShowGrid:c,showAspectGuide:d,setShowAspectGuide:x,showSafeArea:m,setShowSafeArea:u,showCenterLines:h,setShowCenterLines:g,handleToolbarUndo:O,handleToolbarRedo:P,handleSave:W,handleDownloadThumbnail:M}),(0,a.jsx)("div",{className:"flex-1 min-h-0 overflow-auto bg-[#1A1A1A] relative custom-scrollbar","data-preview-container":"true",children:(0,a.jsx)("div",{className:"flex items-start justify-center p-4 lg:p-8",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("div",{id:"thumbnail-preview",style:{width:"".concat(S.current*j,"px"),aspectRatio:"custom"===k?"".concat(K.width,"/").concat(K.height):(k||"16:9").replace(":","/"),margin:"0 auto",transition:"width 0.2s ease-in-out"},className:"bg-card relative border rounded-md shadow-lg",children:[(0,a.jsx)("div",{id:"download-target",className:"w-full h-full relative overflow-hidden",children:w.map(e=>{let t=e.id===y,i=t&&!e.locked,l=t&&!e.locked;return e.visible?"image"===e.type?(0,a.jsx)(et.A,{id:e.id,isSelected:t,src:e.src||"",alt:e.name,x:e.x,y:e.y,width:e.width,height:e.height,rotation:e.rotation,onDragStop:(t,i)=>D(e.id,t,i),onResize:(t,i,a,l,s)=>J(e.id,i,a,l,s),onResizeStop:(t,i,a,l,s)=>J(e.id,i,a,l,s),lockAspectRatio:E,enableResizing:l,disableDragging:!i,onSelect:()=>A(e.id),isLocked:e.locked,isDraggable:i,onRotateStart:()=>{},onRotate:()=>{},onRotateStop:()=>{},isBackground:e.isBackground,zIndex:e.zIndex,updateLayer:N},e.id):"text"===e.type?(0,a.jsx)(ee.A,{id:e.id,isSelected:t,text:e.text||"",color:e.color||"#000000",fontSize:e.fontSize||"1rem",fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontStyle:e.fontStyle,textDecoration:e.textDecoration,textShadow:e.textShadow,x:e.x,y:e.y,width:e.width,height:e.height,rotation:e.rotation,onDragStop:(t,i)=>D(e.id,t,i),onResizeStop:(t,i,a,l,s)=>J(e.id,i,a,l,s),enableResizing:l,disableDragging:!i,zIndex:e.zIndex,updateLayer:N},e.id):"shape"===e.type&&e.shapeType?(0,a.jsx)(ei.A,{id:e.id,isSelected:t,shapeType:e.shapeType,backgroundColor:e.backgroundColor||"#cccccc",borderColor:e.borderColor||"#000000",borderWidth:e.borderWidth||0,x:e.x,y:e.y,width:e.width,height:e.height,rotation:e.rotation,onDragStop:(t,i)=>D(e.id,t,i),onResize:(t,i,a,l,s)=>J(e.id,i,a,l,s),onResizeStop:(t,i,a,l,s)=>J(e.id,i,a,l,s),lockAspectRatio:E,enableResizing:l,disableDragging:!i,zIndex:e.zIndex,updateLayer:N},e.id):null:null})}),(0,a.jsxs)("div",{className:"absolute inset-0 pointer-events-none",children:[n&&(0,a.jsx)("div",{className:"absolute inset-0 opacity-60",style:{backgroundImage:"\n                        linear-gradient(rgba(136, 218, 255, 0.25) 1px, transparent 1px),\n                        linear-gradient(90deg, rgba(136, 218, 255, 0.25) 1px, transparent 1px)\n                      ",backgroundSize:"".concat(v*j,"px ").concat(v*j,"px"),filter:"drop-shadow(0 0 1px rgba(136, 218, 255, 0.3))"},"aria-hidden":"true"}),d&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"border-2 border-dashed border-cyan-400/80 bg-cyan-400/10 rounded shadow-lg",style:{width:"90%",height:"90%",aspectRatio:"custom"===k?"".concat(K.width,"/").concat(K.height):k||"16:9"},"aria-hidden":"true"})}),m&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"border-2 border-dashed border-emerald-400/85 bg-emerald-400/10 rounded shadow-lg",style:{width:"95%",height:"95%",aspectRatio:"custom"===k?"".concat(K.width,"/").concat(K.height):k||"16:9"},"aria-hidden":"true"})}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-full h-0.5 bg-rose-400/85 shadow-sm","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"h-full w-0.5 bg-rose-400/85 shadow-sm","aria-hidden":"true"})})]})]})]})})})})]}),!t&&(0,a.jsx)("div",{className:"border-t bg-background max-h-[40vh] overflow-y-auto",children:(0,a.jsx)("div",{className:"p-2 lg:p-4 space-y-3",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-muted-foreground",children:"クイックアクセス"}),(0,a.jsxs)(p.tU,{value:s,onValueChange:o,className:"w-full max-h-[40vh] flex flex-col",children:[(0,a.jsxs)(p.j7,{className:"w-full h-16 items-center justify-center rounded-md bg-secondary p-1 text-secondary-foreground",children:[(0,a.jsx)(p.Xi,{value:"tools",className:"flex-1 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-xs font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"ツール設定"}),(0,a.jsx)(p.Xi,{value:"layers",className:"flex-1 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-xs font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"レイヤー管理"}),(0,a.jsx)(p.Xi,{value:"edit",className:"flex-1 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-xs font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"編集"}),(0,a.jsx)(p.Xi,{value:"display",className:"flex-1 inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-2 text-xs font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",children:"表示設定"})]}),(0,a.jsx)(p.av,{value:"tools",className:"mt-4 flex-1 overflow-y-auto",children:q()}),(0,a.jsx)(p.av,{value:"layers",className:"mt-4 flex-1 overflow-y-auto",children:(0,a.jsx)(L.G,{context:{layers:w,updateLayer:N,removeLayer:C,selectedLayerId:y,setSelectedLayerId:A,reorderLayers:I,duplicateLayer:T,addLayer:F,moveLayerUp:R,moveLayerDown:z},onShapeSelect:e=>B(e),showShapeSelector:!0})}),(0,a.jsx)(p.av,{value:"edit",className:"mt-4 flex-1 overflow-y-auto",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"レイヤー操作"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>T(y),children:"複製"}),(0,a.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>C(y),children:"削除"}),(0,a.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>R(y),children:"最前面"}),(0,a.jsx)(r.$,{size:"sm",variant:"outline",onClick:()=>z(y),children:"最背面"})]})]}),(0,a.jsx)(eo.p,{selectedLayer:w.find(e=>e.id===y)||null,onUpdateLayer:N,className:"mt-4"})]})}),(0,a.jsx)(p.av,{value:"display",className:"mt-4 flex-1 overflow-y-auto",children:(0,a.jsx)(er.a,{zoom:j,onZoomChange:b,showGrid:n,onShowGridChange:c,showGuides:h,onShowGuidesChange:g,showSafeArea:m,onShowSafeAreaChange:u,showAspectGuide:d,onShowAspectGuideChange:x,gridSize:v,onGridSizeChange:f})})]})]})})})]})};var ec=i(11860),ed=i(40369),ex=i(51431),em=i(12786);function ep(){let{isOpen:e,setIsOpen:t,isDesktop:p}=(0,h.c)({defaultOpen:!1,desktopDefaultOpen:!0}),{isOpen:v,setIsOpen:f}=(0,h.c)({defaultOpen:!1,desktopDefaultOpen:!0}),[j,b]=l.useState("settings"),[S,w]=l.useState(!1),[y,A]=l.useState(!1),[N,C]=l.useState(!1),[T,R]=l.useState(!0),[z,I]=l.useState(!1),[k,K]=l.useState(!1),[E,L]=l.useState(20),[J,O]=l.useState(!1),{handleAsyncError:P}=(0,g.u)(),{selectedTemplate:W,setSelectedTemplate:M,currentText:G,setCurrentText:U,layers:B,addLayer:q,removeLayer:V,updateLayer:$,selectedLayerId:H,setSelectedLayerId:X,reorderLayers:Z,duplicateLayer:Y,moveLayerUp:ee,moveLayerDown:et,aspectRatio:ei,customAspectRatio:ea,restoreState:el}=_(),es=B.find(e=>e.id===H);l.useEffect(()=>{es&&(0,ec.Nt)(es)&&es.textShadow&&"none"!==es.textShadow?O(!0):O(!1)},[es]),l.useCallback(()=>{if(!p)return y?{width:"98vw",maxWidth:"none"}:{width:"90vw",maxWidth:"none"};if(y){let e=Math.min(.95*window.innerWidth,2400),t=Math.min(.85*window.innerHeight,1600);return{width:"".concat(e,"px"),maxWidth:"none",maxHeight:"".concat(t,"px")}}return e||v?{width:"min(1600px, 80vw)",maxWidth:"none"}:{width:"min(1800px, 90vw)",maxWidth:"none"}},[p,y,e,v]);let eo=((e,t,i)=>{let[a,s]=(0,l.useState)(1),[o,r]=(0,l.useState)(e),[n,c]=(0,l.useState)(t),[d,x]=(0,l.useState)([{layers:e,selectedLayerId:t}]),m=(0,l.useRef)(0),[p,u]=(0,l.useState)(!1),[h,g]=(0,l.useState)(!1),v=(0,l.useRef)(!1),f=(0,l.useCallback)((e,t)=>{if(v.current)return;console.log("Adding to history:",{layers:e.length,selectedLayerId:t});let i={layers:[...e],selectedLayerId:t};x(e=>{let t=e.slice(0,m.current+1);return t.push(i),t.length>50?(t.shift(),m.current=Math.max(0,m.current-1)):m.current+=1,u(m.current>0),g(!1),console.log("History updated:",{totalHistory:t.length,currentIndex:m.current,canUndo:m.current>0,canRedo:!1}),t})},[]),j=(0,l.useCallback)(()=>{if(console.log("undo called:",{currentIndex:m.current,historyLength:d.length,canUndo:p}),m.current>=d.length&&(console.log("Index out of bounds, adjusting to:",d.length-1),m.current=d.length-1),m.current>0&&m.current<d.length){let e=m.current-1;if(e>=0&&e<d.length){let t=d[e];return t?(m.current=e,v.current=!0,u(e>0),g(e<d.length-1),console.log("Undoing to index:",e,"layers:",t.layers.length),r([...t.layers]),c(t.selectedLayerId),i&&i(t.layers,t.selectedLayerId),setTimeout(()=>{v.current=!1},100),t):(console.error("History state not found at index:",e,{history:d,newIndex:e,currentIndex:m.current}),null)}console.error("Invalid newIndex:",e,"history length:",d.length)}return null},[d,i,p]),b=(0,l.useCallback)(()=>{if(console.log("redo called:",{currentIndex:m.current,historyLength:d.length,canRedo:h}),m.current>=d.length&&(console.log("Index out of bounds, adjusting to:",d.length-1),m.current=d.length-1),m.current>=0&&m.current<d.length-1){let e=m.current+1;if(e>=0&&e<d.length){let t=d[e];return t?(m.current=e,v.current=!0,u(!0),g(e<d.length-1),console.log("Redoing to index:",e,"layers:",t.layers.length),r([...t.layers]),c(t.selectedLayerId),i&&i(t.layers,t.selectedLayerId),setTimeout(()=>{v.current=!1},100),t):(console.error("History state not found at index:",e,{history:d,newIndex:e,currentIndex:m.current}),null)}console.error("Invalid newIndex:",e,"history length:",d.length)}return null},[d,i,h]),_=(0,l.useCallback)(()=>{v.current=!1},[]);return{zoom:a,setZoom:s,currentLayers:o,currentSelectedLayerId:n,undo:j,redo:b,canUndo:p,canRedo:h,addToHistory:f,resetHistoryFlag:_,saveToLocalStorage:(0,l.useCallback)((e,t)=>{try{let i={layers:e,selectedLayerId:t,timestamp:new Date().toISOString()};return localStorage.setItem("asset-creator-save",JSON.stringify(i)),!0}catch(e){return F.vF.error("保存失敗",e,"useCanvasOperations"),!1}},[]),loadFromLocalStorage:(0,l.useCallback)(()=>{try{let e=localStorage.getItem("asset-creator-save");if(e)return JSON.parse(e)}catch(e){F.vF.error("ロード失敗",e,"useCanvasOperations")}return null},[])}})(B,H,el),{zoom:er,setZoom:ep,addToHistory:eu,saveToLocalStorage:eh,loadFromLocalStorage:eg}=eo,{isShiftKeyDown:ev,canUndo:ef,canRedo:ej}=(e=>{let{canvasOperations:t}=e;console.log("useKeyboardShortcuts hook called");let i=_();console.log("Canvas operations state:",{canUndo:t.canUndo,canRedo:t.canRedo,selectedLayerId:i.selectedLayerId});let[a,s]=(0,l.useState)(!1),{selectedLayerId:r,setSelectedLayerId:n,removeLayer:c,duplicateLayer:d}=i,{undo:x,redo:m,canUndo:p,canRedo:u}=t;console.log("Keyboard shortcuts state:",{canUndo:p,canRedo:u,selectedLayerId:r,canvasOperationsCanUndo:t.canUndo,canvasOperationsCanRedo:t.canRedo});let h=(0,l.useCallback)(e=>{if("Shift"===e.key)return void s(!0);let a=t.canUndo,l=t.canRedo;if(e.ctrlKey||e.metaKey)switch(e.key){case"z":e.preventDefault(),console.log("Ctrl+Z pressed",{canUndo:a,canRedo:l,shiftKey:e.shiftKey}),e.shiftKey?l?(console.log("Executing redo"),m()&&o.oR.success("やり直しました")):console.log("Cannot redo"):a?(console.log("Executing undo"),x()&&o.oR.success("元に戻しました")):console.log("Cannot undo");break;case"y":e.preventDefault(),console.log("Ctrl+Y pressed",{canRedo:l}),l?(console.log("Executing redo"),m()&&o.oR.success("やり直しました")):console.log("Cannot redo");break;case"d":e.preventDefault(),r&&(d(r),o.oR.success("レイヤーを複製しました"));break;case"Delete":case"Backspace":e.preventDefault(),r&&(c(r),o.oR.success("レイヤーを削除しました"));break;case"s":e.preventDefault(),t.saveToLocalStorage(i.layers,i.selectedLayerId)?o.oR.success("プロジェクトを保存しました"):o.oR.error("保存に失敗しました")}switch(e.key){case"Delete":case"Backspace":!r||e.ctrlKey||e.metaKey||(c(r),o.oR.success("レイヤーを削除しました"));break;case"Escape":r&&n(null)}},[t,i,r,n,c,d,x,m,s]),g=(0,l.useCallback)(e=>{"Shift"===e.key&&s(!1)},[s]);return(0,l.useEffect)(()=>(window.addEventListener("keydown",h),window.addEventListener("keyup",g),()=>{window.removeEventListener("keydown",h),window.removeEventListener("keyup",g)}),[h,g]),{isShiftKeyDown:a,canUndo:p,canRedo:u}})({canvasOperations:eo}),eb=l.useCallback(e=>e>=2||e>=1.5?.96:e>=1.2?.95:e>=.9?.9:e>=.6?.5:.9,[]),e_=l.useRef(400),eS=l.useCallback(()=>{let e,t,i,a=document.querySelector('[data-preview-container="true"]');if(!a)return 400;let l=a.getBoundingClientRect();if(l.width<=0||l.height<=0)return e_.current;if("custom"===ei)e=ea.width/ea.height;else{let[t,i]=ei.split(":").map(Number);e=t/i}let s=eb(e),o=Math.max((l.width-12)*s,200),r=Math.max((l.height-12)*s,150),n=o/e,c=r*e;return n<=r?(t=o,i=n):(t=c,i=r),F.vF.info("基準サイズ計算完了",{aspectRatio:ei,aspectRatioValue:e.toFixed(2),optimalSize:{width:t.toFixed(1),height:i.toFixed(1)},calculatedBaseSize:t.toFixed(1)},"calculateBaseSize"),t},[ei,ea,p,eb]);l.useEffect(()=>{e_.current=eS(),ep(1)},[ei,ea,eS,ep]);let ew=l.useCallback(()=>{ep(1)},[ep]);l.useEffect(()=>{let e,t=()=>{e_.current=eS(),ep(1)},i=()=>{clearTimeout(e),e=setTimeout(t,150)};return window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i),clearTimeout(e)}},[eS,ep]),l.useEffect(()=>{let e=e=>{if(e.ctrlKey||e.metaKey){e.preventDefault();let t=e.deltaY>0?"out":"in",i=[.1,.25,.5,.75,1,1.5,2,3],a=(e,t)=>"in"===t?i.find(t=>t>e)||Math.min(e+.25,3):[...i].reverse().find(t=>t<e)||Math.max(e-.25,.1),l=document.querySelector('[data-preview-container="true"]'),s=document.getElementById("thumbnail-preview");l&&s&&e_.current>0?ep(i=>{let o,r=a(i,t),n=e.clientX,c=e.clientY,d=l.getBoundingClientRect(),x=l.scrollLeft,m=l.scrollTop,p=n-d.left+x,u=c-d.top+m,h=s.getBoundingClientRect(),g=h.left-d.left+x,v=h.top-d.top+m,f=r/i,j=e_.current*i,b=e_.current*r;if("custom"===ei)o=ea.width/ea.height;else{let[e,t]=ei.split(":").map(Number);o=e/t}let _=j/o,S=b/o,w=g-(b-j)/2+(p-g)*f-(n-d.left),y=v-(S-_)/2+(u-v)*f-(c-d.top);return requestAnimationFrame(()=>{requestAnimationFrame(()=>{l&&(l.scrollLeft=Math.max(0,w),l.scrollTop=Math.max(0,y))})}),r}):ep(e=>a(e,t))}},t=document.getElementById("thumbnail-preview");if(t)return t.addEventListener("wheel",e,{passive:!1}),()=>{t.removeEventListener("wheel",e)}},[ep,ei,ea]);let ey=l.useRef(B);l.useEffect(()=>{let e=ey.current;console.log("=== LAYERS EFFECT TRIGGERED ==="),console.log("Layers effect triggered:",{prev:e.length,current:B.length,selectedLayerId:H,canUndo:ef,canRedo:ej,prevLayers:e.map(e=>({id:e.id,type:e.type})),currentLayers:B.map(e=>({id:e.id,type:e.type}))}),B.length!==e.length?(console.log("*** LAYERS COUNT CHANGED ***"),console.log("Layers count changed, saving to history:",{prev:e.length,current:B.length,selectedLayerId:H}),setTimeout(()=>{console.log("*** EXECUTING DELAYED HISTORY SAVE ***"),eu(B,H)},100)):console.log("Layers count unchanged, skipping history save"),ey.current=B,console.log("=== END LAYERS EFFECT ===")},[B,H,eu,ef,ej]),l.useEffect(()=>{p?(t(!0),f(!0)):(t(!1),f(!1))},[p,t,f]);let eA=l.useCallback(async(e,t)=>{w(!0);try{await P(async()=>{let a,l,r={width:1920,height:1080};switch(t.resolution){case"hd":r={width:1280,height:720};break;case"fhd":r={width:1920,height:1080};break;case"4k":r={width:3840,height:2160};break;case"print":r={width:2480,height:3508};break;case"custom":t.customWidth&&t.customHeight&&(r={width:t.customWidth,height:t.customHeight})}if("custom"!==ei){let[e,t]=ei.split(":").map(Number);e>0&&t>0&&(r.width=Math.round(r.height*(e/t)))}else if(ea.width>0&&ea.height>0){let e=ea.width/ea.height;r.width=Math.round(r.height*e)}let n={cacheBust:!0,pixelRatio:t.pixelRatio||2,quality:"png"===t.format?1:.9,backgroundColor:t.backgroundColor||(t.includeTransparency?"transparent":"#ffffff"),width:r.width,height:r.height,style:{transform:"scale(1)",transformOrigin:"top left"}};if("png"===t.format)a=await (0,s.$E)(e,n),l="asset-".concat(t.optimizeForPlatform,"-").concat(r.width,"x").concat(r.height,".png");else if("jpeg"===t.format){let{toJpeg:s}=await Promise.resolve().then(i.bind(i,26059));a=await s(e,n),l="asset-".concat(t.optimizeForPlatform,"-").concat(r.width,"x").concat(r.height,".jpg")}else a=await (0,s.$E)(e,n),l="asset-".concat(t.optimizeForPlatform,"-").concat(r.width,"x").concat(r.height,".png");let c=document.createElement("a");c.download=l,c.href=a,c.click(),o.oR.success("".concat(l," をエクスポートしました"))},"エクスポートに失敗しました")}finally{w(!1)}},[ei,ea,P]),eN=l.useCallback(async(e,t)=>{w(!0);try{let a=t.batchSizes.filter(e=>e.selected);if(0===a.length)return void o.oR.error("エクスポートするサイズを選択してください");let l=a.map(async a=>{let l,o,r={cacheBust:!0,pixelRatio:t.pixelRatio||2,quality:"png"===t.format?1:.9,backgroundColor:t.backgroundColor||(t.includeTransparency?"transparent":"#ffffff"),width:a.width,height:a.height};if("png"===t.format)l=await (0,s.$E)(e,r),o="asset-".concat(a.platform,"-").concat(a.width,"x").concat(a.height,".png");else if("jpeg"===t.format){let{toJpeg:t}=await Promise.resolve().then(i.bind(i,26059));l=await t(e,r),o="asset-".concat(a.platform,"-").concat(a.width,"x").concat(a.height,".jpg")}else l=await (0,s.$E)(e,r),o="asset-".concat(a.platform,"-").concat(a.width,"x").concat(a.height,".png");let n=document.createElement("a");return n.download=o,n.href=l,n.click(),o}),r=await Promise.all(l);o.oR.success("".concat(r.length,"個のファイルをエクスポートしました"))}catch(e){F.vF.error("Batch export failed",e,"AssetCreator"),o.oR.error("バッチエクスポートに失敗しました")}finally{w(!1)}},[]),eC=l.useCallback(async e=>{let t=document.getElementById("download-target");if(!t)return void o.oR.error("プレビューエリアが見つかりません");try{await eA(t,{resolution:"super"===e?"4k":"high"===e?"fhd":"hd",quality:"high",format:"png",pixelRatio:"super"===e?4:"high"===e?2:1,backgroundColor:"#ffffff",includeTransparency:!1,optimizeForPlatform:"general",batchExport:!1,batchSizes:[]})}catch(e){F.vF.error("Export failed",e,"AssetCreator"),o.oR.error("エクスポートに失敗しました")}},[eA]),eT=l.useCallback((e,t,i)=>{$(e,{x:i.x,y:i.y})},[$]),eR=l.useCallback((e,t,i,a,l)=>{$(e,{width:i.offsetWidth,height:i.offsetHeight,x:l.x,y:l.y})},[$]),ez=e=>{let t=B.filter(e=>"shape"===e.type).length*(p?20:5),i=B.filter(t=>"shape"===t.type&&"shapeType"in t&&t.shapeType===e).length+1,a="",l=p?550:10,s=p?250:10,o=p?300:50,r=p?300:50,n=p?2:1,c=p?300:100,d=p?5:3;switch(e){case"rectangle":a="四角 ".concat(i);break;case"circle":a="円 ".concat(i);break;case"line":a="線 ".concat(i);break;case"arrow":a="矢印 ".concat(i)}q({type:"shape",shapeType:e,name:a,visible:!0,locked:!1,x:l+t,y:s+t,width:"line"===e||"arrow"===e?c:o,height:"line"===e||"arrow"===e?d:r,backgroundColor:"#cccccc",borderColor:"#000000",borderWidth:n})},eI=l.useCallback(()=>{eh(B,H)?o.oR.success("プロジェクトを保存しました"):o.oR.error("保存に失敗しました")},[eh,B,H]),eF=l.useCallback(()=>{console.log("Toolbar undo button clicked"),eo.undo()?o.oR.success("元に戻しました"):console.log("Undo failed - no history to undo")},[eo.undo]),ek=l.useCallback(()=>{console.log("Toolbar redo button clicked"),eo.redo()?o.oR.success("やり直しました"):console.log("Redo failed - no history to redo")},[eo.redo]);if(!W)return(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(u.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4 animate-spin mx-auto","aria-hidden":"true"}),(0,a.jsx)("p",{className:"text-[#E0E0E0] text-lg font-semibold",children:"テンプレートを読み込み中..."}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"しばらくお待ちください。"})]})});let eK=()=>{var e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"基本情報"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"レイヤー名"}),(0,a.jsx)(c.p,{value:(null==es?void 0:es.name)||"",onChange:e=>es&&$(es.id,{name:e.target.value}),className:"mt-1",placeholder:"レイヤー名を入力",disabled:!es})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"X座標"}),(0,a.jsx)(c.p,{type:"number",value:(null==es?void 0:es.x)||0,onChange:e=>es&&$(es.id,{x:Number(e.target.value)}),className:"mt-1",disabled:!es})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"Y座標"}),(0,a.jsx)(c.p,{type:"number",value:(null==es?void 0:es.y)||0,onChange:e=>es&&$(es.id,{y:Number(e.target.value)}),className:"mt-1",disabled:!es})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"幅"}),(0,a.jsx)(c.p,{type:"number",value:(null==es?void 0:es.width)||0,onChange:e=>es&&$(es.id,{width:Number(e.target.value)}),className:"mt-1",disabled:!es})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"高さ"}),(0,a.jsx)(c.p,{type:"number",value:(null==es?void 0:es.height)||0,onChange:e=>es&&$(es.id,{height:Number(e.target.value)}),className:"mt-1",disabled:!es})]})]})]})]}),es&&(0,ec.Nt)(es)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"テキスト設定"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"テキスト"}),(0,a.jsx)(m.T,{value:es.text||"",onChange:e=>$(es.id,{text:e.target.value}),className:"mt-1 min-h-[80px] resize-none",placeholder:"テキストを入力してください"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"フォントサイズ"}),(0,a.jsx)(d.A,{value:[parseFloat((null==(e=es.fontSize)?void 0:e.replace("rem",""))||"2")],onValueChange:e=>{let[t]=e;return $(es.id,{fontSize:"".concat(t,"rem")})},min:.5,max:8,step:.1,className:"mt-2"}),(0,a.jsx)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:es.fontSize||"2rem"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"色"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("input",{type:"color",value:es.color||"#ffffff",onChange:e=>$(es.id,{color:e.target.value}),className:"w-8 h-8 rounded border border-[#4A4A4A]"}),(0,a.jsx)(c.p,{value:es.color||"#ffffff",onChange:e=>$(es.id,{color:e.target.value}),className:"flex-1"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h5",{className:"text-sm font-medium text-[#E0E0E0]",children:"フォント設定"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"フォントファミリー"}),(0,a.jsx)(ed.R,{value:es.fontFamily||"Arial, sans-serif",onValueChange:e=>$(es.id,{fontFamily:e})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"フォントウェイト"}),(0,a.jsxs)(x.l6,{value:es.fontWeight||"normal",onValueChange:e=>$(es.id,{fontWeight:e}),children:[(0,a.jsx)(x.bq,{className:"h-8 text-xs",children:(0,a.jsx)(x.yv,{})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"normal",children:"通常"}),(0,a.jsx)(x.eb,{value:"bold",children:"太字"}),(0,a.jsx)(x.eb,{value:"lighter",children:"細字"}),(0,a.jsx)(x.eb,{value:"100",children:"100"}),(0,a.jsx)(x.eb,{value:"300",children:"300"}),(0,a.jsx)(x.eb,{value:"400",children:"400"}),(0,a.jsx)(x.eb,{value:"500",children:"500"}),(0,a.jsx)(x.eb,{value:"600",children:"600"}),(0,a.jsx)(x.eb,{value:"700",children:"700"}),(0,a.jsx)(x.eb,{value:"800",children:"800"}),(0,a.jsx)(x.eb,{value:"900",children:"900"})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"フォントスタイル"}),(0,a.jsxs)(x.l6,{value:es.fontStyle||"normal",onValueChange:e=>$(es.id,{fontStyle:e}),children:[(0,a.jsx)(x.bq,{className:"h-8 text-xs",children:(0,a.jsx)(x.yv,{})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"normal",children:"通常"}),(0,a.jsx)(x.eb,{value:"italic",children:"イタリック"}),(0,a.jsx)(x.eb,{value:"oblique",children:"斜体"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"文字装飾"}),(0,a.jsxs)(x.l6,{value:es.textDecoration||"none",onValueChange:e=>$(es.id,{textDecoration:e}),children:[(0,a.jsx)(x.bq,{className:"h-8 text-xs",children:(0,a.jsx)(x.yv,{})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"none",children:"なし"}),(0,a.jsx)(x.eb,{value:"underline",children:"下線"}),(0,a.jsx)(x.eb,{value:"line-through",children:"取り消し線"}),(0,a.jsx)(x.eb,{value:"overline",children:"上線"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"文字シャドウ"}),(0,a.jsx)(r.$,{size:"sm",variant:J?"default":"outline",onClick:()=>{let e=!J;O(e),e?$(es.id,{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"}):$(es.id,{textShadow:"none"})},className:"h-6 px-3 text-xs",children:J?"ON":"OFF"})]}),J&&(()=>{let e=(0,em.T)(es.textShadow),t=(e,t)=>{let i={...(0,em.T)(es.textShadow),[e]:t},a=(0,em.A)(i.x,i.y,i.blur,i.color,i.opacity);$(es.id,{textShadow:a})};return(0,a.jsxs)("div",{className:"space-y-3 pl-2 border-l-2 border-[#4A4A4A]",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"水平位置（X）"}),(0,a.jsx)(d.A,{value:[e.x],onValueChange:e=>{let[i]=e;return t("x",i)},min:-20,max:20,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:[e.x,"px"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"垂直位置（Y）"}),(0,a.jsx)(d.A,{value:[e.y],onValueChange:e=>{let[i]=e;return t("y",i)},min:-20,max:20,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:[e.y,"px"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"ぼかし"}),(0,a.jsx)(d.A,{value:[e.blur],onValueChange:e=>{let[i]=e;return t("blur",i)},min:0,max:30,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:[e.blur,"px"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"影の色"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("input",{type:"color",value:e.color,onChange:e=>t("color",e.target.value),className:"w-10 h-8 rounded border border-[#4A4A4A]"}),(0,a.jsx)(c.p,{value:e.color,onChange:e=>t("color",e.target.value),className:"h-8 text-xs"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0]",children:"不透明度"}),(0,a.jsx)(d.A,{value:[100*e.opacity],onValueChange:e=>{let[i]=e;return t("opacity",i/100)},min:0,max:100,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:[Math.round(100*e.opacity),"%"]})]})]})})()]})]})]})]}),es&&(0,ec.pz)(es)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"画像設定"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"画像を変更"}),(0,a.jsx)(c.p,{type:"file",accept:"image/*",onChange:e=>{var t;let i=null==(t=e.target.files)?void 0:t[0];if(i){let e=URL.createObjectURL(i);$(es.id,{src:e})}},className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"不透明度"}),(0,a.jsx)(d.A,{value:[es.opacity||100],onValueChange:e=>{let[t]=e;return $(es.id,{opacity:t})},min:0,max:100,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:[es.opacity||100,"%"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"回転角度"}),(0,a.jsx)(d.A,{value:[es.rotation||0],onValueChange:e=>{let[t]=e;return $(es.id,{rotation:t})},min:-180,max:180,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:[es.rotation||0,"\xb0"]})]})]})]}),es&&(0,ec.jS)(es)&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-medium",children:"図形設定"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"図形の種類"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(ex.X,{value:es.shapeType||"rectangle",onChange:e=>$(es.id,{shapeType:e})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"塗りつぶし色"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("input",{type:"color",value:es.backgroundColor||"#000000",onChange:e=>$(es.id,{backgroundColor:e.target.value}),className:"w-8 h-8 rounded border border-[#4A4A4A]"}),(0,a.jsx)(c.p,{value:es.backgroundColor||"#000000",onChange:e=>$(es.id,{backgroundColor:e.target.value}),className:"flex-1"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"境界線色"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("input",{type:"color",value:es.borderColor||"#000000",onChange:e=>$(es.id,{borderColor:e.target.value}),className:"w-8 h-8 rounded border border-[#4A4A4A]"}),(0,a.jsx)(c.p,{value:es.borderColor||"#000000",onChange:e=>$(es.id,{borderColor:e.target.value}),className:"flex-1"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.J,{className:"text-sm font-medium",children:"境界線の太さ"}),(0,a.jsx)(d.A,{value:[es.borderWidth||0],onValueChange:e=>{let[t]=e;return $(es.id,{borderWidth:t})},min:0,max:20,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] text-center mt-1",children:[es.borderWidth||0,"px"]})]})]})]}),!es&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"レイヤーを選択してください"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"レイヤーパネルからレイヤーを選択すると、ここで詳細設定ができます"})]})]})};return(0,a.jsxs)("div",{className:"relative flex flex-col lg:h-screen",children:[e&&!p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>t(!1)}),v&&!p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>f(!1)}),(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:h-full lg:overflow-hidden",children:[!y&&(0,a.jsx)(D,{isDesktop:p,isSidebarOpen:e,setIsSidebarOpen:t,layers:B,updateLayer:$,removeLayer:V,selectedLayerId:H,setSelectedLayerId:X,reorderLayers:Z,duplicateLayer:Y,addLayer:q,moveLayerUp:ee,moveLayerDown:et,selectedTemplate:W,setSelectedTemplate:M}),(0,a.jsxs)("main",{className:y?"w-full flex flex-col min-w-0 overflow-hidden":"w-3/5 flex flex-col min-w-0 overflow-hidden",children:[(0,a.jsx)("div",{className:"flex-1 flex flex-col min-h-0 ".concat(p?"p-6":"p-2 pt-16"),children:(0,a.jsx)("div",{className:"flex-1 flex flex-col min-h-0",children:(0,a.jsx)(en,{isDesktop:p,isPreviewDedicatedMode:y,setIsPreviewDedicatedMode:A,selectedTab:j,setSelectedTab:b,showGrid:N,setShowGrid:C,showAspectGuide:T,setShowAspectGuide:R,showSafeArea:z,setShowSafeArea:I,showCenterLines:k,setShowCenterLines:K,gridSize:E,setGridSize:L,zoom:er,setZoom:ep,onFitToScreen:ew,baseSizeRef:e_,layers:B,selectedLayerId:H,setSelectedLayerId:X,updateLayer:$,removeLayer:V,duplicateLayer:Y,moveLayerUp:ee,moveLayerDown:et,reorderLayers:Z,addLayer:q,aspectRatio:ei,customAspectRatio:ea,isShiftKeyDown:ev,handleLayerDragStop:eT,handleLayerResize:eR,handleToolbarUndo:eF,handleToolbarRedo:ek,handleSave:eI,handleDownloadThumbnail:eC,canUndo:ef,canRedo:ej,handleAddShape:ez,renderToolsPanel:eK})})}),!p&&!y&&(0,a.jsx)("div",{className:"border-t bg-background/95 backdrop-blur-sm",children:(0,a.jsx)("div",{className:"p-2 flex justify-between items-center",children:!y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>t(!0),className:"text-xs bg-[#2D2D2D] text-[#A0A0A0] px-3 py-2 rounded border border-[#4A4A4A]",children:"\uD83D\uDCC1 テンプレート・レイヤー"}),(0,a.jsx)("button",{onClick:()=>f(!0),className:"text-xs bg-[#2D2D2D] text-[#A0A0A0] px-3 py-2 rounded border border-[#4A4A4A]",children:"\uD83D\uDEE0️ ツール・エクスポート"})]})})})]}),!y&&(0,a.jsx)(Q,{isDesktop:p,isSidebarOpen:v,setIsSidebarOpen:f,isExporting:S,renderToolsPanel:eK,handleBatchExport:eN,handleAdvancedExport:eA,handleAddShape:ez})]})]})}function eu(){return(0,a.jsx)(S.z,{children:(0,a.jsx)(b,{children:(0,a.jsx)(ep,{})})})}},34243:(e,t,i)=>{Promise.resolve().then(i.bind(i,34085))}},e=>{e.O(0,[96,76,358],()=>e(e.s=34243)),_N_E=e.O()}]);