(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{24215:(e,l,a)=>{"use strict";a.r(l),a.d(l,{default:()=>E});var s=a(24520),r=a(70404),i=a(5344),c=a(6690),n=a(75628),t=a(14858),d=a(17708),o=a(58885),x=a(82888),h=a(88076),u=a(45874),m=a(36745),j=a(83826),v=a(54997),g=a(69025),p=a(65574),b=a(76856),f=a(76996),N=a(32651),w=a(15060),y=a(61009),C=a(4429),k=a(28735),A=a(6708),S=a(99999),J=a(30621),F=a(24973);function E(){let{isOpen:e,setIsOpen:l,isDesktop:a}=(0,N.c)({defaultOpen:!0,desktopDefaultOpen:!0}),[E,z]=(0,r.useState)("generate"),[V,$]=(0,r.useState)(!1),[D,O]=(0,r.useState)(""),[R,U]=(0,r.useState)(""),[q,I]=(0,r.useState)(""),[L,T]=(0,r.useState)(""),[_,K]=(0,r.useState)("1"),[X,P]=(0,r.useState)([]),[B,G]=(0,r.useState)(null),[W,Z]=(0,r.useState)(!1),[M,H]=(0,r.useState)([]),[Q,Y]=(0,r.useState)(""),[ee,el]=(0,r.useState)([]),[ea,es]=(0,r.useState)([]),[er,ei]=(0,r.useState)(""),[ec,en]=(0,r.useState)(""),[et,ed]=(0,r.useState)("relevance"),[eo,ex]=(0,r.useState)([]),[eh,eu]=(0,r.useState)(1),[em,ej]=(0,r.useState)(1),[ev,eg]=(0,r.useState)(!1),[ep,eb]=(0,r.useState)([]),{handleAsyncError:ef}=(0,w.u)(),eN=[{value:"fantasy",label:"ファンタジー",icon:"\uD83E\uDDD9‍♀️"},{value:"sci-fi",label:"SF",icon:"\uD83D\uDE80"},{value:"daily",label:"日常",icon:"\uD83C\uDFE0"},{value:"nature",label:"自然",icon:"\uD83C\uDF3F"},{value:"urban",label:"都市",icon:"\uD83C\uDFD9️"},{value:"space",label:"宇宙",icon:"\uD83C\uDF0C"}],ew=[{value:"anime",label:"アニメ風"},{value:"oil-painting",label:"油絵風"},{value:"watercolor",label:"水彩画風"},{value:"realistic",label:"リアル"},{value:"cartoon",label:"カートゥーン風"},{value:"minimalist",label:"ミニマル"}],ey=[{value:"1920x1080",label:"1920x1080 (16:9)",aspectRatio:"16:9"},{value:"3840x2160",label:"3840x2160 (4K)",aspectRatio:"16:9"},{value:"1080x1920",label:"1080x1920 (9:16)",aspectRatio:"9:16"},{value:"2560x1440",label:"2560x1440 (16:9)",aspectRatio:"16:9"},{value:"1280x720",label:"1280x720 (16:9)",aspectRatio:"16:9"}],eC=[{value:"1",label:"1枚"},{value:"2",label:"2枚"},{value:"4",label:"4枚"},{value:"8",label:"8枚"}],ek=(0,r.useCallback)(async()=>{let e=(0,y.fX)(D);if(e){p.vF.error("バリデーションエラー",{error:e},"VirtualBgGenerator"),window.alert&&window.alert(e);return}$(!0),await ef(async()=>{await new Promise(e=>setTimeout(e,2e3));let e=Array.from({length:parseInt(_)},(e,l)=>"https://picsum.photos/800/600?random=".concat(Date.now()+l));P(e),G(e[0]),eD({url:e[0],prompt:D}),a||z("preview")},"背景生成中にエラーが発生しました"),$(!1)},[D,_,ef,a]),eA=(0,r.useCallback)(async()=>{try{await navigator.clipboard.writeText(D),Z(!0),setTimeout(()=>Z(!1),2e3)}catch(e){p.vF.error("コピー失敗",e,"VirtualBgGenerator")}},[D]),eS=(0,r.useCallback)(e=>{H(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e])},[]),eJ=async e=>{try{let l=await fetch(e),a=await l.blob(),s=window.URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download="virtual-background-".concat(Date.now(),".jpg"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(s)}catch(a){p.vF.error("ダウンロードエラー",a,"VirtualBgGenerator");let l=document.createElement("a");l.href=e,l.download="virtual-background-".concat(Date.now(),".jpg"),l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l)}},eF=async()=>{eg(!0),await ef(async()=>{await new Promise(e=>setTimeout(e,1e3));let e=Array.from({length:12},(e,l)=>({id:"search-".concat(l),url:"https://picsum.photos/400/300?random=".concat(Date.now()+l),title:"検索結果 ".concat(l+1),category:eN[l%eN.length].value,color:["red","blue","green","purple","orange"][l%5],resolution:"1920x1080",license:"free",downloads:Math.floor(1e3*Math.random())}));ex(e),ej(Math.ceil(e.length/8)),eu(1)},"検索中にエラーが発生しました"),eg(!1)},eE=e=>{el(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e])},ez=e=>{es(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e])},eV=e=>{G(e),P([e]),a||z("preview")},e$=e=>{eu(e)},eD=e=>{let l={id:Date.now().toString(),imageUrl:e.url||e,prompt:D,timestamp:new Date().toISOString(),type:"generated"};eb(e=>[l,...e.slice(0,9)])},eO=(0,s.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,s.jsx)(v.w,{}),(0,s.jsxs)(f.tU,{value:E,onValueChange:z,className:"flex-grow flex flex-col",children:[(0,s.jsxs)(f.j7,{className:"grid w-full grid-cols-3",children:[(0,s.jsx)(f.Xi,{value:"generate",children:"生成"}),(0,s.jsx)(f.Xi,{value:"search",children:"検索"}),(0,s.jsx)(f.Xi,{value:"history",children:"履歴"})]}),(0,s.jsx)(f.av,{value:"generate",className:"flex-grow space-y-4 mt-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"prompt",children:"テキストプロンプト"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c.T,{id:"prompt",placeholder:"サイバーパンク都市の夜景、ネオンライトが輝く未来都市...",value:D,onChange:e=>O(e.target.value),className:"min-h-[100px]"}),D&&(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(i.$,{variant:"outline",size:"sm",onClick:eA,"aria-label":"プロンプトをコピー",children:W?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"コピー済み"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"コピー"]})})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{children:"カテゴリ"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eN.map(e=>(0,s.jsxs)(g.E,{variant:R===e.value?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>U(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"style",children:"スタイル"}),(0,s.jsxs)(b.l6,{value:q,onValueChange:I,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"スタイルを選択"})}),(0,s.jsx)(b.gC,{children:ew.map(e=>(0,s.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"resolution",children:"解像度・アスペクト比"}),(0,s.jsxs)(b.l6,{value:L,onValueChange:T,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"解像度を選択"})}),(0,s.jsx)(b.gC,{children:ey.map(e=>(0,s.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"imageCount",children:"生成枚数"}),(0,s.jsxs)(b.l6,{value:_,onValueChange:K,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"枚数を選択"})}),(0,s.jsx)(b.gC,{children:eC.map(e=>(0,s.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsx)(i.$,{onClick:ek,disabled:V||!D.trim(),className:"w-full",size:"lg",children:V?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"背景を生成"]})})]})}),(0,s.jsx)(f.av,{value:"search",className:"flex-grow space-y-4 mt-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"searchKeyword",children:"キーワード検索"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(n.p,{id:"searchKeyword",placeholder:"背景、都市、自然...",value:Q,onChange:e=>Y(e.target.value),className:"flex-grow"}),(0,s.jsx)(i.$,{variant:"outline",size:"icon",onClick:eF,disabled:ev,children:ev?(0,s.jsx)(k.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(A.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(t.J,{children:"フィルター"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"カテゴリ"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:eN.map(e=>(0,s.jsxs)(g.E,{variant:ee.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>eE(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"色"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"red",label:"赤",color:"bg-red-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"black",label:"黒",color:"bg-black"},{value:"white",label:"白",color:"bg-white border"}].map(e=>(0,s.jsxs)(g.E,{variant:ea.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 flex items-center gap-1",onClick:()=>ez(e.value),children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.label]},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"解像度"}),(0,s.jsxs)(b.l6,{value:er,onValueChange:ei,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"解像度を選択"})}),(0,s.jsxs)(b.gC,{children:[(0,s.jsx)(b.eb,{value:"all",children:"すべて"}),(0,s.jsx)(b.eb,{value:"4k",children:"4K以上"}),(0,s.jsx)(b.eb,{value:"hd",children:"HD以上"}),(0,s.jsx)(b.eb,{value:"sd",children:"SD以上"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"ライセンス"}),(0,s.jsxs)(b.l6,{value:ec,onValueChange:en,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"ライセンスを選択"})}),(0,s.jsxs)(b.gC,{children:[(0,s.jsx)(b.eb,{value:"all",children:"すべて"}),(0,s.jsx)(b.eb,{value:"free",children:"無料"}),(0,s.jsx)(b.eb,{value:"commercial",children:"商用利用可"}),(0,s.jsx)(b.eb,{value:"attribution",children:"帰属表示必要"})]})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"並び順"}),(0,s.jsxs)(b.l6,{value:et,onValueChange:ed,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"並び順を選択"})}),(0,s.jsxs)(b.gC,{children:[(0,s.jsx)(b.eb,{value:"relevance",children:"関連度順"}),(0,s.jsx)(b.eb,{value:"newest",children:"新着順"}),(0,s.jsx)(b.eb,{value:"popular",children:"人気順"}),(0,s.jsx)(b.eb,{value:"downloads",children:"ダウンロード数順"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(t.J,{children:"検索結果"}),(0,s.jsxs)(g.E,{variant:"secondary",children:[eo.length,"件"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:eo.length>0?eo.slice((eh-1)*8,8*eh).map((e,l)=>(0,s.jsx)(j.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>eV(e.url),children:(0,s.jsx)(j.Wu,{className:"p-0",children:(0,s.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,s.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,s.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,s.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:[e.downloads," DL"]})})]})})},e.id)):(0,s.jsxs)("div",{className:"col-span-2 text-center text-muted-foreground py-8",children:[(0,s.jsx)(A.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"検索キーワードを入力して検索してください"})]})}),eo.length>8&&(0,s.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,s.jsx)(i.$,{variant:"outline",size:"sm",disabled:1===eh,onClick:()=>e$(eh-1),children:"前へ"}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",children:eh}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",disabled:eh===em,onClick:()=>e$(eh+1),children:"次へ"})]})]})]})}),(0,s.jsx)(f.av,{value:"history",className:"flex-grow space-y-4 mt-4",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(t.J,{children:"生成履歴"}),(0,s.jsxs)(g.E,{variant:"secondary",children:[ep.length,"件"]})]}),ep.length>0?(0,s.jsx)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:ep.map(e=>(0,s.jsx)(j.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{G(e.imageUrl),P([e.imageUrl]),a||z("preview")},children:(0,s.jsx)(j.Wu,{className:"p-3",children:(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)("div",{className:"w-16 h-12 relative overflow-hidden rounded",children:(0,s.jsx)("img",{src:e.imageUrl,alt:"履歴画像",className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.prompt||"プロンプトなし"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()}),(0,s.jsx)(g.E,{variant:"outline",className:"text-xs mt-1",children:"generated"===e.type?"AI生成":"検索"})]})]})})},e.id))}):(0,s.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,s.jsx)(S.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"生成履歴がここに表示されます"})]})]})})]})]}),eR=(0,s.jsxs)("div",{className:"flex flex-col h-full space-y-4 p-4",children:[(0,s.jsx)(v.w,{}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"prompt-mobile",children:"テキストプロンプト"}),(0,s.jsx)(c.T,{id:"prompt-mobile",placeholder:"サイバーパンク都市の夜景、ネオンライトが輝く未来都市...",value:D,onChange:e=>O(e.target.value),className:"min-h-[80px]"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{children:"カテゴリ"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eN.map(e=>(0,s.jsxs)(g.E,{variant:R===e.value?"default":"outline",className:"cursor-pointer hover:bg-primary/10 text-xs",onClick:()=>U(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"style-mobile",children:"スタイル"}),(0,s.jsxs)(b.l6,{value:q,onValueChange:I,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"スタイル"})}),(0,s.jsx)(b.gC,{children:ew.map(e=>(0,s.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"resolution-mobile",children:"解像度"}),(0,s.jsxs)(b.l6,{value:L,onValueChange:T,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"解像度"})}),(0,s.jsx)(b.gC,{children:ey.map(e=>(0,s.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"imageCount-mobile",children:"生成枚数"}),(0,s.jsxs)(b.l6,{value:_,onValueChange:K,children:[(0,s.jsx)(b.bq,{children:(0,s.jsx)(b.yv,{placeholder:"枚数"})}),(0,s.jsx)(b.gC,{children:eC.map(e=>(0,s.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsx)(i.$,{onClick:ek,disabled:V||!D.trim(),className:"w-full",size:"lg",children:V?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"背景を生成"]})})]})]}),eU=(0,s.jsxs)("div",{className:"flex flex-col h-full space-y-4 p-4",children:[(0,s.jsx)(v.w,{}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{htmlFor:"searchKeyword-mobile",children:"キーワード検索"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(n.p,{id:"searchKeyword-mobile",placeholder:"背景、都市、自然...",value:Q,onChange:e=>Y(e.target.value),className:"flex-grow"}),(0,s.jsx)(i.$,{variant:"outline",size:"icon",onClick:eF,disabled:ev,children:ev?(0,s.jsx)(k.A,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(A.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(t.J,{children:"フィルター"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"カテゴリ"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:eN.map(e=>(0,s.jsxs)(g.E,{variant:ee.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 text-xs",onClick:()=>eE(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"色"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"red",label:"赤",color:"bg-red-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"black",label:"黒",color:"bg-black"},{value:"white",label:"白",color:"bg-white border"}].map(e=>(0,s.jsxs)(g.E,{variant:ea.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 flex items-center gap-1 text-xs",onClick:()=>ez(e.value),children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.label]},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(t.J,{children:"検索結果"}),(0,s.jsxs)(g.E,{variant:"secondary",children:[eo.length,"件"]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:eo.length>0?eo.slice((eh-1)*8,8*eh).map((e,l)=>(0,s.jsx)(j.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>eV(e.url),children:(0,s.jsx)(j.Wu,{className:"p-0",children:(0,s.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,s.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,s.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,s.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:[e.downloads," DL"]})})]})})},e.id)):(0,s.jsxs)("div",{className:"col-span-2 text-center text-muted-foreground py-8",children:[(0,s.jsx)(A.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"検索キーワードを入力して検索してください"})]})}),eo.length>8&&(0,s.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,s.jsx)(i.$,{variant:"outline",size:"sm",disabled:1===eh,onClick:()=>e$(eh-1),children:"前へ"}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",children:eh}),(0,s.jsx)(i.$,{variant:"outline",size:"sm",disabled:eh===em,onClick:()=>e$(eh+1),children:"次へ"})]})]})]})]}),eq=(0,s.jsx)("div",{className:"h-full p-4 lg:p-6",children:X.length>0?(0,s.jsxs)("div",{className:"h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-4 space-y-2 lg:space-y-0",children:[(0,s.jsx)("h3",{className:"text-lg lg:text-xl font-semibold",children:"生成された背景"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(i.$,{variant:"outline",size:"sm",className:"flex-1 lg:flex-none",children:[(0,s.jsx)(J.A,{className:"mr-2 h-4 w-4"}),"編集"]}),(0,s.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>B&&eJ(B),className:"flex-1 lg:flex-none",children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"ダウンロード"]})]})]}),(0,s.jsx)("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-4",children:X.map((e,l)=>(0,s.jsx)(j.Zp,{className:"cursor-pointer transition-all ".concat(B===e?"ring-2 ring-primary":"hover:shadow-md"),onClick:()=>G(e),children:(0,s.jsx)(j.Wu,{className:"p-0",children:(0,s.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,s.jsx)("img",{src:e,alt:"Generated background ".concat(l+1),className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,s.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,s.jsx)(i.$,{variant:"secondary",size:"sm",onClick:l=>{l.stopPropagation(),eS(e)},className:"h-8 w-8 p-0","aria-label":M.includes(e)?"お気に入りから削除":"お気に入りに追加",children:(0,s.jsx)(x.A,{className:"h-4 w-4 ".concat(M.includes(e)?"fill-red-500 text-red-500":"text-gray-600")})}),(0,s.jsx)(i.$,{variant:"secondary",size:"sm",onClick:l=>{l.stopPropagation(),eJ(e)},className:"h-8 w-8 p-0","aria-label":"画像をダウンロード",children:(0,s.jsx)(h.A,{className:"h-4 w-4"})})]})]})})},l))})]}):(0,s.jsx)("div",{className:"h-full flex items-center justify-center",children:V?(0,s.jsxs)("div",{className:"text-center text-muted-foreground px-4",children:[(0,s.jsxs)("div",{className:"w-full h-full bg-gray-200 dark:bg-gray-800 rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,s.jsx)(u.A,{className:"w-16 h-16 text-gray-400 mb-4 animate-spin","aria-hidden":"true"}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-300",children:"バーチャル背景を生成中..."}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:"AIがあなたにぴったりの背景画像を生成しています。しばらくお待ちください。"})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",role:"status","aria-label":"バーチャル背景生成中",children:[(0,s.jsx)(m.EA,{className:"aspect-video w-full"}),(0,s.jsx)(m.EA,{className:"aspect-video w-full"})]})]}):(0,s.jsxs)("div",{className:"text-center text-muted-foreground px-4",children:[(0,s.jsx)(F.A,{className:"h-12 w-12 lg:h-16 lg:w-16 mx-auto mb-4 opacity-50"}),(0,s.jsx)("h3",{className:"text-lg lg:text-xl font-semibold mb-2",children:"バーチャル背景を生成"}),(0,s.jsx)("p",{className:"max-w-md text-sm lg:text-base",children:a?(0,s.jsx)(s.Fragment,{children:"左側のコントロールパネルでプロンプトを入力し、「背景を生成」ボタンをクリックしてAIが背景画像を生成します。"}):(0,s.jsx)(s.Fragment,{children:"「生成」タブでプロンプトを入力し、「背景を生成」ボタンをクリックしてAIが背景画像を生成します。"})})]})})});return(0,s.jsx)("div",{className:"h-full flex flex-col lg:flex-row lg:h-screen",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("main",{className:"flex-grow p-4 w-full lg:w-auto",children:eq}),!e&&(0,s.jsx)(C.R,{onOpen:()=>l(!0),isDesktop:a,tabs:[{id:"generate",label:"生成",icon:(0,s.jsx)(k.A,{className:"h-4 w-4"})},{id:"search",label:"検索",icon:(0,s.jsx)(A.A,{className:"h-4 w-4"})},{id:"history",label:"履歴",icon:(0,s.jsx)(S.A,{className:"h-4 w-4"})}],onTabClick:e=>{z(e)}}),(0,s.jsx)(C.B,{isOpen:e,onClose:()=>l(!1),title:"",isDesktop:a,children:eO})]}):(0,s.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,s.jsx)("div",{className:"flex-grow p-4",children:eq}),(0,s.jsx)("div",{className:"border-t p-4",children:(0,s.jsxs)(f.tU,{defaultValue:"generate",value:E,onValueChange:z,className:"w-full",children:[(0,s.jsxs)(f.j7,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(f.Xi,{value:"generate",children:"生成"}),(0,s.jsx)(f.Xi,{value:"search",children:"検索"})]}),(0,s.jsx)(f.av,{value:"generate",className:"mt-4",children:eR}),(0,s.jsx)(f.av,{value:"search",className:"mt-4",children:eU})]})})]})})}},31950:(e,l,a)=>{Promise.resolve().then(a.bind(a,24215))}},e=>{e.O(0,[96,76,358],()=>e(e.s=31950)),_N_E=e.O()}]);