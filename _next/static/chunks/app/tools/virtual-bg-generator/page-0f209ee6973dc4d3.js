(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{31173:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>H});var a=l(18841),r=l(58669),t=l(28198),i=l(33544),n=l(77902),c=l(98356),o=l(59172),d=l(17550),m=l(20791),x=l(43210),u=l(6166),h=l(74843),j=l(65939),v=l(98156),p=l(84731),g=l(14967),f=l(24156),b=l(2570),N=l(44166),w=l(10768),y=l(87570),C=l(63627),k=l(5081),A=l(30897),S=l(7934),P=l(83199);let z={string:P.YjP().min(1,"必須項目です"),optionalString:P.YjP().optional(),email:P.YjP().email("有効なメールアドレスを入力してください"),password:P.YjP().min(8,"パスワードは8文字以上で入力してください").regex(/^(?=.*[a-zA-Z])(?=.*\d)/,"英数字を含むパスワードを入力してください"),phone:P.YjP().regex(/^0\d{1,4}-\d{1,4}-\d{4}$/,"有効な電話番号を入力してください（例: 03-1234-5678）"),url:P.YjP().url("有効なURLを入力してください"),number:P.aig().min(0,"0以上の数値を入力してください"),positiveInteger:P.aig().int().positive("正の整数を入力してください"),date:P.YjP().regex(/^\d{4}-\d{2}-\d{2}$/,"有効な日付を入力してください（YYYY-MM-DD）"),datetime:P.YjP().datetime("有効な日時を入力してください"),file:P.Nlp(File,{message:"ファイルを選択してください"}),imageFile:P.Nlp(File).refine(e=>e.type.startsWith("image/"),"画像ファイルを選択してください").refine(e=>e.size<=5242880,"ファイルサイズは5MB以下にしてください")};P.YjP().min(1,"ツールIDは必須です"),P.YjP().min(1,"タイトルは必須です").max(100,"タイトルは100文字以内で入力してください"),P.YjP().min(1,"説明は必須です").max(500,"説明は500文字以内で入力してください"),P.k5n(["released","beta","development"],{message:"有効なステータスを選択してください"}),P.k5n(["planning","production","branding","collaboration"],{message:"有効なカテゴリを選択してください"}),P.YjP().url("有効なURLを入力してください"),P.YOg(P.YjP().min(1,"タグは空にできません")).optional();let D={username:P.YjP().min(2,"ユーザー名は2文字以上で入力してください").max(20,"ユーザー名は20文字以内で入力してください").regex(/^[a-zA-Z0-9_]+$/,"ユーザー名は英数字とアンダースコアのみ使用できます"),displayName:P.YjP().min(1,"表示名は必須です").max(50,"表示名は50文字以内で入力してください"),profile:P.YjP().max(1e3,"プロフィールは1000文字以内で入力してください").optional()};P.YjP().min(1,"検索キーワードを入力してください").max(100,"検索キーワードは100文字以内で入力してください"),P.aig().int().min(1,"ページ番号は1以上である必要があります"),P.aig().int().min(1).max(100,"ページサイズは1-100の範囲で設定してください"),P.k5n(["asc","desc"],{message:"有効なソート順を選択してください"}),P.Ikc({email:z.email,password:P.YjP().min(1,"パスワードは必須です"),remember:P.zMY().optional()}),P.Ikc({email:z.email,password:z.password,confirmPassword:P.YjP(),username:D.username,displayName:D.displayName,agreeToTerms:P.zMY().refine(e=>!0===e,"利用規約に同意してください")}).refine(e=>e.password===e.confirmPassword,{message:"パスワードが一致しません",path:["confirmPassword"]}),P.Ikc({displayName:D.displayName,profile:D.profile,email:z.email.optional()}),P.Ikc({currentPassword:P.YjP().min(1,"現在のパスワードは必須です"),newPassword:z.password,confirmPassword:P.YjP()}).refine(e=>e.newPassword===e.confirmPassword,{message:"新しいパスワードが一致しません",path:["confirmPassword"]});var E=l(49907),$=l(42542),J=l(22215),R=l(74486),F=l(75359),I=l(77463),L=l(64248),Y=l(23473),O=l(79706),U=l(81052),V=l(50742),M=l(49752),T=l(39823),_=l(77019),B=l(42990),K=l(58935),q=l(57870),G=l(34454),Z=l(62663),W=l(53333);let X=[{id:"analyze",label:"プロンプトを分析中...",estimatedSeconds:3},{id:"prepare",label:"生成パラメータを設定中...",estimatedSeconds:2},{id:"generate",label:"画像を生成中...",estimatedSeconds:10},{id:"process",label:"画像を処理中...",estimatedSeconds:3},{id:"complete",label:"完成！",estimatedSeconds:0}],Q=e=>{let{steps:s,currentStepId:l,estimatedTimeRemaining:r,onCancel:i}=e,n=l?s.findIndex(e=>e.id===l):-1,c=n>=0?(n+1)/s.length*100:0;return(0,a.jsx)("div",{className:"w-full space-y-6",children:(0,a.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[300px]",children:[(0,a.jsx)(o.A,{className:"w-16 h-16 text-primary mb-6 animate-spin","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0] mb-2",children:"背景を生成中..."}),(0,a.jsxs)("div",{className:"w-full max-w-md mt-6",children:[(0,a.jsx)("div",{className:"w-full h-2 bg-[#1A1A1A] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-primary transition-all duration-500 ease-out rounded-full",style:{width:"".concat(c,"%")}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("p",{className:"text-sm text-[#A0A0A0] text-center flex-1",children:n>=0&&n<s.length?s[n].label:"準備中..."}),void 0!==r&&r>0&&(0,a.jsxs)("p",{className:"text-sm text-[#A0A0A0] ml-4",children:["残り約",(e=>{if(e<60)return"".concat(Math.ceil(e),"秒");let s=Math.floor(e/60),l=Math.ceil(e%60);return"".concat(s,"分").concat(l,"秒")})(r)]})]})]}),(0,a.jsx)("div",{className:"w-full max-w-2xl mt-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between relative",children:[(0,a.jsx)("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-[#4A4A4A] -z-10"}),(0,a.jsx)("div",{className:"absolute top-5 left-0 h-0.5 bg-primary transition-all duration-500 ease-out -z-10",style:{width:"".concat(c,"%")}}),s.map((e,s)=>{let l=n>=s,r=n===s;return(0,a.jsxs)("div",{className:"flex flex-col items-center relative z-10 flex-1",children:[(0,a.jsx)("div",{className:(0,W.cn)("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300",r?"bg-primary border-primary scale-110 shadow-lg shadow-primary/50":l?"bg-primary/20 border-primary":"bg-[#1A1A1A] border-[#4A4A4A]"),children:r?(0,a.jsx)(o.A,{className:"w-5 h-5 text-white animate-spin"}):l?(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-primary"}):(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#4A4A4A]"})}),(0,a.jsx)("p",{className:(0,W.cn)("text-xs mt-2 text-center max-w-[100px] transition-colors duration-300",r?"text-primary font-semibold":l?"text-[#E0E0E0]":"text-[#4A4A4A]"),children:e.label})]},e.id)})]})}),i&&n>=0&&n<s.length-1&&(0,a.jsxs)(t.$,{variant:"outline",onClick:i,className:"mt-6 border-red-500/50 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-2"}),"生成をキャンセル"]})]})})};function H(){var e,s,l;let{isOpen:P,setIsOpen:z,isDesktop:D}=(0,A.c)({defaultOpen:!0,desktopDefaultOpen:!0}),[$,H]=(0,r.useState)("generate"),[ee,es]=(0,r.useState)(!1),[el,ea]=(0,r.useState)(null),[er,et]=(0,r.useState)(0),ei=(0,r.useRef)(!1),[en,ec]=(0,r.useState)(""),[eo,ed]=(0,r.useState)(""),[em,ex]=(0,r.useState)(""),[eu,eh]=(0,r.useState)(""),[ej,ev]=(0,r.useState)(""),[ep,eg]=(0,r.useState)("1"),[ef,eb]=(0,r.useState)(""),[eN,ew]=(0,r.useState)([]),[ey,eC]=(0,r.useState)(null),[ek,eA]=(0,r.useState)("grid"),[eS,eP]=(0,r.useState)("newest"),[ez,eD]=(0,r.useState)(null),[eE,e$]=(0,r.useState)(new Set),[eJ,eR]=(0,r.useState)(!1),[eF,eI]=(0,r.useState)([]),[eL,eY]=(0,r.useState)([]),[eO,eU]=(0,r.useState)(!1),eV="virtual-bg-saved-prompts",[eM,eT]=(0,r.useState)(""),[e_,eB]=(0,r.useState)([]),[eK,eq]=(0,r.useState)([]),[eG,eZ]=(0,r.useState)(""),[eW,eX]=(0,r.useState)(""),[eQ,eH]=(0,r.useState)("relevance"),[e0,e1]=(0,r.useState)([]),[e4,e2]=(0,r.useState)(1),[e3,e5]=(0,r.useState)(1),[e6,e8]=(0,r.useState)(!1),e9="virtual-bg-history",[e7,se]=(0,r.useState)([]),[ss,sl]=(0,r.useState)("all"),[sa,sr]=(0,r.useState)(""),[st,si]=(0,r.useState)(100),{handleAsyncError:sn}=(0,S.u)(),sc=[{value:"fantasy",label:"ファンタジー",icon:"\uD83E\uDDD9‍♀️"},{value:"sci-fi",label:"SF",icon:"\uD83D\uDE80"},{value:"daily",label:"日常",icon:"\uD83C\uDFE0"},{value:"nature",label:"自然",icon:"\uD83C\uDF3F"},{value:"urban",label:"都市",icon:"\uD83C\uDFD9️"},{value:"space",label:"宇宙",icon:"\uD83C\uDF0C"}],so=[{value:"anime",label:"アニメ風"},{value:"oil-painting",label:"油絵風"},{value:"watercolor",label:"水彩画風"},{value:"realistic",label:"リアル"},{value:"cartoon",label:"カートゥーン風"},{value:"minimalist",label:"ミニマル"}],sd=[{value:"1920x1080",label:"1920x1080 (16:9)",aspectRatio:"16:9"},{value:"3840x2160",label:"3840x2160 (4K)",aspectRatio:"16:9"},{value:"1080x1920",label:"1080x1920 (9:16)",aspectRatio:"9:16"},{value:"2560x1440",label:"2560x1440 (16:9)",aspectRatio:"16:9"},{value:"1280x720",label:"1280x720 (16:9)",aspectRatio:"16:9"}],sm=[{value:"1",label:"1枚"},{value:"2",label:"2枚"},{value:"4",label:"4枚"},{value:"8",label:"8枚"}],sx=[{value:"",label:"指定なし",color:"bg-gray-500"},{value:"red",label:"赤",color:"bg-red-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"yellow",label:"黄",color:"bg-yellow-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"pink",label:"ピンク",color:"bg-pink-500"},{value:"brown",label:"茶",color:"bg-amber-700"},{value:"black",label:"黒",color:"bg-gray-900"},{value:"white",label:"白",color:"bg-gray-100"}],su=(0,r.useMemo)(()=>({fantasy:["魔法の森、妖精が舞い踊る神秘的な場所","中世の城、石造りの壮麗な建築物","空に浮かぶ島、雲海の上に広がる異世界"],"sci-fi":["サイバーパンク都市の夜景、ネオンライトが輝く未来都市","宇宙ステーション、星々を見下ろす軌道上の施設","ロボット工場、機械が稼働する未来的な施設"],daily:["コーヒーショップ、温かみのある日常の空間","図書館、本棚が並ぶ静かな読書空間","リビングルーム、くつろぎの家庭空間"],nature:["山頂からの眺め、雲海に浮かぶ山々","森の中の小道、陽光が差し込む緑豊かな道","海辺の夕日、オレンジに染まる水平線"],urban:["大都市の摩天楼、高層ビルが林立する街","商店街の夜景、看板が輝く賑やかな通り","公園のベンチ、都会の中の憩いの場所"],space:["銀河系の中心、星雲が渦巻く宇宙空間","惑星の表面、異世界の風景が広がる大地","星間空間、無数の星が輝く深宇宙"]}),[]);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(eV);e&&eY(JSON.parse(e))}catch(e){console.error("保存済みプロンプトの読み込み失敗",e)}},[]);let sh=(0,r.useCallback)(()=>{if(!en.trim())return void j.oR.error("プロンプトが空です");eU(!0);let e=[{id:Date.now().toString(),prompt:en.trim(),negativePrompt:eo.trim()||void 0,createdAt:Date.now()},...eL].slice(0,20);eY(e);try{localStorage.setItem(eV,JSON.stringify(e)),j.oR.success("プロンプトを保存しました")}catch(e){console.error("プロンプト保存失敗",e),j.oR.error("プロンプトの保存に失敗しました")}eU(!1)},[en,eo,eL]),sj=(0,r.useCallback)(e=>{ec(e.prompt),ed(e.negativePrompt||""),j.oR.success("プロンプトを読み込みました")},[]),sv=(0,r.useCallback)(e=>{let s=eL.filter(s=>s.id!==e);eY(s);try{localStorage.setItem(eV,JSON.stringify(s)),j.oR.success("プロンプトを削除しました")}catch(e){console.error("プロンプト削除失敗",e)}},[eL]),sp=(0,r.useCallback)(e=>{ec(e),j.oR.success("テンプレートを適用しました")},[]),sg=(0,r.useCallback)(()=>{ei.current=!0,es(!1),ea(null),et(0),j.oR.info("生成をキャンセルしました")},[]),sf=(0,r.useCallback)(async()=>{let e=en&&0!==en.trim().length?en.length>1e3?"プロンプトは1000文字以内で入力してください":null:"プロンプトを入力してください";if(e){f.vF.error("バリデーションエラー",{error:e},"VirtualBgGenerator"),j.oR.error("プロンプトの検証エラー",{description:e});return}es(!0),ei.current=!1,ea(null),et(0),await sn(async()=>{var e;for(let e=0;e<X.length;e++){if(ei.current)return;let s=X[e];ea(s.id);let l=X.slice(e);et(l.reduce((e,s)=>e+(s.estimatedSeconds||0),0));let a=1e3*(s.estimatedSeconds||1),r=Date.now(),t=setInterval(()=>{if(ei.current)return void clearInterval(t);let e=(Date.now()-r)/1e3;et(Math.max(0,(s.estimatedSeconds||1)-e+l.slice(1).reduce((e,s)=>e+(s.estimatedSeconds||0),0)))},100);if(await new Promise(e=>setTimeout(e,a)),clearInterval(t),ei.current)return}if(ei.current)return;let s=Array.from({length:parseInt(ep)},(e,s)=>({id:"img-".concat(Date.now(),"-").concat(s),url:"https://picsum.photos/800/600?random=".concat(Date.now()+s),prompt:en||"",negativePrompt:eo||void 0,category:em||void 0,style:eu||void 0,resolution:ej||void 0,color:ef||void 0,createdAt:Date.now(),downloadCount:0}));ew(e=>[...e,...s]),eC((null==(e=s[0])?void 0:e.url)||null),s.forEach(e=>{s$({url:e.url,prompt:e.prompt,negativePrompt:e.negativePrompt,category:e.category,style:e.style,resolution:e.resolution,color:e.color},"generated")}),j.oR.success("".concat(ep,"枚の背景を生成しました"),{description:"生成が完了しました"}),D||H("preview"),ea(null),et(0)},"背景生成中にエラーが発生しました"),es(!1),ei.current=!1},[en,ep,sn,D]),sb=(0,r.useCallback)(async()=>{try{await navigator.clipboard.writeText(en),eR(!0),setTimeout(()=>eR(!1),2e3)}catch(e){f.vF.error("コピー失敗",e,"VirtualBgGenerator")}},[en]),sN=(0,r.useCallback)(e=>{eI(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},[]),sw=(0,r.useCallback)(async e=>{try{let s=await fetch(e),l=await s.blob(),a=window.URL.createObjectURL(l),r=document.createElement("a");r.href=a,r.download="virtual-background-".concat(Date.now(),".jpg"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a),ew(s=>s.map(s=>s.url===e?{...s,downloadCount:(s.downloadCount||0)+1}:s))}catch(l){f.vF.error("ダウンロードエラー",l,"VirtualBgGenerator");let s=document.createElement("a");s.href=e,s.download="virtual-background-".concat(Date.now(),".jpg"),s.target="_blank",document.body.appendChild(s),s.click(),document.body.removeChild(s)}},[]),sy=(0,r.useCallback)(async()=>{if(0===eE.size)return;let e=eN.filter(e=>eE.has(e.id));for(let s of e)await sw(s.url),await new Promise(e=>setTimeout(e,100));j.oR.success("".concat(e.length,"枚の画像をダウンロードしました")),e$(new Set)},[eE,eN,sw]),sC=(0,r.useMemo)(()=>{let e=[...eN];switch(eS){case"newest":return e.sort((e,s)=>s.createdAt-e.createdAt);case"oldest":return e.sort((e,s)=>e.createdAt-s.createdAt);case"favorite":return e.sort((e,s)=>{let l=eF.includes(e.url);return l===eF.includes(s.url)?s.createdAt-e.createdAt:l?-1:1});case"download":return e.sort((e,s)=>(s.downloadCount||0)-(e.downloadCount||0));default:return e}},[eN,eS,eF]),sk=(0,r.useCallback)(e=>{e$(s=>{let l=new Set(s);return l.has(e)?l.delete(e):l.add(e),l})},[]),sA=(0,r.useCallback)(()=>{eE.size===sC.length?e$(new Set):e$(new Set(sC.map(e=>e.id)))},[eE.size,sC]),sS=async()=>{e8(!0),await sn(async()=>{await new Promise(e=>setTimeout(e,1e3));let e=Array.from({length:12},(e,s)=>({id:"search-".concat(s),url:"https://picsum.photos/400/300?random=".concat(Date.now()+s),title:"検索結果 ".concat(s+1),category:sc[s%sc.length].value,color:["red","blue","green","purple","orange"][s%5],resolution:"1920x1080",license:"free",downloads:Math.floor(1e3*Math.random())}));e1(e),e5(Math.ceil(e.length/8)),e2(1),e.length>0&&s$({url:e[0].url},"search")},"検索中にエラーが発生しました"),e8(!1)},sP=e=>{eB(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},sz=e=>{eq(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},sD=e=>{eC(e),ew([{id:"search-".concat(Date.now()),url:e,prompt:eM||"",createdAt:Date.now(),downloadCount:0}]),D||H("preview")},sE=e=>{e2(e)};(0,r.useEffect)(()=>{try{let e=localStorage.getItem(e9);if(e){let s=JSON.parse(e);se(s)}}catch(e){f.vF.error("履歴の読み込みエラー",e,"VirtualBgGenerator")}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem(e9,JSON.stringify(e7))}catch(e){f.vF.error("履歴の保存エラー",e,"VirtualBgGenerator")}},[e7]);let s$=(0,r.useCallback)(function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generated",l={id:"".concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)),imageUrl:e.url||e,prompt:e.prompt||en,negativePrompt:e.negativePrompt||eo,category:e.category||em||void 0,style:e.style||eu||void 0,resolution:e.resolution||ej||void 0,color:e.color||ef||void 0,timestamp:new Date().toISOString(),type:s,searchKeyword:"search"===s?eM:void 0,searchParams:"search"===s?{categories:e_.length>0?e_:void 0,colors:eK.length>0?eK:void 0,resolution:eG||void 0,license:eW||void 0}:void 0};se(e=>[l,...e].slice(0,st))},[en,eo,em,eu,ej,ef,eM,e_,eK,eG,eW,st]),sJ=(0,r.useCallback)(e=>{se(s=>s.filter(s=>s.id!==e)),j.oR.success("履歴を削除しました")},[]),sR=(0,r.useCallback)(()=>{confirm("すべての履歴を削除しますか？")&&(se([]),j.oR.success("すべての履歴を削除しました"))},[]),sF=(0,r.useCallback)(e=>{if("generated"===e.type)ec(e.prompt||""),ed(e.negativePrompt||""),ex(e.category||""),eh(e.style||""),ev(e.resolution||""),eb(e.color||""),ew([{id:"history-".concat(e.id),url:e.imageUrl,prompt:e.prompt||"",negativePrompt:e.negativePrompt,category:e.category,style:e.style,resolution:e.resolution,color:e.color,createdAt:new Date(e.timestamp).getTime(),downloadCount:0}]),eC(e.imageUrl),j.oR.success("履歴を復元しました");else if("search"===e.type){var s,l,a,r;eT(e.searchKeyword||""),eB((null==(s=e.searchParams)?void 0:s.categories)||[]),eq((null==(l=e.searchParams)?void 0:l.colors)||[]),eZ((null==(a=e.searchParams)?void 0:a.resolution)||""),eX((null==(r=e.searchParams)?void 0:r.license)||""),j.oR.success("検索条件を復元しました"),sS()}},[sS]),sI=(0,r.useMemo)(()=>{let e=[...e7];if("all"!==ss&&(e=e.filter(e=>e.type===ss)),sa.trim()){let s=sa.toLowerCase();e=e.filter(e=>{var l,a,r,t;return(null==(l=e.prompt)?void 0:l.toLowerCase().includes(s))||(null==(a=e.searchKeyword)?void 0:a.toLowerCase().includes(s))||(null==(r=e.category)?void 0:r.toLowerCase().includes(s))||(null==(t=e.style)?void 0:t.toLowerCase().includes(s))})}return e},[e7,ss,sa]),sL=(0,r.useCallback)(e=>{try{if("csv"===e){let e=sI.map(e=>[e.id,"generated"===e.type?"生成":"検索",e.imageUrl,e.prompt||"",e.category||"",e.style||"",e.resolution||"",new Date(e.timestamp).toLocaleString("ja-JP")]),s=[["ID","タイプ","画像URL","プロンプト","カテゴリ","スタイル","解像度","生成日時"],...e].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),l=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(l),r=document.createElement("a");r.href=a,r.download="virtual-bg-history-".concat(new Date().toISOString().split("T")[0],".csv"),r.click(),URL.revokeObjectURL(a)}else{let e=JSON.stringify(sI,null,2),s=new Blob([e],{type:"application/json"}),l=URL.createObjectURL(s),a=document.createElement("a");a.href=l,a.download="virtual-bg-history-".concat(new Date().toISOString().split("T")[0],".json"),a.click(),URL.revokeObjectURL(l)}j.oR.success("".concat(e.toUpperCase(),"形式でエクスポートしました"))}catch(e){f.vF.error("エクスポートエラー",e,"VirtualBgGenerator"),j.oR.error("エクスポートに失敗しました")}},[sI]),sY=(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,a.jsx)(p.w,{}),(0,a.jsxs)(N.tU,{value:$,onValueChange:H,className:"flex-grow flex flex-col",children:[(0,a.jsxs)(N.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(N.Xi,{value:"generate",children:"生成"}),(0,a.jsx)(N.Xi,{value:"search",children:"検索"}),(0,a.jsx)(N.Xi,{value:"history",children:"履歴"})]}),(0,a.jsxs)(N.av,{value:"generate",className:"flex-grow space-y-4 mt-4",children:[(0,a.jsxs)(w.nD,{type:"multiple",defaultValue:["basic"],className:"w-full space-y-2",children:[(0,a.jsxs)(w.As,{value:"basic",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"基本設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[em&&su[em]&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{className:"text-xs text-muted-foreground",children:"プロンプトテンプレート"}),(0,a.jsx)("div",{className:"space-y-1",children:su[em].map((e,s)=>(0,a.jsxs)(t.$,{variant:"outline",size:"sm",onClick:()=>sp(e),className:"w-full justify-start text-left h-auto py-2 px-3 text-xs",children:[(0,a.jsx)(R.A,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e})]},s))})]}),eL.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{className:"text-xs text-muted-foreground",children:"保存済みプロンプト"}),(0,a.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:eL.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-1 p-2 border rounded hover:bg-accent group",children:[(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>sj(e),className:"flex-1 justify-start text-left h-auto p-0 text-xs",children:(0,a.jsx)("span",{className:"truncate",children:e.prompt})}),(0,a.jsx)(t.$,{variant:"ghost",size:"icon",onClick:()=>sv(e.id),className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(F.A,{className:"h-3 w-3"})})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"prompt",children:"テキストプロンプト"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.T,{id:"prompt",placeholder:"サイバーパンク都市の夜景、ネオンライトが輝く未来都市...",value:en,onChange:e=>ec(e.target.value),className:"min-h-[100px]"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[en&&(0,a.jsx)(t.$,{variant:"outline",size:"sm",onClick:sb,"aria-label":"プロンプトをコピー",children:eJ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"コピー済み"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"コピー"]})}),en.trim()&&(0,a.jsxs)(t.$,{variant:"outline",size:"sm",onClick:sh,disabled:eO,className:"ml-auto",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 mr-1"}),"保存"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:sc.map(e=>(0,a.jsxs)(g.E,{variant:em===e.value?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>ex(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"style",children:"スタイル"}),(0,a.jsxs)(b.l6,{value:eu,onValueChange:eh,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"スタイルを選択"})}),(0,a.jsx)(b.gC,{children:so.map(e=>(0,a.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)(w.As,{value:"advanced",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"詳細設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"negativePrompt",children:"ネガティブプロンプト"}),(0,a.jsx)(i.T,{id:"negativePrompt",placeholder:"除外したい要素を入力（例: 人物、文字、ロゴ...）",value:eo,onChange:e=>ed(e.target.value),className:"min-h-[80px] text-sm"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"生成時に除外したい要素を指定できます"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"主色（カラーパレット）"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:sx.map(e=>(0,a.jsxs)("button",{onClick:()=>eb(e.value),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border transition-all ".concat(ef===e.value?"border-primary bg-primary/10":"border-border hover:bg-accent"),title:e.label,children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color," ").concat("white"===e.value?"border border-gray-300":"")}),(0,a.jsx)("span",{className:"text-xs",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"resolution",children:"解像度・アスペクト比"}),(0,a.jsxs)(b.l6,{value:ej,onValueChange:ev,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"解像度を選択"})}),(0,a.jsx)(b.gC,{children:sd.map(e=>(0,a.jsx)(b.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:e.label}),ej===e.value&&(0,a.jsx)(L.A,{className:"h-3 w-3 ml-2"})]})},e.value))})]}),ej&&(0,a.jsxs)("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"プレビュー"}),(0,a.jsx)("div",{className:"mx-auto border-2 border-primary rounded ".concat((null==(e=sd.find(e=>e.value===ej))?void 0:e.aspectRatio)==="9:16"?"w-12 h-20":"w-20 h-12"),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}),(0,a.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-2",children:(null==(s=sd.find(e=>e.value===ej))?void 0:s.aspectRatio)||"16:9"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"imageCount",children:"生成枚数"}),(0,a.jsxs)(b.l6,{value:ep,onValueChange:eg,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"枚数を選択"})}),(0,a.jsx)(b.gC,{children:sm.map(e=>(0,a.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]})]})]})]}),(0,a.jsx)(t.$,{onClick:sf,disabled:ee||!en.trim(),className:"w-full",size:"lg",children:ee?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),"背景を生成"]})})]}),(0,a.jsx)(N.av,{value:"search",className:"flex-grow space-y-4 mt-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"searchKeyword",children:"キーワード検索"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(n.p,{id:"searchKeyword",placeholder:"背景、都市、自然...",value:eM,onChange:e=>eT(e.target.value),className:"flex-grow"}),(0,a.jsx)(t.$,{variant:"outline",size:"icon",onClick:sS,disabled:e6,children:e6?(0,a.jsx)(Y.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(O.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(c.J,{children:"フィルター"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{className:"text-sm text-muted-foreground",children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:sc.map(e=>(0,a.jsxs)(g.E,{variant:e_.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>sP(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{className:"text-sm text-muted-foreground",children:"色"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"red",label:"赤",color:"bg-red-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"black",label:"黒",color:"bg-black"},{value:"white",label:"白",color:"bg-white border"}].map(e=>(0,a.jsxs)(g.E,{variant:eK.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 flex items-center gap-1",onClick:()=>sz(e.value),children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{className:"text-sm text-muted-foreground",children:"解像度"}),(0,a.jsxs)(b.l6,{value:eG,onValueChange:eZ,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"解像度を選択"})}),(0,a.jsxs)(b.gC,{children:[(0,a.jsx)(b.eb,{value:"all",children:"すべて"}),(0,a.jsx)(b.eb,{value:"4k",children:"4K以上"}),(0,a.jsx)(b.eb,{value:"hd",children:"HD以上"}),(0,a.jsx)(b.eb,{value:"sd",children:"SD以上"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{className:"text-sm text-muted-foreground",children:"ライセンス"}),(0,a.jsxs)(b.l6,{value:eW,onValueChange:eX,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"ライセンスを選択"})}),(0,a.jsxs)(b.gC,{children:[(0,a.jsx)(b.eb,{value:"all",children:"すべて"}),(0,a.jsx)(b.eb,{value:"free",children:"無料"}),(0,a.jsx)(b.eb,{value:"commercial",children:"商用利用可"}),(0,a.jsx)(b.eb,{value:"attribution",children:"帰属表示必要"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{className:"text-sm text-muted-foreground",children:"並び順"}),(0,a.jsxs)(b.l6,{value:eQ,onValueChange:eH,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"並び順を選択"})}),(0,a.jsxs)(b.gC,{children:[(0,a.jsx)(b.eb,{value:"relevance",children:"関連度順"}),(0,a.jsx)(b.eb,{value:"newest",children:"新着順"}),(0,a.jsx)(b.eb,{value:"popular",children:"人気順"}),(0,a.jsx)(b.eb,{value:"downloads",children:"ダウンロード数順"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(c.J,{children:"検索結果"}),(0,a.jsxs)(g.E,{variant:"secondary",children:[e0.length,"件"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:e0.length>0?e0.slice((e4-1)*8,8*e4).map((e,s)=>(0,a.jsx)(v.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>sD(e.url),children:(0,a.jsx)(v.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,a.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,a.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,a.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:[e.downloads," DL"]})})]})})},e.id)):(0,a.jsxs)("div",{className:"col-span-2 text-center text-muted-foreground py-8",children:[(0,a.jsx)(O.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"検索キーワードを入力して検索してください"})]})}),e0.length>8&&(0,a.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,a.jsx)(t.$,{variant:"outline",size:"sm",disabled:1===e4,onClick:()=>sE(e4-1),children:"前へ"}),(0,a.jsx)(t.$,{variant:"outline",size:"sm",children:e4}),(0,a.jsx)(t.$,{variant:"outline",size:"sm",disabled:e4===e3,onClick:()=>sE(e4+1),children:"次へ"})]})]})]})}),(0,a.jsxs)(N.av,{value:"history",className:"flex-grow space-y-4 mt-4 overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"space-y-3 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.J,{children:"履歴"}),(0,a.jsxs)(g.E,{variant:"secondary",children:[sI.length,"件"]}),e7.length!==sI.length&&(0,a.jsxs)(g.E,{variant:"outline",className:"text-xs",children:["全",e7.length,"件"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(C.rI,{children:[(0,a.jsx)(C.ty,{asChild:!0,children:(0,a.jsxs)(t.$,{variant:"default",size:"sm",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"エクスポート"]})}),(0,a.jsxs)(C.SQ,{className:"bg-[#2D2D2D] border-[#4A4A4A]",children:[(0,a.jsxs)(C._2,{onClick:()=>sL("csv"),children:[(0,a.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"CSV形式"]}),(0,a.jsxs)(C._2,{onClick:()=>sL("json"),children:[(0,a.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"JSON形式"]})]})]}),e7.length>0&&(0,a.jsxs)(t.$,{variant:"outline",size:"sm",onClick:sR,className:"text-red-400 hover:text-red-300",children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-2"}),"全削除"]})]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)("div",{className:"flex border rounded-md flex-1",children:[(0,a.jsx)(t.$,{variant:"all"===ss?"default":"ghost",size:"sm",onClick:()=>sl("all"),className:"rounded-r-none flex-1",children:"すべて"}),(0,a.jsxs)(t.$,{variant:"generated"===ss?"default":"ghost",size:"sm",onClick:()=>sl("generated"),className:"rounded-none border-x",children:[(0,a.jsx)(V.A,{className:"h-3 w-3 mr-1"}),"生成"]}),(0,a.jsxs)(t.$,{variant:"search"===ss?"default":"ghost",size:"sm",onClick:()=>sl("search"),className:"rounded-l-none flex-1",children:[(0,a.jsx)(O.A,{className:"h-3 w-3 mr-1"}),"検索"]})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(O.A,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(n.p,{placeholder:"履歴を検索...",value:sa,onChange:e=>sr(e.target.value),className:"pl-8"})]})]}),(0,a.jsx)("div",{className:"flex-grow overflow-y-auto space-y-3 pr-1",children:sI.length>0?(0,a.jsx)("div",{className:"space-y-3",children:sI.map((e,s)=>{var l,r;let i=s>0?new Date(sI[s-1].timestamp):null,n=new Date(e.timestamp),c=!i||i.toDateString()!==n.toDateString();return(0,a.jsxs)("div",{className:"space-y-2",children:[c&&(0,a.jsxs)("div",{className:"flex items-center gap-2 py-1 sticky top-0 bg-[#1A1A1A] z-10",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:n.toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsx)(v.Zp,{className:(0,W.cn)("hover:shadow-md transition-all relative","generated"===e.type?"border-l-4 border-l-primary":"border-l-4 border-l-blue-500"),children:(0,a.jsx)(v.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("div",{className:"w-24 h-16 relative overflow-hidden rounded flex-shrink-0 cursor-pointer group",onClick:s=>{s.stopPropagation(),ew([{id:"history-".concat(e.id),url:e.imageUrl,prompt:e.prompt||"",negativePrompt:e.negativePrompt,category:e.category,style:e.style,resolution:e.resolution,color:e.color,createdAt:new Date(e.timestamp).getTime(),downloadCount:0}]),eD("history-".concat(e.id))},children:[(0,a.jsx)("img",{src:e.imageUrl,alt:"履歴画像",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-200"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:(0,a.jsx)(T.A,{className:"h-4 w-4 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),(0,a.jsx)("div",{className:"flex-grow min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)(g.E,{variant:"generated"===e.type?"default":"secondary",className:"text-xs",children:"generated"===e.type?"AI生成":"検索"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:n.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)("p",{className:"text-sm font-medium truncate mb-1",children:"generated"===e.type?e.prompt||"プロンプトなし":e.searchKeyword||"検索キーワードなし"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.category&&(0,a.jsx)(g.E,{variant:"outline",className:"text-xs",children:(null==(l=sc.find(s=>s.value===e.category))?void 0:l.label)||e.category}),e.style&&(0,a.jsx)(g.E,{variant:"outline",className:"text-xs",children:(null==(r=so.find(s=>s.value===e.style))?void 0:r.label)||e.style}),e.resolution&&(0,a.jsx)(g.E,{variant:"outline",className:"text-xs",children:e.resolution})]})]}),(0,a.jsxs)("div",{className:"flex gap-1 flex-shrink-0",children:[(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),sF(e)},className:"h-8 w-8 p-0",title:"復元",children:(0,a.jsx)(_.A,{className:"h-4 w-4"})}),(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),sJ(e.id)},className:"h-8 w-8 p-0 text-red-400 hover:text-red-300",title:"削除",children:(0,a.jsx)(F.A,{className:"h-4 w-4"})})]})]})})]})})})]},e.id)})}):(0,a.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,a.jsx)(B.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:sa||"all"!==ss?"検索条件に一致する履歴が見つかりませんでした":"履歴がここに表示されます"})]})}),e7.length>0&&(0,a.jsxs)("div",{className:"flex-shrink-0 pt-2 border-t space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(c.J,{className:"text-xs text-muted-foreground",children:"履歴保存数上限"}),(0,a.jsx)(n.p,{type:"number",min:"10",max:"1000",value:st,onChange:e=>{si(Math.max(10,Math.min(1e3,parseInt(e.target.value)||100)))},className:"w-20 h-8 text-xs"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["現在 ",e7.length,"件保存中（上限: ",st,"件）"]})]})]})]})]}),sO=(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-4 p-4",children:[(0,a.jsx)(p.w,{}),(0,a.jsxs)(w.nD,{type:"multiple",defaultValue:["basic"],className:"w-full space-y-2",children:[(0,a.jsxs)(w.As,{value:"basic",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"基本設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[em&&su[em]&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{className:"text-xs text-muted-foreground",children:"プロンプトテンプレート"}),(0,a.jsx)("div",{className:"space-y-1",children:su[em].map((e,s)=>(0,a.jsxs)(t.$,{variant:"outline",size:"sm",onClick:()=>sp(e),className:"w-full justify-start text-left h-auto py-2 px-3 text-xs",children:[(0,a.jsx)(R.A,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e})]},s))})]}),eL.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.J,{className:"text-xs text-muted-foreground",children:"保存済みプロンプト"}),(0,a.jsx)("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:eL.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-1 p-2 border rounded hover:bg-accent group",children:[(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:()=>sj(e),className:"flex-1 justify-start text-left h-auto p-0 text-xs",children:(0,a.jsx)("span",{className:"truncate",children:e.prompt})}),(0,a.jsx)(t.$,{variant:"ghost",size:"icon",onClick:()=>sv(e.id),className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(F.A,{className:"h-3 w-3"})})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"prompt-mobile",children:"テキストプロンプト"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.T,{id:"prompt-mobile",placeholder:"サイバーパンク都市の夜景、ネオンライトが輝く未来都市...",value:en,onChange:e=>ec(e.target.value),className:"min-h-[80px]"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[en&&(0,a.jsx)(t.$,{variant:"outline",size:"sm",onClick:sb,"aria-label":"プロンプトをコピー",children:eJ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"コピー済み"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"コピー"]})}),en.trim()&&(0,a.jsxs)(t.$,{variant:"outline",size:"sm",onClick:sh,disabled:eO,className:"ml-auto",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 mr-1"}),"保存"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:sc.map(e=>(0,a.jsxs)(g.E,{variant:em===e.value?"default":"outline",className:"cursor-pointer hover:bg-primary/10 text-xs",onClick:()=>ex(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"style-mobile",children:"スタイル"}),(0,a.jsxs)(b.l6,{value:eu,onValueChange:eh,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"スタイル"})}),(0,a.jsx)(b.gC,{children:so.map(e=>(0,a.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)(w.As,{value:"advanced",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"詳細設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"negativePrompt-mobile",children:"ネガティブプロンプト"}),(0,a.jsx)(i.T,{id:"negativePrompt-mobile",placeholder:"除外したい要素を入力...",value:eo,onChange:e=>ed(e.target.value),className:"min-h-[60px] text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{children:"主色（カラーパレット）"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:sx.map(e=>(0,a.jsxs)("button",{onClick:()=>eb(e.value),className:"flex items-center gap-1 px-2 py-1 rounded-md border transition-all text-xs ".concat(ef===e.value?"border-primary bg-primary/10":"border-border hover:bg-accent"),title:e.label,children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color," ").concat("white"===e.value?"border border-gray-300":"")}),(0,a.jsx)("span",{children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"resolution-mobile",children:"解像度"}),(0,a.jsxs)(b.l6,{value:ej,onValueChange:ev,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"解像度"})}),(0,a.jsx)(b.gC,{children:sd.map(e=>(0,a.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]}),ej&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-muted rounded-md",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"プレビュー"}),(0,a.jsx)("div",{className:"mx-auto border-2 border-primary rounded ".concat((null==(l=sd.find(e=>e.value===ej))?void 0:l.aspectRatio)==="9:16"?"w-8 h-14":"w-14 h-8"),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"imageCount-mobile",children:"生成枚数"}),(0,a.jsxs)(b.l6,{value:ep,onValueChange:eg,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"枚数"})}),(0,a.jsx)(b.gC,{children:sm.map(e=>(0,a.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]})]})]})]})]}),(0,a.jsx)(t.$,{onClick:sf,disabled:ee||!en.trim(),className:"w-full",size:"lg",children:ee?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2 h-4 w-4"}),"背景を生成"]})})]}),sU=(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-4 p-4",children:[(0,a.jsx)(p.w,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"searchKeyword-mobile",children:"キーワード検索"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(n.p,{id:"searchKeyword-mobile",placeholder:"背景、都市、自然...",value:eM,onChange:e=>eT(e.target.value),className:"flex-grow"}),(0,a.jsx)(t.$,{variant:"outline",size:"icon",onClick:sS,disabled:e6,children:e6?(0,a.jsx)(Y.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(O.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(c.J,{children:"フィルター"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{className:"text-sm text-muted-foreground",children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:sc.map(e=>(0,a.jsxs)(g.E,{variant:e_.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 text-xs",onClick:()=>sP(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{className:"text-sm text-muted-foreground",children:"色"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"red",label:"赤",color:"bg-red-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"black",label:"黒",color:"bg-black"},{value:"white",label:"白",color:"bg-white border"}].map(e=>(0,a.jsxs)(g.E,{variant:eK.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 flex items-center gap-1 text-xs",onClick:()=>sz(e.value),children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.label]},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(c.J,{children:"検索結果"}),(0,a.jsxs)(g.E,{variant:"secondary",children:[e0.length,"件"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:e0.length>0?e0.slice((e4-1)*8,8*e4).map((e,s)=>(0,a.jsx)(v.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>sD(e.url),children:(0,a.jsx)(v.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,a.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,a.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,a.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:[e.downloads," DL"]})})]})})},e.id)):(0,a.jsxs)("div",{className:"col-span-2 text-center text-muted-foreground py-8",children:[(0,a.jsx)(O.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"検索キーワードを入力して検索してください"})]})}),e0.length>8&&(0,a.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,a.jsx)(t.$,{variant:"outline",size:"sm",disabled:1===e4,onClick:()=>sE(e4-1),children:"前へ"}),(0,a.jsx)(t.$,{variant:"outline",size:"sm",children:e4}),(0,a.jsx)(t.$,{variant:"outline",size:"sm",disabled:e4===e3,onClick:()=>sE(e4+1),children:"次へ"})]})]})]})]}),sV=(0,a.jsx)("div",{className:"h-full p-4 lg:p-6",children:ee&&el?(0,a.jsx)(Q,{steps:X,currentStepId:el,estimatedTimeRemaining:er,onCancel:sg}):sC.length>0?(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-4 space-y-2 lg:space-y-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h3",{className:"text-lg lg:text-xl font-semibold",children:"生成された背景"}),(0,a.jsxs)(g.E,{variant:"secondary",children:[sC.length,"枚"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,a.jsxs)("div",{className:"flex border rounded-md",children:[(0,a.jsx)(t.$,{variant:"grid"===ek?"default":"ghost",size:"sm",onClick:()=>eA("grid"),className:"rounded-r-none",children:(0,a.jsx)(K.A,{className:"h-4 w-4"})}),(0,a.jsx)(t.$,{variant:"list"===ek?"default":"ghost",size:"sm",onClick:()=>eA("list"),className:"rounded-l-none",children:(0,a.jsx)(q.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(C.rI,{children:[(0,a.jsx)(C.ty,{asChild:!0,children:(0,a.jsxs)(t.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(G.A,{className:"mr-2 h-4 w-4"}),"並び替え"]})}),(0,a.jsxs)(C.SQ,{className:"bg-[#2D2D2D] border-[#4A4A4A]",children:[(0,a.jsx)(C.lp,{children:"並び替え"}),(0,a.jsx)(C.mB,{}),(0,a.jsx)(C._2,{onClick:()=>eP("newest"),children:"新しい順"}),(0,a.jsx)(C._2,{onClick:()=>eP("oldest"),children:"古い順"}),(0,a.jsx)(C._2,{onClick:()=>eP("favorite"),children:"お気に入り順"}),(0,a.jsx)(C._2,{onClick:()=>eP("download"),children:"ダウンロード数順"})]})]}),eE.size>0&&(0,a.jsxs)(t.$,{variant:"default",size:"sm",onClick:sy,children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),eE.size,"枚ダウンロード"]}),(0,a.jsx)(t.$,{variant:"outline",size:"sm",onClick:sA,children:eE.size===sC.length?"選択解除":"すべて選択"})]})]}),"grid"===ek?(0,a.jsx)("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-4 overflow-y-auto",children:sC.map(e=>{var s,l;return(0,a.jsx)(v.Zp,{className:"cursor-pointer transition-all relative ".concat(ey===e.url?"ring-2 ring-primary":"hover:shadow-md"," ").concat(eE.has(e.id)?"ring-2 ring-blue-500":""),onClick:()=>eC(e.url),children:(0,a.jsx)(v.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,a.jsx)("div",{className:"absolute top-2 left-2 z-10",children:(0,a.jsx)(k.S,{checked:eE.has(e.id),onCheckedChange:s=>{sk(e.id)},onClick:e=>e.stopPropagation(),className:"bg-white/90"})}),(0,a.jsx)("img",{src:e.url,alt:"Generated background ".concat(e.id),className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,a.jsx)(t.$,{variant:"secondary",size:"sm",onClick:s=>{s.stopPropagation(),sN(e.url)},className:"h-8 w-8 p-0","aria-label":eF.includes(e.url)?"お気に入りから削除":"お気に入りに追加",children:(0,a.jsx)(x.A,{className:"h-4 w-4 ".concat(eF.includes(e.url)?"fill-red-500 text-red-500":"text-[#A0A0A0]")})}),(0,a.jsx)(t.$,{variant:"secondary",size:"sm",onClick:s=>{s.stopPropagation(),sw(e.url)},className:"h-8 w-8 p-0","aria-label":"画像をダウンロード",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)(t.$,{variant:"secondary",size:"sm",onClick:s=>{s.stopPropagation(),eD(e.id)},className:"h-8 w-8 p-0","aria-label":"拡大表示",children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-2",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 text-xs text-white",children:[e.category&&(0,a.jsx)(g.E,{variant:"secondary",className:"text-xs",children:(null==(s=sc.find(s=>s.value===e.category))?void 0:s.label)||e.category}),e.style&&(0,a.jsx)(g.E,{variant:"secondary",className:"text-xs",children:(null==(l=so.find(s=>s.value===e.style))?void 0:l.label)||e.style}),e.downloadCount&&e.downloadCount>0&&(0,a.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:["DL: ",e.downloadCount]})]})})]})})},e.id)})}):(0,a.jsx)("div",{className:"flex-grow overflow-y-auto space-y-3",children:sC.map(e=>{var s,l;return(0,a.jsx)(v.Zp,{className:"cursor-pointer transition-all ".concat(ey===e.url?"ring-2 ring-primary":"hover:shadow-md"," ").concat(eE.has(e.id)?"ring-2 ring-blue-500":""),onClick:()=>eC(e.url),children:(0,a.jsx)(v.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(k.S,{checked:eE.has(e.id),onCheckedChange:s=>{sk(e.id)},onClick:e=>e.stopPropagation()}),(0,a.jsx)("div",{className:"w-32 h-20 relative flex-shrink-0 rounded overflow-hidden",children:(0,a.jsx)("img",{src:e.url,alt:"Generated background ".concat(e.id),className:"w-full h-full object-cover"})}),(0,a.jsx)("div",{className:"flex-grow min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:e.prompt||"プロンプトなし"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.category&&(0,a.jsx)(g.E,{variant:"secondary",className:"text-xs",children:(null==(s=sc.find(s=>s.value===e.category))?void 0:s.label)||e.category}),e.style&&(0,a.jsx)(g.E,{variant:"secondary",className:"text-xs",children:(null==(l=so.find(s=>s.value===e.style))?void 0:l.label)||e.style}),e.resolution&&(0,a.jsx)(g.E,{variant:"outline",className:"text-xs",children:e.resolution}),void 0!==e.downloadCount&&(0,a.jsxs)(g.E,{variant:"outline",className:"text-xs",children:["ダウンロード: ",e.downloadCount,"回"]})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:new Date(e.createdAt).toLocaleString("ja-JP")})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),sN(e.url)},className:"h-8 w-8 p-0",children:(0,a.jsx)(x.A,{className:"h-4 w-4 ".concat(eF.includes(e.url)?"fill-red-500 text-red-500":"text-[#A0A0A0]")})}),(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),sw(e.url)},className:"h-8 w-8 p-0",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)(t.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),eD(e.id)},className:"h-8 w-8 p-0",children:(0,a.jsx)(T.A,{className:"h-4 w-4"})})]})]})})]})})},e.id)})}),(0,a.jsx)(y.lG,{open:null!==ez,onOpenChange:e=>!e&&eD(null),children:(0,a.jsxs)(y.Cf,{className:"max-w-4xl w-full",children:[(0,a.jsx)(y.c7,{children:(0,a.jsx)(y.L3,{children:"画像プレビュー"})}),ez&&(()=>{var e,s;let l=sC.find(e=>e.id===ez)||eN.find(e=>e.id===ez);return l?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"relative w-full aspect-video bg-[#1A1A1A] rounded-lg overflow-hidden",children:(0,a.jsx)("img",{src:l.url,alt:"拡大表示",className:"w-full h-full object-contain"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(y.rr,{className:"text-sm font-semibold",children:"生成パラメータ"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"プロンプト:"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:l.prompt||"なし"})]}),l.negativePrompt&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"ネガティブプロンプト:"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-1",children:l.negativePrompt})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[l.category&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"カテゴリ:"}),(0,a.jsx)(g.E,{variant:"secondary",className:"ml-2",children:(null==(e=sc.find(e=>e.value===l.category))?void 0:e.label)||l.category})]}),l.style&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"スタイル:"}),(0,a.jsx)(g.E,{variant:"secondary",className:"ml-2",children:(null==(s=so.find(e=>e.value===l.style))?void 0:s.label)||l.style})]}),l.resolution&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"解像度:"}),(0,a.jsx)(g.E,{variant:"outline",className:"ml-2",children:l.resolution})]}),l.color&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"色:"}),(0,a.jsx)(g.E,{variant:"outline",className:"ml-2",children:l.color})]})]}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground",children:["生成日時: ",new Date(l.createdAt).toLocaleString("ja-JP"),void 0!==l.downloadCount&&(0,a.jsxs)("span",{className:"ml-4",children:["ダウンロード回数: ",l.downloadCount]})]})]})]}),(0,a.jsxs)(y.Es,{children:[(0,a.jsxs)(t.$,{variant:"outline",onClick:()=>l&&sw(l.url),children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"ダウンロード"]}),(0,a.jsx)(t.$,{onClick:()=>eD(null),children:"閉じる"})]})]}):null})()]})})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:ee?(0,a.jsxs)("div",{className:"text-center text-muted-foreground px-4",children:[(0,a.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,a.jsx)(o.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4 animate-spin","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0]",children:"バーチャル背景を生成中..."}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"AIがあなたにぴったりの背景画像を生成しています。しばらくお待ちください。"})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",role:"status","aria-label":"バーチャル背景生成中",children:[(0,a.jsx)(h.EA,{className:"aspect-video w-full"}),(0,a.jsx)(h.EA,{className:"aspect-video w-full"})]})]}):(0,a.jsxs)("div",{className:"text-center text-muted-foreground px-4",children:[(0,a.jsx)(Z.A,{className:"h-12 w-12 lg:h-16 lg:w-16 mx-auto mb-4 opacity-50"}),(0,a.jsx)("h3",{className:"text-lg lg:text-xl font-semibold mb-2",children:"バーチャル背景を生成"}),(0,a.jsx)("p",{className:"max-w-md text-sm lg:text-base",children:D?(0,a.jsx)(a.Fragment,{children:"左側のコントロールパネルでプロンプトを入力し、「背景を生成」ボタンをクリックしてAIが背景画像を生成します。"}):(0,a.jsx)(a.Fragment,{children:"「生成」タブでプロンプトを入力し、「背景を生成」ボタンをクリックしてAIが背景画像を生成します。"})})]})})});return(0,a.jsx)("div",{className:"h-full flex flex-col lg:flex-row lg:h-screen",children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("main",{className:"flex-grow p-4 w-full lg:w-auto",children:sV}),!P&&(0,a.jsx)(E.R,{onOpen:()=>z(!0),isDesktop:D,tabs:[{id:"generate",label:"生成",icon:(0,a.jsx)(Y.A,{className:"h-4 w-4"})},{id:"search",label:"検索",icon:(0,a.jsx)(O.A,{className:"h-4 w-4"})},{id:"history",label:"履歴",icon:(0,a.jsx)(B.A,{className:"h-4 w-4"})}],onTabClick:e=>{H(e)}}),(0,a.jsx)(E.B,{isOpen:P,onClose:()=>z(!1),title:"",isDesktop:D,children:sY})]}):(0,a.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-grow p-4",children:sV}),(0,a.jsx)("div",{className:"border-t p-4",children:(0,a.jsxs)(N.tU,{defaultValue:"generate",value:$,onValueChange:H,className:"w-full",children:[(0,a.jsxs)(N.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(N.Xi,{value:"generate",children:"生成"}),(0,a.jsx)(N.Xi,{value:"search",children:"検索"})]}),(0,a.jsx)(N.av,{value:"generate",className:"mt-4",children:sO}),(0,a.jsx)(N.av,{value:"search",className:"mt-4",children:sU})]})})]})})}},37659:(e,s,l)=>{Promise.resolve().then(l.bind(l,31173))}},e=>{e.O(0,[96,76,358],()=>e(e.s=37659)),_N_E=e.O()}]);