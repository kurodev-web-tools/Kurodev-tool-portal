(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[762],{31173:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>I});var a=s(18841),r=s(58669),i=s(28198),c=s(33544),n=s(77902),t=s(98356),d=s(17550),o=s(20791),x=s(43210),m=s(6166),h=s(59172),u=s(74843),j=s(65939),v=s(98156),p=s(84731),g=s(14967),b=s(24156),N=s(2570),f=s(44166),w=s(10768),y=s(30897),k=s(7934),C=s(83199);let A={string:C.YjP().min(1,"必須項目です"),optionalString:C.YjP().optional(),email:C.YjP().email("有効なメールアドレスを入力してください"),password:C.YjP().min(8,"パスワードは8文字以上で入力してください").regex(/^(?=.*[a-zA-Z])(?=.*\d)/,"英数字を含むパスワードを入力してください"),phone:C.YjP().regex(/^0\d{1,4}-\d{1,4}-\d{4}$/,"有効な電話番号を入力してください（例: 03-1234-5678）"),url:C.YjP().url("有効なURLを入力してください"),number:C.aig().min(0,"0以上の数値を入力してください"),positiveInteger:C.aig().int().positive("正の整数を入力してください"),date:C.YjP().regex(/^\d{4}-\d{2}-\d{2}$/,"有効な日付を入力してください（YYYY-MM-DD）"),datetime:C.YjP().datetime("有効な日時を入力してください"),file:C.Nlp(File,{message:"ファイルを選択してください"}),imageFile:C.Nlp(File).refine(e=>e.type.startsWith("image/"),"画像ファイルを選択してください").refine(e=>e.size<=5242880,"ファイルサイズは5MB以下にしてください")};C.YjP().min(1,"ツールIDは必須です"),C.YjP().min(1,"タイトルは必須です").max(100,"タイトルは100文字以内で入力してください"),C.YjP().min(1,"説明は必須です").max(500,"説明は500文字以内で入力してください"),C.k5n(["released","beta","development"],{message:"有効なステータスを選択してください"}),C.k5n(["planning","production","branding","collaboration"],{message:"有効なカテゴリを選択してください"}),C.YjP().url("有効なURLを入力してください"),C.YOg(C.YjP().min(1,"タグは空にできません")).optional();let P={username:C.YjP().min(2,"ユーザー名は2文字以上で入力してください").max(20,"ユーザー名は20文字以内で入力してください").regex(/^[a-zA-Z0-9_]+$/,"ユーザー名は英数字とアンダースコアのみ使用できます"),displayName:C.YjP().min(1,"表示名は必須です").max(50,"表示名は50文字以内で入力してください"),profile:C.YjP().max(1e3,"プロフィールは1000文字以内で入力してください").optional()};C.YjP().min(1,"検索キーワードを入力してください").max(100,"検索キーワードは100文字以内で入力してください"),C.aig().int().min(1,"ページ番号は1以上である必要があります"),C.aig().int().min(1).max(100,"ページサイズは1-100の範囲で設定してください"),C.k5n(["asc","desc"],{message:"有効なソート順を選択してください"}),C.Ikc({email:A.email,password:C.YjP().min(1,"パスワードは必須です"),remember:C.zMY().optional()}),C.Ikc({email:A.email,password:A.password,confirmPassword:C.YjP(),username:P.username,displayName:P.displayName,agreeToTerms:C.zMY().refine(e=>!0===e,"利用規約に同意してください")}).refine(e=>e.password===e.confirmPassword,{message:"パスワードが一致しません",path:["confirmPassword"]}),C.Ikc({displayName:P.displayName,profile:P.profile,email:A.email.optional()}),C.Ikc({currentPassword:C.YjP().min(1,"現在のパスワードは必須です"),newPassword:A.password,confirmPassword:C.YjP()}).refine(e=>e.newPassword===e.confirmPassword,{message:"新しいパスワードが一致しません",path:["confirmPassword"]});var S=s(49907),J=s(22215),$=s(74486),F=s(75359),z=s(77463),Y=s(64248),D=s(23473),E=s(79706),R=s(42990),V=s(62663);function I(){var e,l,s;let{isOpen:C,setIsOpen:A,isDesktop:P}=(0,y.c)({defaultOpen:!0,desktopDefaultOpen:!0}),[I,O]=(0,r.useState)("generate"),[U,T]=(0,r.useState)(!1),[q,L]=(0,r.useState)(""),[M,_]=(0,r.useState)(""),[K,Z]=(0,r.useState)(""),[B,W]=(0,r.useState)(""),[X,G]=(0,r.useState)(""),[H,Q]=(0,r.useState)("1"),[ee,el]=(0,r.useState)(""),[es,ea]=(0,r.useState)([]),[er,ei]=(0,r.useState)(null),[ec,en]=(0,r.useState)(!1),[et,ed]=(0,r.useState)([]),[eo,ex]=(0,r.useState)([]),[em,eh]=(0,r.useState)(!1),eu="virtual-bg-saved-prompts",[ej,ev]=(0,r.useState)(""),[ep,eg]=(0,r.useState)([]),[eb,eN]=(0,r.useState)([]),[ef,ew]=(0,r.useState)(""),[ey,ek]=(0,r.useState)(""),[eC,eA]=(0,r.useState)("relevance"),[eP,eS]=(0,r.useState)([]),[eJ,e$]=(0,r.useState)(1),[eF,ez]=(0,r.useState)(1),[eY,eD]=(0,r.useState)(!1),[eE,eR]=(0,r.useState)([]),{handleAsyncError:eV}=(0,k.u)(),eI=[{value:"fantasy",label:"ファンタジー",icon:"\uD83E\uDDD9‍♀️"},{value:"sci-fi",label:"SF",icon:"\uD83D\uDE80"},{value:"daily",label:"日常",icon:"\uD83C\uDFE0"},{value:"nature",label:"自然",icon:"\uD83C\uDF3F"},{value:"urban",label:"都市",icon:"\uD83C\uDFD9️"},{value:"space",label:"宇宙",icon:"\uD83C\uDF0C"}],eO=[{value:"anime",label:"アニメ風"},{value:"oil-painting",label:"油絵風"},{value:"watercolor",label:"水彩画風"},{value:"realistic",label:"リアル"},{value:"cartoon",label:"カートゥーン風"},{value:"minimalist",label:"ミニマル"}],eU=[{value:"1920x1080",label:"1920x1080 (16:9)",aspectRatio:"16:9"},{value:"3840x2160",label:"3840x2160 (4K)",aspectRatio:"16:9"},{value:"1080x1920",label:"1080x1920 (9:16)",aspectRatio:"9:16"},{value:"2560x1440",label:"2560x1440 (16:9)",aspectRatio:"16:9"},{value:"1280x720",label:"1280x720 (16:9)",aspectRatio:"16:9"}],eT=[{value:"1",label:"1枚"},{value:"2",label:"2枚"},{value:"4",label:"4枚"},{value:"8",label:"8枚"}],eq=[{value:"",label:"指定なし",color:"bg-gray-500"},{value:"red",label:"赤",color:"bg-red-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"yellow",label:"黄",color:"bg-yellow-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"pink",label:"ピンク",color:"bg-pink-500"},{value:"brown",label:"茶",color:"bg-amber-700"},{value:"black",label:"黒",color:"bg-gray-900"},{value:"white",label:"白",color:"bg-gray-100"}],eL=(0,r.useMemo)(()=>({fantasy:["魔法の森、妖精が舞い踊る神秘的な場所","中世の城、石造りの壮麗な建築物","空に浮かぶ島、雲海の上に広がる異世界"],"sci-fi":["サイバーパンク都市の夜景、ネオンライトが輝く未来都市","宇宙ステーション、星々を見下ろす軌道上の施設","ロボット工場、機械が稼働する未来的な施設"],daily:["コーヒーショップ、温かみのある日常の空間","図書館、本棚が並ぶ静かな読書空間","リビングルーム、くつろぎの家庭空間"],nature:["山頂からの眺め、雲海に浮かぶ山々","森の中の小道、陽光が差し込む緑豊かな道","海辺の夕日、オレンジに染まる水平線"],urban:["大都市の摩天楼、高層ビルが林立する街","商店街の夜景、看板が輝く賑やかな通り","公園のベンチ、都会の中の憩いの場所"],space:["銀河系の中心、星雲が渦巻く宇宙空間","惑星の表面、異世界の風景が広がる大地","星間空間、無数の星が輝く深宇宙"]}),[]);(0,r.useEffect)(()=>{try{let e=localStorage.getItem(eu);e&&ex(JSON.parse(e))}catch(e){console.error("保存済みプロンプトの読み込み失敗",e)}},[]);let eM=(0,r.useCallback)(()=>{if(!q.trim())return void j.oR.error("プロンプトが空です");eh(!0);let e=[{id:Date.now().toString(),prompt:q.trim(),negativePrompt:M.trim()||void 0,createdAt:Date.now()},...eo].slice(0,20);ex(e);try{localStorage.setItem(eu,JSON.stringify(e)),j.oR.success("プロンプトを保存しました")}catch(e){console.error("プロンプト保存失敗",e),j.oR.error("プロンプトの保存に失敗しました")}eh(!1)},[q,M,eo]),e_=(0,r.useCallback)(e=>{L(e.prompt),_(e.negativePrompt||""),j.oR.success("プロンプトを読み込みました")},[]),eK=(0,r.useCallback)(e=>{let l=eo.filter(l=>l.id!==e);ex(l);try{localStorage.setItem(eu,JSON.stringify(l)),j.oR.success("プロンプトを削除しました")}catch(e){console.error("プロンプト削除失敗",e)}},[eo]),eZ=(0,r.useCallback)(e=>{L(e),j.oR.success("テンプレートを適用しました")},[]),eB=(0,r.useCallback)(async()=>{let e=q&&0!==q.trim().length?q.length>1e3?"プロンプトは1000文字以内で入力してください":null:"プロンプトを入力してください";if(e){b.vF.error("バリデーションエラー",{error:e},"VirtualBgGenerator"),j.oR.error("プロンプトの検証エラー",{description:e});return}T(!0),await eV(async()=>{await new Promise(e=>setTimeout(e,2e3));let e=Array.from({length:parseInt(H)},(e,l)=>"https://picsum.photos/800/600?random=".concat(Date.now()+l));ea(e),ei(e[0]),e2({url:e[0],prompt:q}),P||O("preview")},"背景生成中にエラーが発生しました"),T(!1)},[q,H,eV,P]),eW=(0,r.useCallback)(async()=>{try{await navigator.clipboard.writeText(q),en(!0),setTimeout(()=>en(!1),2e3)}catch(e){b.vF.error("コピー失敗",e,"VirtualBgGenerator")}},[q]),eX=(0,r.useCallback)(e=>{ed(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e])},[]),eG=async e=>{try{let l=await fetch(e),s=await l.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="virtual-background-".concat(Date.now(),".jpg"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(a)}catch(s){b.vF.error("ダウンロードエラー",s,"VirtualBgGenerator");let l=document.createElement("a");l.href=e,l.download="virtual-background-".concat(Date.now(),".jpg"),l.target="_blank",document.body.appendChild(l),l.click(),document.body.removeChild(l)}},eH=async()=>{eD(!0),await eV(async()=>{await new Promise(e=>setTimeout(e,1e3));let e=Array.from({length:12},(e,l)=>({id:"search-".concat(l),url:"https://picsum.photos/400/300?random=".concat(Date.now()+l),title:"検索結果 ".concat(l+1),category:eI[l%eI.length].value,color:["red","blue","green","purple","orange"][l%5],resolution:"1920x1080",license:"free",downloads:Math.floor(1e3*Math.random())}));eS(e),ez(Math.ceil(e.length/8)),e$(1)},"検索中にエラーが発生しました"),eD(!1)},eQ=e=>{eg(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e])},e0=e=>{eN(l=>l.includes(e)?l.filter(l=>l!==e):[...l,e])},e1=e=>{ei(e),ea([e]),P||O("preview")},e4=e=>{e$(e)},e2=e=>{let l={id:Date.now().toString(),imageUrl:e.url||e,prompt:q,timestamp:new Date().toISOString(),type:"generated"};eR(e=>[l,...e.slice(0,9)])},e3=(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-4",children:[(0,a.jsx)(p.w,{}),(0,a.jsxs)(f.tU,{value:I,onValueChange:O,className:"flex-grow flex flex-col",children:[(0,a.jsxs)(f.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(f.Xi,{value:"generate",children:"生成"}),(0,a.jsx)(f.Xi,{value:"search",children:"検索"}),(0,a.jsx)(f.Xi,{value:"history",children:"履歴"})]}),(0,a.jsxs)(f.av,{value:"generate",className:"flex-grow space-y-4 mt-4",children:[(0,a.jsxs)(w.nD,{type:"multiple",defaultValue:["basic"],className:"w-full space-y-2",children:[(0,a.jsxs)(w.As,{value:"basic",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"基本設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[K&&eL[K]&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(t.J,{className:"text-xs text-muted-foreground",children:"プロンプトテンプレート"}),(0,a.jsx)("div",{className:"space-y-1",children:eL[K].map((e,l)=>(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>eZ(e),className:"w-full justify-start text-left h-auto py-2 px-3 text-xs",children:[(0,a.jsx)($.A,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e})]},l))})]}),eo.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(t.J,{className:"text-xs text-muted-foreground",children:"保存済みプロンプト"}),(0,a.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:eo.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-1 p-2 border rounded hover:bg-accent group",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>e_(e),className:"flex-1 justify-start text-left h-auto p-0 text-xs",children:(0,a.jsx)("span",{className:"truncate",children:e.prompt})}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>eK(e.id),className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(F.A,{className:"h-3 w-3"})})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"prompt",children:"テキストプロンプト"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.T,{id:"prompt",placeholder:"サイバーパンク都市の夜景、ネオンライトが輝く未来都市...",value:q,onChange:e=>L(e.target.value),className:"min-h-[100px]"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[q&&(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:eW,"aria-label":"プロンプトをコピー",children:ec?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"コピー済み"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"コピー"]})}),q.trim()&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eM,disabled:em,className:"ml-auto",children:[(0,a.jsx)(z.A,{className:"h-4 w-4 mr-1"}),"保存"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eI.map(e=>(0,a.jsxs)(g.E,{variant:K===e.value?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>Z(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"style",children:"スタイル"}),(0,a.jsxs)(N.l6,{value:B,onValueChange:W,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"スタイルを選択"})}),(0,a.jsx)(N.gC,{children:eO.map(e=>(0,a.jsx)(N.eb,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)(w.As,{value:"advanced",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"詳細設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"negativePrompt",children:"ネガティブプロンプト"}),(0,a.jsx)(c.T,{id:"negativePrompt",placeholder:"除外したい要素を入力（例: 人物、文字、ロゴ...）",value:M,onChange:e=>_(e.target.value),className:"min-h-[80px] text-sm"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"生成時に除外したい要素を指定できます"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{children:"主色（カラーパレット）"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eq.map(e=>(0,a.jsxs)("button",{onClick:()=>el(e.value),className:"flex items-center gap-2 px-3 py-1.5 rounded-md border transition-all ".concat(ee===e.value?"border-primary bg-primary/10":"border-border hover:bg-accent"),title:e.label,children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(e.color," ").concat("white"===e.value?"border border-gray-300":"")}),(0,a.jsx)("span",{className:"text-xs",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"resolution",children:"解像度・アスペクト比"}),(0,a.jsxs)(N.l6,{value:X,onValueChange:G,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"解像度を選択"})}),(0,a.jsx)(N.gC,{children:eU.map(e=>(0,a.jsx)(N.eb,{value:e.value,children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:e.label}),X===e.value&&(0,a.jsx)(Y.A,{className:"h-3 w-3 ml-2"})]})},e.value))})]}),X&&(0,a.jsxs)("div",{className:"mt-2 p-3 bg-muted rounded-md",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"プレビュー"}),(0,a.jsx)("div",{className:"mx-auto border-2 border-primary rounded ".concat((null==(e=eU.find(e=>e.value===X))?void 0:e.aspectRatio)==="9:16"?"w-12 h-20":"w-20 h-12"),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}),(0,a.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-2",children:(null==(l=eU.find(e=>e.value===X))?void 0:l.aspectRatio)||"16:9"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"imageCount",children:"生成枚数"}),(0,a.jsxs)(N.l6,{value:H,onValueChange:Q,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"枚数を選択"})}),(0,a.jsx)(N.gC,{children:eT.map(e=>(0,a.jsx)(N.eb,{value:e.value,children:e.label},e.value))})]})]})]})]})]}),(0,a.jsx)(i.$,{onClick:eB,disabled:U||!q.trim(),className:"w-full",size:"lg",children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.A,{className:"mr-2 h-4 w-4"}),"背景を生成"]})})]}),(0,a.jsx)(f.av,{value:"search",className:"flex-grow space-y-4 mt-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"searchKeyword",children:"キーワード検索"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(n.p,{id:"searchKeyword",placeholder:"背景、都市、自然...",value:ej,onChange:e=>ev(e.target.value),className:"flex-grow"}),(0,a.jsx)(i.$,{variant:"outline",size:"icon",onClick:eH,disabled:eY,children:eY?(0,a.jsx)(D.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(E.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(t.J,{children:"フィルター"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:eI.map(e=>(0,a.jsxs)(g.E,{variant:ep.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10",onClick:()=>eQ(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"色"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"red",label:"赤",color:"bg-red-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"black",label:"黒",color:"bg-black"},{value:"white",label:"白",color:"bg-white border"}].map(e=>(0,a.jsxs)(g.E,{variant:eb.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 flex items-center gap-1",onClick:()=>e0(e.value),children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"解像度"}),(0,a.jsxs)(N.l6,{value:ef,onValueChange:ew,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"解像度を選択"})}),(0,a.jsxs)(N.gC,{children:[(0,a.jsx)(N.eb,{value:"all",children:"すべて"}),(0,a.jsx)(N.eb,{value:"4k",children:"4K以上"}),(0,a.jsx)(N.eb,{value:"hd",children:"HD以上"}),(0,a.jsx)(N.eb,{value:"sd",children:"SD以上"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"ライセンス"}),(0,a.jsxs)(N.l6,{value:ey,onValueChange:ek,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"ライセンスを選択"})}),(0,a.jsxs)(N.gC,{children:[(0,a.jsx)(N.eb,{value:"all",children:"すべて"}),(0,a.jsx)(N.eb,{value:"free",children:"無料"}),(0,a.jsx)(N.eb,{value:"commercial",children:"商用利用可"}),(0,a.jsx)(N.eb,{value:"attribution",children:"帰属表示必要"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"並び順"}),(0,a.jsxs)(N.l6,{value:eC,onValueChange:eA,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"並び順を選択"})}),(0,a.jsxs)(N.gC,{children:[(0,a.jsx)(N.eb,{value:"relevance",children:"関連度順"}),(0,a.jsx)(N.eb,{value:"newest",children:"新着順"}),(0,a.jsx)(N.eb,{value:"popular",children:"人気順"}),(0,a.jsx)(N.eb,{value:"downloads",children:"ダウンロード数順"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(t.J,{children:"検索結果"}),(0,a.jsxs)(g.E,{variant:"secondary",children:[eP.length,"件"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:eP.length>0?eP.slice((eJ-1)*8,8*eJ).map((e,l)=>(0,a.jsx)(v.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e1(e.url),children:(0,a.jsx)(v.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,a.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,a.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,a.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:[e.downloads," DL"]})})]})})},e.id)):(0,a.jsxs)("div",{className:"col-span-2 text-center text-muted-foreground py-8",children:[(0,a.jsx)(E.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"検索キーワードを入力して検索してください"})]})}),eP.length>8&&(0,a.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,a.jsx)(i.$,{variant:"outline",size:"sm",disabled:1===eJ,onClick:()=>e4(eJ-1),children:"前へ"}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",children:eJ}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",disabled:eJ===eF,onClick:()=>e4(eJ+1),children:"次へ"})]})]})]})}),(0,a.jsx)(f.av,{value:"history",className:"flex-grow space-y-4 mt-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(t.J,{children:"生成履歴"}),(0,a.jsxs)(g.E,{variant:"secondary",children:[eE.length,"件"]})]}),eE.length>0?(0,a.jsx)("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:eE.map(e=>(0,a.jsx)(v.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>{ei(e.imageUrl),ea([e.imageUrl]),P||O("preview")},children:(0,a.jsx)(v.Wu,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("div",{className:"w-16 h-12 relative overflow-hidden rounded",children:(0,a.jsx)("img",{src:e.imageUrl,alt:"履歴画像",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-grow min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:e.prompt||"プロンプトなし"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleString()}),(0,a.jsx)(g.E,{variant:"outline",className:"text-xs mt-1",children:"generated"===e.type?"AI生成":"検索"})]})]})})},e.id))}):(0,a.jsxs)("div",{className:"text-center text-muted-foreground py-8",children:[(0,a.jsx)(R.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"生成履歴がここに表示されます"})]})]})})]})]}),e6=(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-4 p-4",children:[(0,a.jsx)(p.w,{}),(0,a.jsxs)(w.nD,{type:"multiple",defaultValue:["basic"],className:"w-full space-y-2",children:[(0,a.jsxs)(w.As,{value:"basic",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"基本設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[K&&eL[K]&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(t.J,{className:"text-xs text-muted-foreground",children:"プロンプトテンプレート"}),(0,a.jsx)("div",{className:"space-y-1",children:eL[K].map((e,l)=>(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>eZ(e),className:"w-full justify-start text-left h-auto py-2 px-3 text-xs",children:[(0,a.jsx)($.A,{className:"h-3 w-3 mr-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:e})]},l))})]}),eo.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(t.J,{className:"text-xs text-muted-foreground",children:"保存済みプロンプト"}),(0,a.jsx)("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:eo.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-1 p-2 border rounded hover:bg-accent group",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>e_(e),className:"flex-1 justify-start text-left h-auto p-0 text-xs",children:(0,a.jsx)("span",{className:"truncate",children:e.prompt})}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>eK(e.id),className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(F.A,{className:"h-3 w-3"})})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"prompt-mobile",children:"テキストプロンプト"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(c.T,{id:"prompt-mobile",placeholder:"サイバーパンク都市の夜景、ネオンライトが輝く未来都市...",value:q,onChange:e=>L(e.target.value),className:"min-h-[80px]"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[q&&(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:eW,"aria-label":"プロンプトをコピー",children:ec?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"コピー済み"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-1"}),"コピー"]})}),q.trim()&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eM,disabled:em,className:"ml-auto",children:[(0,a.jsx)(z.A,{className:"h-4 w-4 mr-1"}),"保存"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eI.map(e=>(0,a.jsxs)(g.E,{variant:K===e.value?"default":"outline",className:"cursor-pointer hover:bg-primary/10 text-xs",onClick:()=>Z(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"style-mobile",children:"スタイル"}),(0,a.jsxs)(N.l6,{value:B,onValueChange:W,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"スタイル"})}),(0,a.jsx)(N.gC,{children:eO.map(e=>(0,a.jsx)(N.eb,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)(w.As,{value:"advanced",className:"border rounded-lg px-4",children:[(0,a.jsx)(w.$m,{className:"hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"詳細設定"})]})}),(0,a.jsxs)(w.ub,{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"negativePrompt-mobile",children:"ネガティブプロンプト"}),(0,a.jsx)(c.T,{id:"negativePrompt-mobile",placeholder:"除外したい要素を入力...",value:M,onChange:e=>_(e.target.value),className:"min-h-[60px] text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{children:"主色（カラーパレット）"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:eq.map(e=>(0,a.jsxs)("button",{onClick:()=>el(e.value),className:"flex items-center gap-1 px-2 py-1 rounded-md border transition-all text-xs ".concat(ee===e.value?"border-primary bg-primary/10":"border-border hover:bg-accent"),title:e.label,children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color," ").concat("white"===e.value?"border border-gray-300":"")}),(0,a.jsx)("span",{children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"resolution-mobile",children:"解像度"}),(0,a.jsxs)(N.l6,{value:X,onValueChange:G,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"解像度"})}),(0,a.jsx)(N.gC,{children:eU.map(e=>(0,a.jsx)(N.eb,{value:e.value,children:e.label},e.value))})]}),X&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-muted rounded-md",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"プレビュー"}),(0,a.jsx)("div",{className:"mx-auto border-2 border-primary rounded ".concat((null==(s=eU.find(e=>e.value===X))?void 0:s.aspectRatio)==="9:16"?"w-8 h-14":"w-14 h-8"),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"imageCount-mobile",children:"生成枚数"}),(0,a.jsxs)(N.l6,{value:H,onValueChange:Q,children:[(0,a.jsx)(N.bq,{children:(0,a.jsx)(N.yv,{placeholder:"枚数"})}),(0,a.jsx)(N.gC,{children:eT.map(e=>(0,a.jsx)(N.eb,{value:e.value,children:e.label},e.value))})]})]})]})]})]}),(0,a.jsx)(i.$,{onClick:eB,disabled:U||!q.trim(),className:"w-full",size:"lg",children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.A,{className:"mr-2 h-4 w-4"}),"背景を生成"]})})]}),e5=(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-4 p-4",children:[(0,a.jsx)(p.w,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{htmlFor:"searchKeyword-mobile",children:"キーワード検索"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(n.p,{id:"searchKeyword-mobile",placeholder:"背景、都市、自然...",value:ej,onChange:e=>ev(e.target.value),className:"flex-grow"}),(0,a.jsx)(i.$,{variant:"outline",size:"icon",onClick:eH,disabled:eY,children:eY?(0,a.jsx)(D.A,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(E.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(t.J,{children:"フィルター"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:eI.map(e=>(0,a.jsxs)(g.E,{variant:ep.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 text-xs",onClick:()=>eQ(e.value),children:[e.icon," ",e.label]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(t.J,{className:"text-sm text-muted-foreground",children:"色"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:[{value:"red",label:"赤",color:"bg-red-500"},{value:"blue",label:"青",color:"bg-blue-500"},{value:"green",label:"緑",color:"bg-green-500"},{value:"purple",label:"紫",color:"bg-purple-500"},{value:"orange",label:"オレンジ",color:"bg-orange-500"},{value:"black",label:"黒",color:"bg-black"},{value:"white",label:"白",color:"bg-white border"}].map(e=>(0,a.jsxs)(g.E,{variant:eb.includes(e.value)?"default":"outline",className:"cursor-pointer hover:bg-primary/10 flex items-center gap-1 text-xs",onClick:()=>e0(e.value),children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(e.color)}),e.label]},e.value))})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(t.J,{children:"検索結果"}),(0,a.jsxs)(g.E,{variant:"secondary",children:[eP.length,"件"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:eP.length>0?eP.slice((eJ-1)*8,8*eJ).map((e,l)=>(0,a.jsx)(v.Zp,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>e1(e.url),children:(0,a.jsx)(v.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,a.jsx)("img",{src:e.url,alt:e.title,className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,a.jsx)("div",{className:"absolute bottom-1 left-1 right-1",children:(0,a.jsxs)(g.E,{variant:"secondary",className:"text-xs",children:[e.downloads," DL"]})})]})})},e.id)):(0,a.jsxs)("div",{className:"col-span-2 text-center text-muted-foreground py-8",children:[(0,a.jsx)(E.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"検索キーワードを入力して検索してください"})]})}),eP.length>8&&(0,a.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,a.jsx)(i.$,{variant:"outline",size:"sm",disabled:1===eJ,onClick:()=>e4(eJ-1),children:"前へ"}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",children:eJ}),(0,a.jsx)(i.$,{variant:"outline",size:"sm",disabled:eJ===eF,onClick:()=>e4(eJ+1),children:"次へ"})]})]})]})]}),e8=(0,a.jsx)("div",{className:"h-full p-4 lg:p-6",children:es.length>0?(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:items-center mb-4 space-y-2 lg:space-y-0",children:[(0,a.jsx)("h3",{className:"text-lg lg:text-xl font-semibold",children:"生成された背景"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",className:"flex-1 lg:flex-none",children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"}),"編集"]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>er&&eG(er),className:"flex-1 lg:flex-none",children:[(0,a.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"ダウンロード"]})]})]}),(0,a.jsx)("div",{className:"flex-grow grid grid-cols-1 lg:grid-cols-2 gap-4",children:es.map((e,l)=>(0,a.jsx)(v.Zp,{className:"cursor-pointer transition-all ".concat(er===e?"ring-2 ring-primary":"hover:shadow-md"),onClick:()=>ei(e),children:(0,a.jsx)(v.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"aspect-video relative overflow-hidden rounded-lg",children:[(0,a.jsx)("img",{src:e,alt:"Generated background ".concat(l+1),className:"w-full h-full object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/0 hover:bg-black/10 transition-colors"}),(0,a.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,a.jsx)(i.$,{variant:"secondary",size:"sm",onClick:l=>{l.stopPropagation(),eX(e)},className:"h-8 w-8 p-0","aria-label":et.includes(e)?"お気に入りから削除":"お気に入りに追加",children:(0,a.jsx)(x.A,{className:"h-4 w-4 ".concat(et.includes(e)?"fill-red-500 text-red-500":"text-[#A0A0A0]")})}),(0,a.jsx)(i.$,{variant:"secondary",size:"sm",onClick:l=>{l.stopPropagation(),eG(e)},className:"h-8 w-8 p-0","aria-label":"画像をダウンロード",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]})]})})},l))})]}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:U?(0,a.jsxs)("div",{className:"text-center text-muted-foreground px-4",children:[(0,a.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,a.jsx)(h.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4 animate-spin","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0]",children:"バーチャル背景を生成中..."}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"AIがあなたにぴったりの背景画像を生成しています。しばらくお待ちください。"})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-2 gap-4",role:"status","aria-label":"バーチャル背景生成中",children:[(0,a.jsx)(u.EA,{className:"aspect-video w-full"}),(0,a.jsx)(u.EA,{className:"aspect-video w-full"})]})]}):(0,a.jsxs)("div",{className:"text-center text-muted-foreground px-4",children:[(0,a.jsx)(V.A,{className:"h-12 w-12 lg:h-16 lg:w-16 mx-auto mb-4 opacity-50"}),(0,a.jsx)("h3",{className:"text-lg lg:text-xl font-semibold mb-2",children:"バーチャル背景を生成"}),(0,a.jsx)("p",{className:"max-w-md text-sm lg:text-base",children:P?(0,a.jsx)(a.Fragment,{children:"左側のコントロールパネルでプロンプトを入力し、「背景を生成」ボタンをクリックしてAIが背景画像を生成します。"}):(0,a.jsx)(a.Fragment,{children:"「生成」タブでプロンプトを入力し、「背景を生成」ボタンをクリックしてAIが背景画像を生成します。"})})]})})});return(0,a.jsx)("div",{className:"h-full flex flex-col lg:flex-row lg:h-screen",children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("main",{className:"flex-grow p-4 w-full lg:w-auto",children:e8}),!C&&(0,a.jsx)(S.R,{onOpen:()=>A(!0),isDesktop:P,tabs:[{id:"generate",label:"生成",icon:(0,a.jsx)(D.A,{className:"h-4 w-4"})},{id:"search",label:"検索",icon:(0,a.jsx)(E.A,{className:"h-4 w-4"})},{id:"history",label:"履歴",icon:(0,a.jsx)(R.A,{className:"h-4 w-4"})}],onTabClick:e=>{O(e)}}),(0,a.jsx)(S.B,{isOpen:C,onClose:()=>A(!1),title:"",isDesktop:P,children:e3})]}):(0,a.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,a.jsx)("div",{className:"flex-grow p-4",children:e8}),(0,a.jsx)("div",{className:"border-t p-4",children:(0,a.jsxs)(f.tU,{defaultValue:"generate",value:I,onValueChange:O,className:"w-full",children:[(0,a.jsxs)(f.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(f.Xi,{value:"generate",children:"生成"}),(0,a.jsx)(f.Xi,{value:"search",children:"検索"})]}),(0,a.jsx)(f.av,{value:"generate",className:"mt-4",children:e6}),(0,a.jsx)(f.av,{value:"search",className:"mt-4",children:e5})]})})]})})}},37659:(e,l,s)=>{Promise.resolve().then(s.bind(s,31173))}},e=>{e.O(0,[96,76,358],()=>e(e.s=37659)),_N_E=e.O()}]);