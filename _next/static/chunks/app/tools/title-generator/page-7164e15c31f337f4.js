(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{31474:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(18841),l=a(58669),r=a(28198),i=a(33544),n=a(77902),c=a(98356),o=a(59172),d=a(75359),x=a(42990),h=a(90584),u=a(63615),m=a(23718),j=a(17550),v=a(20791),p=a(14967),g=a(65939),f=a(96802),N=a(53333),w=a(98156),b=a(84731),A=a(30897),y=a(7934),F=a(24156),S=a(44166),k=a(74843);function C(){let{isDesktop:e}=(0,A.c)({defaultOpen:!0,desktopDefaultOpen:!0}),[s,a]=(0,l.useState)("settings"),[C,D]=(0,l.useState)("input"),[T,E]=(0,l.useState)(!1),[R,B]=(0,l.useState)(""),[I,J]=(0,l.useState)(""),[Z,O]=(0,l.useState)([]),[$,_]=(0,l.useState)(""),[z,P]=(0,l.useState)(null),[V,W]=(0,l.useState)([]),M="title-generator-history",[X,G]=(0,l.useState)(""),[L,U]=(0,l.useState)(""),[H,Y]=(0,l.useState)(""),[q,K]=(0,l.useState)(""),{handleAsyncError:Q}=(0,y.u)();(0,l.useEffect)(()=>{try{let e=localStorage.getItem(M);if(e){let s=JSON.parse(e);W(Array.isArray(s)?s:[])}}catch(e){console.error("履歴読み込み失敗",e)}},[]);let ee=(0,l.useCallback)(e=>{try{W(s=>{let a=[e,...s].slice(0,50);return localStorage.setItem(M,JSON.stringify(a)),a})}catch(e){console.error("履歴保存失敗",e)}},[]),es=(0,l.useCallback)(e=>{W(s=>{let a=s.filter(s=>s.id!==e);try{localStorage.setItem(M,JSON.stringify(a))}catch(e){console.error("履歴削除失敗",e)}return a}),g.oR.success("履歴を削除しました")},[]),ea=(0,l.useCallback)(()=>{if(confirm("すべての履歴を削除しますか？")){W([]);try{localStorage.removeItem(M)}catch(e){console.error("履歴全削除失敗",e)}g.oR.success("すべての履歴を削除しました")}},[]),et=(0,l.useCallback)(e=>{O(e.titles),_(e.description),J(e.description),e.titles.length>0&&B(e.titles[0].text),G(e.inputData.videoTheme),U(e.inputData.keywords),Y(e.inputData.targetAudience),K(e.inputData.videoMood),D("input"),g.oR.success("履歴から読み込みました")},[]),el=(0,l.useCallback)(async()=>{if(!X.trim())return void g.oR.error("入力エラー",{description:"動画のテーマ・内容を入力してください"});E(!0),await Q(async()=>{await new Promise(e=>setTimeout(e,1500));let s=(()=>{try{let e=localStorage.getItem("title-generator-favorites");return e?new Set(JSON.parse(e)):new Set}catch(e){return new Set}})(),t=["【初見】超絶高難易度ゲームに挑戦！絶叫必至の展開が...","【実況】新作ゲームを完全攻略！隠し要素も全部見つけた","【コラボ】人気VTuberと一緒にゲーム！予想外の展開に..."].map((e,a)=>({id:"title-".concat(Date.now(),"-").concat(a),text:e,isFavorite:s.has(e)})),l=[...t.filter(e=>e.isFavorite),...t.filter(e=>!e.isFavorite)],r="【動画の概要】\nこの動画では、".concat(X,"について詳しく解説しています。\n\n【タイムスタンプ】\n00:00 オープニング\n02:30 本編開始\n15:45 まとめ\n\n【関連動画】\n・前回の動画: [リンク]\n・次回予告: [リンク]\n\n【ハッシュタグ】\n#VTuber #ゲーム実況 #新作ゲーム #実況 #エンタメ\n\n【SNS】\nTwitter: @your_twitter\nInstagram: @your_instagram");O(l),_(r),l.length>0&&B(l[0].text),J(r),ee({id:"history-".concat(Date.now()),timestamp:Date.now(),titles:l,description:r,inputData:{videoTheme:X,keywords:L,targetAudience:H,videoMood:q}}),e||a("results")},"生成中にエラーが発生しました"),E(!1)},[X,L,H,q,Q,e,ee]),er=(0,l.useCallback)(e=>{B(e)},[]),ei=(0,l.useCallback)(async(e,s)=>{try{await navigator.clipboard.writeText(e),P(s),setTimeout(()=>P(null),2e3),g.oR.success("コピーしました")}catch(e){F.vF.error("コピー失敗",e,"TitleGenerator"),g.oR.error("コピーに失敗しました")}},[]),en=(0,l.useCallback)((e,s)=>{O(s=>{let a=s.find(s=>s.id===e),t=!(null==a?void 0:a.isFavorite),l=s.map(s=>s.id===e?{...s,isFavorite:!s.isFavorite}:s),r=[...l.filter(e=>e.isFavorite),...l.filter(e=>!e.isFavorite)];try{let e=new Set;r.forEach(s=>{s.isFavorite&&e.add(s.text)}),localStorage.setItem("title-generator-favorites",JSON.stringify(Array.from(e)))}catch(e){F.vF.error("お気に入り保存失敗",e,"TitleGenerator")}return g.oR.success(t?"お気に入りに追加しました":"お気に入りを解除しました"),r})},[]),ec=(0,l.useCallback)(e=>{if(!e.destination)return;let s=e.source.index,a=e.destination.index;s!==a&&O(e=>{let t=Array.from(e),[l]=t.splice(s,1);return t.splice(a,0,l),[...t.filter(e=>e.isFavorite),...t.filter(e=>!e.isFavorite)]})},[]),eo=(0,t.jsx)("div",{className:"flex flex-col h-full p-6 space-y-4 relative",children:(0,t.jsxs)(S.tU,{value:C,onValueChange:D,className:"flex-1 flex flex-col min-w-0",children:[(0,t.jsxs)(S.j7,{className:"grid w-full grid-cols-2 mb-4",children:[(0,t.jsx)(S.Xi,{value:"input",children:"入力"}),(0,t.jsxs)(S.Xi,{value:"history",children:["履歴",V.length>0&&(0,t.jsx)(p.E,{variant:"secondary",className:"ml-2 h-5 px-1.5 text-xs",children:V.length})]})]}),(0,t.jsxs)(S.av,{value:"input",className:"flex-1 space-y-4 overflow-auto mt-0",children:[(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(w.ZB,{children:"動画情報入力"})}),(0,t.jsxs)(w.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"video-theme",children:"動画のテーマ・内容"}),(0,t.jsx)(i.T,{id:"video-theme",placeholder:"動画の台本や要約などを入力...",value:X,onChange:e=>G(e.target.value),rows:4,className:"resize-y"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"keywords",children:"主要キーワード"}),(0,t.jsx)(n.p,{id:"keywords",placeholder:"例: ゲーム名, キャラクター名, 感想",value:L,onChange:e=>U(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"target-audience",children:"ターゲット層"}),(0,t.jsx)(n.p,{id:"target-audience",placeholder:"例: 10代男性, VTuberファン",value:H,onChange:e=>Y(e.target.value)})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"video-mood",children:"動画の雰囲気"}),(0,t.jsx)(n.p,{id:"video-mood",placeholder:"例: 面白い, 感動, 解説",value:q,onChange:e=>K(e.target.value)})]})]})]}),(0,t.jsx)(r.$,{size:"lg",className:"w-full",onClick:el,disabled:T,children:T?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{className:"mr-2 h-5 w-5 animate-spin"}),"生成中..."]}):"生成する"})]}),(0,t.jsx)(S.av,{value:"history",className:"flex-1 space-y-4 overflow-auto mt-0",children:(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsxs)(w.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"生成履歴"}),V.length>0&&(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:ea,className:"text-red-400 hover:text-red-300","aria-label":"すべての履歴を削除",children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})]})}),(0,t.jsx)(w.Wu,{children:0===V.length?(0,t.jsxs)("div",{className:"text-center text-sm text-muted-foreground py-8",children:[(0,t.jsx)(x.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"生成履歴がありません"}),(0,t.jsx)("p",{className:"text-xs mt-2",children:"タイトルと概要欄を生成すると、ここに履歴が表示されます"})]}):(0,t.jsx)("div",{className:"space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto",children:V.map(e=>{let s=new Date(e.timestamp).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),a=(()=>{let a=Date.now()-e.timestamp,t=Math.floor(a/6e4),l=Math.floor(a/36e5),r=Math.floor(a/864e5);return t<1?"たった今":t<60?"".concat(t,"分前"):l<24?"".concat(l,"時間前"):r<7?"".concat(r,"日前"):s})();return(0,t.jsxs)(w.Zp,{className:(0,N.cn)("cursor-pointer hover:border-[#20B2AA] transition-all group relative overflow-visible"),onClick:()=>et(e),children:[(0,t.jsx)("div",{className:(0,N.cn)("absolute left-0 top-0 bottom-0 w-1 bg-transparent group-hover:bg-[#20B2AA] transition-colors rounded-l-xl","-ml-2")}),(0,t.jsx)(w.Wu,{className:"p-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[e.titles.length>0&&(0,t.jsx)("p",{className:"text-sm font-medium truncate mb-1",children:e.titles[0].text}),e.inputData.videoTheme&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground truncate mb-1",children:[e.inputData.videoTheme.substring(0,50),e.inputData.videoTheme.length>50?"...":""]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)(h.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:a}),(0,t.jsx)("span",{className:"text-[#808080]",children:"・"}),(0,t.jsxs)("span",{children:[e.titles.length,"件のタイトル案"]})]})]}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 transition-opacity",onClick:s=>{s.stopPropagation(),es(e.id)},"aria-label":"履歴を削除",children:(0,t.jsx)(d.A,{className:"h-3 w-3"})})]})})]},e.id)})})})]})})]})}),ed=(0,t.jsxs)("div",{className:"flex flex-col h-full p-6 space-y-4 relative",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold",children:"生成結果"}),(0,t.jsx)(b.w,{}),(0,t.jsxs)("div",{className:"flex-grow space-y-4 overflow-auto",children:[(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(w.ZB,{children:"最終編集エリア"})}),(0,t.jsxs)(w.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"final-title",children:"最終タイトル"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[T?(0,t.jsx)(k.EA,{className:"h-10 w-full"}):(0,t.jsx)(n.p,{id:"final-title",placeholder:"AIが生成したタイトル案",value:R,onChange:e=>B(e.target.value)}),(0,t.jsx)(r.$,{variant:"outline",onClick:()=>navigator.clipboard.writeText(R),disabled:!R,children:"コピー"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{htmlFor:"final-description",children:"最終概要欄"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[T?(0,t.jsx)(k.EA,{className:"h-24 w-full"}):(0,t.jsx)(i.T,{id:"final-description",placeholder:"AIが生成した概要欄",value:I,onChange:e=>J(e.target.value)}),(0,t.jsx)(r.$,{variant:"outline",onClick:()=>navigator.clipboard.writeText(I),disabled:!I,children:"コピー"})]})]})]})]}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"AI提案エリア"}),T?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,t.jsx)(o.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4 animate-spin","aria-hidden":"true"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0]",children:"タイトルと概要欄を生成中..."}),(0,t.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"AIが最適なタイトルと概要欄を考えています。しばらくお待ちください。"})]}),(0,t.jsxs)("div",{className:"space-y-4",role:"status","aria-label":"タイトルと概要欄生成中",children:[(0,t.jsx)(k.EA,{className:"h-20 w-full"}),(0,t.jsx)(k.EA,{className:"h-20 w-full"}),(0,t.jsx)(k.EA,{className:"h-20 w-full"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsxs)(w.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"タイトル案"}),Z.length>0&&(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:Z.filter(e=>e.isFavorite).length>0&&(0,t.jsxs)(p.E,{variant:"outline",className:"ml-2",children:[Z.filter(e=>e.isFavorite).length,"件お気に入り"]})})]})}),(0,t.jsx)(w.Wu,{className:"space-y-2",children:0===Z.length?(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground py-8",children:"タイトル案がありません"}):(0,t.jsx)(f.JY,{onDragEnd:ec,children:(0,t.jsx)(f.gL,{droppableId:"title-options",children:e=>(0,t.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-2",children:[Z.map((e,s)=>(0,t.jsx)(f.sx,{draggableId:e.id,index:s,isDragDisabled:e.isFavorite,children:(a,l)=>(0,t.jsxs)("div",{ref:a.innerRef,...a.draggableProps,className:(0,N.cn)("flex items-center gap-2 p-3 border rounded-md transition-all",e.isFavorite?"bg-[#2D2D2D] border-[#20B2AA]/50":"hover:bg-accent/50",l.isDragging&&"shadow-lg opacity-90 bg-[#3A3A3A]",e.isFavorite&&"border-l-4 border-l-[#20B2AA]"),children:[!e.isFavorite&&(0,t.jsx)("div",{...a.dragHandleProps,className:"flex-shrink-0 cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground","aria-label":"ドラッグして並び替え",children:(0,t.jsx)(u.A,{className:"h-4 w-4"})}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",className:(0,N.cn)("flex-shrink-0 h-8 w-8 p-0",e.isFavorite&&"text-[#20B2AA]"),onClick:()=>en(e.id,e.text),"aria-label":e.isFavorite?"お気に入りを解除":"お気に入りに追加",children:(0,t.jsx)(m.A,{className:(0,N.cn)("h-4 w-4",e.isFavorite?"fill-[#20B2AA] text-[#20B2AA]":"")})}),(0,t.jsx)("span",{className:(0,N.cn)("flex-1 text-sm",e.isFavorite&&"font-medium"),children:e.text}),(0,t.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,t.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>er(e.text),"aria-label":"タイトル案".concat(s+1,"を選択"),children:"選択"}),(0,t.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>ei(e.text,e.id),"aria-label":"タイトル案".concat(s+1,"をコピー"),children:z===e.id?(0,t.jsx)(j.A,{className:"h-4 w-4 text-[#20B2AA]"}):(0,t.jsx)(v.A,{className:"h-4 w-4"})})]})]})},e.id)),e.placeholder]})})})})]}),(0,t.jsxs)(w.Zp,{children:[(0,t.jsx)(w.aR,{children:(0,t.jsx)(w.ZB,{children:"概要欄"})}),(0,t.jsx)(w.Wu,{children:(0,t.jsx)(i.T,{readOnly:!0,value:$})})]})]})]})]});return(0,t.jsx)("div",{className:"h-full flex flex-col lg:flex-row lg:h-screen",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("aside",{className:"w-full lg:w-1/2 border-r border-[#4A4A4A] bg-[#1A1A1A] overflow-y-auto",children:eo}),(0,t.jsx)("main",{className:"w-full lg:w-1/2 p-4 bg-[#1A1A1A] overflow-y-auto",children:ed})]}):(0,t.jsx)("div",{className:"border-b bg-background p-4",children:(0,t.jsxs)(S.tU,{defaultValue:"settings",value:s,onValueChange:a,className:"w-full h-full flex flex-col",children:[(0,t.jsxs)(S.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(S.Xi,{value:"settings",children:"設定"}),(0,t.jsx)(S.Xi,{value:"results",children:"結果"})]}),(0,t.jsx)(S.av,{value:"settings",className:"flex-grow overflow-auto",children:eo}),(0,t.jsx)(S.av,{value:"results",className:"flex-grow overflow-auto",children:ed})]})})})}},45674:(e,s,a)=>{Promise.resolve().then(a.bind(a,31474))}},e=>{e.O(0,[96,76,358],()=>e(e.s=45674)),_N_E=e.O()}]);