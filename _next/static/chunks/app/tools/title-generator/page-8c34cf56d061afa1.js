(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[595],{31474:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>B});var a=t(18841),l=t(58669),r=t(28198),i=t(33544),n=t(77902),c=t(98356),o=t(59172),d=t(75359),x=t(42990),h=t(90584),m=t(56630),u=t(23718),p=t(42542),g=t(83190),j=t(23473),f=t(63615),v=t(64165),N=t(69547),w=t(17550),b=t(20791),y=t(45185),A=t(17167),C=t(14967),k=t(65939),S=t(96802),F=t(53333),T=t(98156),E=t(84731),D=t(30897),I=t(7934),R=t(24156),J=t(44166),$=t(74843);function B(){let{isDesktop:e}=(0,D.c)({defaultOpen:!0,desktopDefaultOpen:!0}),[s,t]=(0,l.useState)("settings"),[B,z]=(0,l.useState)("input"),[O,V]=(0,l.useState)("edit"),[M,Z]=(0,l.useState)(!1),[W,P]=(0,l.useState)(""),[_,X]=(0,l.useState)(""),[L,U]=(0,l.useState)([]),[G,Y]=(0,l.useState)(""),[H,K]=(0,l.useState)(null),[q,Q]=(0,l.useState)([]),[ee,es]=(0,l.useState)([]),[et,ea]=(0,l.useState)(""),el="title-generator-history",er="title-generator-input-draft",ei="title-generator-hashtag-favorites",[en,ec]=(0,l.useState)(""),[eo,ed]=(0,l.useState)(""),[ex,eh]=(0,l.useState)(""),[em,eu]=(0,l.useState)(""),{handleAsyncError:ep}=(0,I.u)(),eg=(0,l.useRef)(null),ej=(0,l.useRef)(!0),ef=(0,l.useCallback)(()=>{try{let e={videoTheme:en,keywords:eo,targetAudience:ex,videoMood:em,timestamp:Date.now()};localStorage.setItem(er,JSON.stringify(e))}catch(e){console.error("入力内容保存失敗",e)}},[en,eo,ex,em]);(0,l.useEffect)(()=>{try{let e=localStorage.getItem(er);if(e){let s=JSON.parse(e);s&&"object"==typeof s&&((Date.now()-(s.timestamp||0))/864e5<7?(s.videoTheme&&ec(s.videoTheme),s.keywords&&ed(s.keywords),s.targetAudience&&eh(s.targetAudience),s.videoMood&&eu(s.videoMood)):localStorage.removeItem(er))}ej.current=!1}catch(e){console.error("入力内容読み込み失敗",e),ej.current=!1}},[]),(0,l.useEffect)(()=>{if(!ej.current)return eg.current&&clearTimeout(eg.current),eg.current=setTimeout(()=>{ef()},1e3),()=>{eg.current&&clearTimeout(eg.current)}},[en,eo,ex,em,ef]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem(el);if(e){let s=JSON.parse(e);Q(Array.isArray(s)?s:[])}}catch(e){console.error("履歴読み込み失敗",e)}},[]);let ev=(0,l.useCallback)(e=>{try{Q(s=>{let t=[e,...s].slice(0,50);return localStorage.setItem(el,JSON.stringify(t)),t})}catch(e){console.error("履歴保存失敗",e)}},[]),eN=(0,l.useCallback)(e=>{Q(s=>{let t=s.filter(s=>s.id!==e);try{localStorage.setItem(el,JSON.stringify(t))}catch(e){console.error("履歴削除失敗",e)}return t}),k.oR.success("履歴を削除しました")},[]),ew=(0,l.useCallback)(()=>{if(confirm("すべての履歴を削除しますか？")){Q([]);try{localStorage.removeItem(el)}catch(e){console.error("履歴全削除失敗",e)}k.oR.success("すべての履歴を削除しました")}},[]),eb=(0,l.useCallback)(e=>{U(e.titles),Y(e.description),X(e.description),e.titles.length>0&&P(e.titles[0].text),ec(e.inputData.videoTheme),ed(e.inputData.keywords),eh(e.inputData.targetAudience),eu(e.inputData.videoMood),z("input"),k.oR.success("履歴から読み込みました")},[]),ey=(0,l.useCallback)(async()=>{if(!en.trim())return void k.oR.error("入力エラー",{description:"動画のテーマ・内容を入力してください"});Z(!0),await ep(async()=>{await new Promise(e=>setTimeout(e,1500));let s=(()=>{try{let e=localStorage.getItem("title-generator-favorites");return e?new Set(JSON.parse(e)):new Set}catch(e){return new Set}})(),a=["【初見】超絶高難易度ゲームに挑戦！絶叫必至の展開が...","【実況】新作ゲームを完全攻略！隠し要素も全部見つけた","【コラボ】人気VTuberと一緒にゲーム！予想外の展開に..."].map((e,t)=>({id:"title-".concat(Date.now(),"-").concat(t),text:e,isFavorite:s.has(e)})),l=[...a.filter(e=>e.isFavorite),...a.filter(e=>!e.isFavorite)],r="【動画の概要】\nこの動画では、".concat(en,"について詳しく解説しています。\n\n【タイムスタンプ】\n00:00 オープニング\n02:30 本編開始\n15:45 まとめ\n\n【関連動画】\n・前回の動画: [リンク]\n・次回予告: [リンク]\n\n【ハッシュタグ】\n").concat(ee.length>0?ee.map(e=>"#".concat(e)).join(" "):"#VTuber #ゲーム実況 #新作ゲーム #実況 #エンタメ","\n\n【SNS】\nTwitter: @your_twitter\nInstagram: @your_instagram");0===ee.length&&es(["VTuber","ゲーム実況","新作ゲーム","実況","エンタメ"]),U(l),Y(r),l.length>0&&P(l[0].text),X(r),ev({id:"history-".concat(Date.now()),timestamp:Date.now(),titles:l,description:r,inputData:{videoTheme:en,keywords:eo,targetAudience:ex,videoMood:em}});try{localStorage.removeItem(er)}catch(e){console.error("一時保存クリア失敗",e)}e||t("results")},"生成中にエラーが発生しました"),Z(!1)},[en,eo,ex,em,ep,e,ev]),eA=(0,l.useCallback)(e=>{P(e)},[]),eC=(0,l.useCallback)(async(e,s)=>{try{await navigator.clipboard.writeText(e),K(s),setTimeout(()=>K(null),2e3),k.oR.success("コピーしました")}catch(e){R.vF.error("コピー失敗",e,"TitleGenerator"),k.oR.error("コピーに失敗しました")}},[]),ek=(0,l.useCallback)((e,s)=>{U(s=>{let t=s.find(s=>s.id===e),a=!(null==t?void 0:t.isFavorite),l=s.map(s=>s.id===e?{...s,isFavorite:!s.isFavorite}:s),r=[...l.filter(e=>e.isFavorite),...l.filter(e=>!e.isFavorite)];try{let e=new Set;r.forEach(s=>{s.isFavorite&&e.add(s.text)}),localStorage.setItem("title-generator-favorites",JSON.stringify(Array.from(e)))}catch(e){R.vF.error("お気に入り保存失敗",e,"TitleGenerator")}return k.oR.success(a?"お気に入りに追加しました":"お気に入りを解除しました"),r})},[]),eS=(0,l.useCallback)((e,s)=>{let t=e.length,a=s.split(/[,、，]/).map(e=>e.trim()).filter(e=>e.length>0),l=0;a.forEach(s=>{e.toLowerCase().includes(s.toLowerCase())&&l++});let r=a.length>0?Math.round(l/a.length*100):0,i=[];e.includes("【")&&e.includes("】")&&i.push("構造化"),(e.includes("！")||e.includes("!"))&&i.push("キャッチー"),(e.includes("？")||e.includes("?"))&&i.push("疑問形"),r>=50&&i.push("キーワード豊富"),t<=60&&t>=30&&i.push("最適長"),t>60&&i.push("長文"),t<30&&i.push("短文");let n=0;t>=30&&t<=60?n+=40:t>60&&t<=70?n+=30:t>70?n+=10:t>=20&&t<30?n+=25:n+=10,n+=Math.round(r/100*30);let c=0;i.includes("構造化")&&(c+=10),i.includes("キャッチー")&&(c+=10),i.includes("最適長")&&(c+=10);let o=Math.round(.8*(n+=Math.min(c,30)));return{charCount:t,keywordCoverage:r,features:i,score:Math.min(n,100),clickRateScore:o,isOverRecommended:t>60}},[]),eF=(0,l.useCallback)(e=>{let s=e.match(/【ハッシュタグ】\s*\n([\s\S]*?)(?=\n【|$)/);if(!s)return[];let t=s[1].trim().match(/#([\w\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FAF]+)/g);return t?t.map(e=>e.replace("#","")):[]},[]),eT=(0,l.useCallback)(e=>{let s=e.length>0?e.map(e=>"#".concat(e)).join(" "):"#VTuber #ゲーム実況 #新作ゲーム #実況 #エンタメ";Y(e=>e.includes("【ハッシュタグ】")?e.replace(/【ハッシュタグ】\s*\n([\s\S]*?)(?=\n【|$)/,"【ハッシュタグ】\n".concat(s)):e+(e.endsWith("\n")?"":"\n")+"\n【ハッシュタグ】\n".concat(s)),X(e=>e.includes("【ハッシュタグ】")?e.replace(/【ハッシュタグ】\s*\n([\s\S]*?)(?=\n【|$)/,"【ハッシュタグ】\n".concat(s)):e+(e.endsWith("\n")?"":"\n")+"\n【ハッシュタグ】\n".concat(s))},[]),eE=(0,l.useCallback)(e=>{let s=e.trim().replace(/^#/,"");if(!s||ee.includes(s))return;let t=[...ee,s];es(t),eT(t),ea("")},[ee,eT]),eD=(0,l.useCallback)(e=>{let s=ee.filter(s=>s!==e);es(s),eT(s)},[ee,eT]),eI=(0,l.useCallback)(e=>{try{let s=localStorage.getItem(ei),t=s?JSON.parse(s):[];if(!t.includes(e)){let s=[...t,e];localStorage.setItem(ei,JSON.stringify(s)),k.oR.success("ハッシュタグをお気に入りに追加しました")}}catch(e){console.error("ハッシュタグお気に入り保存失敗",e)}},[]),eR=(0,l.useCallback)(()=>{try{let e=localStorage.getItem(ei);return e?JSON.parse(e):[]}catch(e){return console.error("ハッシュタグお気に入り読み込み失敗",e),[]}},[]),eJ=(0,l.useCallback)((e,s)=>{let t=[];return e.split(/[,、，]/).map(e=>e.trim()).filter(e=>e.length>0).forEach(e=>{e.length<=10&&t.push(e)}),(s.includes("ゲーム")||s.includes("ゲーム実況"))&&t.push("VTuber","ゲーム実況","実況"),(s.includes("歌")||s.includes("歌枠"))&&t.push("VTuber","歌枠","歌ってみた"),s.includes("コラボ")&&t.push("VTuber","コラボ","コラボ配信"),t.push("VTuber","バーチャルYouTuber","エンタメ"),Array.from(new Set(t))},[]);(0,l.useEffect)(()=>{if(G){let e=eF(G);e.length>0&&es(e)}},[G,eF]);let e$=(0,l.useCallback)(e=>{if(!e.destination)return;let s=e.source.index,t=e.destination.index;s!==t&&U(e=>{let a=Array.from(e),[l]=a.splice(s,1);return a.splice(t,0,l),[...a.filter(e=>e.isFavorite),...a.filter(e=>!e.isFavorite)]})},[]),eB=(0,a.jsx)("div",{className:"flex flex-col h-full p-6 space-y-4 relative",children:(0,a.jsxs)(J.tU,{value:B,onValueChange:z,className:"flex-1 flex flex-col min-w-0",children:[(0,a.jsxs)(J.j7,{className:"grid w-full grid-cols-2 mb-4",children:[(0,a.jsx)(J.Xi,{value:"input",children:"入力"}),(0,a.jsxs)(J.Xi,{value:"history",children:["履歴",q.length>0&&(0,a.jsx)(C.E,{variant:"secondary",className:"ml-2 h-5 px-1.5 text-xs",children:q.length})]})]}),(0,a.jsxs)(J.av,{value:"input",className:"flex-1 space-y-4 overflow-auto mt-0",children:[(0,a.jsxs)(T.Zp,{children:[(0,a.jsx)(T.aR,{children:(0,a.jsx)(T.ZB,{children:"動画情報入力"})}),(0,a.jsxs)(T.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"video-theme",children:"動画のテーマ・内容"}),(0,a.jsx)(i.T,{id:"video-theme",placeholder:"動画の台本や要約などを入力...",value:en,onChange:e=>ec(e.target.value),rows:4,className:"resize-y"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"keywords",children:"主要キーワード"}),(0,a.jsx)(n.p,{id:"keywords",placeholder:"例: ゲーム名, キャラクター名, 感想",value:eo,onChange:e=>ed(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"target-audience",children:"ターゲット層"}),(0,a.jsx)(n.p,{id:"target-audience",placeholder:"例: 10代男性, VTuberファン",value:ex,onChange:e=>eh(e.target.value)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"video-mood",children:"動画の雰囲気"}),(0,a.jsx)(n.p,{id:"video-mood",placeholder:"例: 面白い, 感動, 解説",value:em,onChange:e=>eu(e.target.value)})]})]})]}),(0,a.jsx)(r.$,{size:"lg",className:"w-full",onClick:ey,disabled:M,children:M?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.A,{className:"mr-2 h-5 w-5 animate-spin"}),"生成中..."]}):"生成する"})]}),(0,a.jsx)(J.av,{value:"history",className:"flex-1 space-y-4 overflow-auto mt-0",children:(0,a.jsxs)(T.Zp,{children:[(0,a.jsx)(T.aR,{children:(0,a.jsxs)(T.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"生成履歴"}),q.length>0&&(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:ew,className:"text-red-400 hover:text-red-300","aria-label":"すべての履歴を削除",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]})}),(0,a.jsx)(T.Wu,{children:0===q.length?(0,a.jsxs)("div",{className:"text-center text-sm text-muted-foreground py-8",children:[(0,a.jsx)(x.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"生成履歴がありません"}),(0,a.jsx)("p",{className:"text-xs mt-2",children:"タイトルと概要欄を生成すると、ここに履歴が表示されます"})]}):(0,a.jsx)("div",{className:"space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto",children:q.map(e=>{let s=new Date(e.timestamp).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),t=(()=>{let t=Date.now()-e.timestamp,a=Math.floor(t/6e4),l=Math.floor(t/36e5),r=Math.floor(t/864e5);return a<1?"たった今":a<60?"".concat(a,"分前"):l<24?"".concat(l,"時間前"):r<7?"".concat(r,"日前"):s})();return(0,a.jsxs)(T.Zp,{className:(0,F.cn)("cursor-pointer hover:border-[#20B2AA] transition-all group relative overflow-visible"),onClick:()=>eb(e),children:[(0,a.jsx)("div",{className:(0,F.cn)("absolute left-0 top-0 bottom-0 w-1 bg-transparent group-hover:bg-[#20B2AA] transition-colors rounded-l-xl","-ml-2")}),(0,a.jsx)(T.Wu,{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[e.titles.length>0&&(0,a.jsx)("p",{className:"text-sm font-medium truncate mb-1",children:e.titles[0].text}),e.inputData.videoTheme&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground truncate mb-1",children:[e.inputData.videoTheme.substring(0,50),e.inputData.videoTheme.length>50?"...":""]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)(h.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{className:"text-[#808080]",children:"・"}),(0,a.jsxs)("span",{children:[e.titles.length,"件のタイトル案"]})]})]}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 transition-opacity",onClick:s=>{s.stopPropagation(),eN(e.id)},"aria-label":"履歴を削除",children:(0,a.jsx)(d.A,{className:"h-3 w-3"})})]})})]},e.id)})})})]})})]})}),ez=(0,a.jsxs)("div",{className:"flex flex-col h-full p-6 space-y-4 relative",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold",children:"生成結果"}),(0,a.jsx)(E.w,{}),(0,a.jsxs)("div",{className:"flex-grow space-y-4 overflow-auto",children:[(0,a.jsxs)(T.Zp,{children:[(0,a.jsx)(T.aR,{children:(0,a.jsx)(T.ZB,{children:"最終編集エリア"})}),(0,a.jsxs)(T.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.J,{htmlFor:"final-title",children:"最終タイトル"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[M?(0,a.jsx)($.EA,{className:"h-10 w-full"}):(0,a.jsx)(n.p,{id:"final-title",placeholder:"AIが生成したタイトル案",value:W,onChange:e=>P(e.target.value)}),(0,a.jsx)(r.$,{variant:"outline",onClick:()=>navigator.clipboard.writeText(W),disabled:!W,children:"コピー"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(c.J,{htmlFor:"final-description",children:["最終概要欄",(0,a.jsxs)("span",{className:(0,F.cn)("ml-2 text-xs font-normal",_.length>5e3?"text-red-400":_.length>4500?"text-yellow-400":"text-muted-foreground"),children:["(",_.length," / ",5e3,")"]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[M?(0,a.jsx)($.EA,{className:"h-24 w-full"}):(0,a.jsx)(i.T,{id:"final-description",placeholder:"AIが生成した概要欄",value:_,onChange:e=>X(e.target.value),rows:8,className:"resize-y"}),(0,a.jsx)(r.$,{variant:"outline",onClick:()=>{navigator.clipboard.writeText(_),k.oR.success("概要欄をコピーしました")},disabled:!_,children:"コピー"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(c.J,{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"ハッシュタグ"]}),(0,a.jsxs)("span",{className:(0,F.cn)("text-xs font-normal",ee.length>15?"text-yellow-400":ee.length>=10&&ee.length<=15?"text-green-400":"text-muted-foreground"),children:[ee.length," / ",15,"（推奨: 10-15個）"]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 p-3 border rounded-md min-h-[60px] bg-muted/30 mb-2",children:0===ee.length?(0,a.jsx)("div",{className:"text-sm text-muted-foreground italic w-full text-center py-2",children:"ハッシュタグがありません"}):ee.map(e=>(0,a.jsxs)(C.E,{variant:"secondary",className:"flex items-center gap-1.5 px-2 py-1 text-sm group/hashtag",children:[(0,a.jsx)(m.A,{className:"h-3 w-3"}),e,(0,a.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,a.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 opacity-0 group-hover/hashtag:opacity-100 hover:bg-[#20B2AA]/20 hover:text-[#20B2AA] rounded-full transition-opacity",onClick:s=>{s.stopPropagation(),eI(e)},"aria-label":"".concat(e,"をお気に入りに追加"),children:(0,a.jsx)(u.A,{className:"h-3 w-3"})}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-destructive hover:text-destructive-foreground rounded-full",onClick:()=>eD(e),"aria-label":"".concat(e,"を削除"),children:(0,a.jsx)(p.A,{className:"h-3 w-3"})})]})]},e))}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(n.p,{placeholder:"ハッシュタグを入力（#は不要）",value:et,onChange:e=>ea(e.target.value),onKeyDown:e=>{"Enter"===e.key&&et.trim()&&eE(et)},className:"flex-1"}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{et.trim()&&eE(et)},disabled:!et.trim(),children:(0,a.jsx)(g.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(()=>{let e=eJ(eo,en).filter(e=>!ee.includes(e));return e.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"候補:"}),e.slice(0,5).map(e=>(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>eE(e),children:[(0,a.jsx)(j.A,{className:"h-3 w-3 mr-1"}),e]},e))]})})(),(()=>{let e=eR().filter(e=>!ee.includes(e));return e.length>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"お気に入り:"}),e.slice(0,5).map(e=>(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>eE(e),children:[(0,a.jsx)(u.A,{className:"h-3 w-3 mr-1 fill-[#20B2AA] text-[#20B2AA]"}),e]},e))]})})()]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"プリセット:"}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>{let e=["VTuber","ゲーム実況","実況","エンタメ"];es(e),eT(e)},children:"ゲーム実況"}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>{let e=["VTuber","歌枠","歌ってみた","エンタメ"];es(e),eT(e)},children:"歌枠"}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>{let e=["VTuber","コラボ","コラボ配信","エンタメ"];es(e),eT(e)},children:"コラボ"})]})]})]})]})]}),(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"AI提案エリア"}),M?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,a.jsx)(o.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4 animate-spin","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0]",children:"タイトルと概要欄を生成中..."}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"AIが最適なタイトルと概要欄を考えています。しばらくお待ちください。"})]}),(0,a.jsxs)("div",{className:"space-y-4",role:"status","aria-label":"タイトルと概要欄生成中",children:[(0,a.jsx)($.EA,{className:"h-20 w-full"}),(0,a.jsx)($.EA,{className:"h-20 w-full"}),(0,a.jsx)($.EA,{className:"h-20 w-full"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(T.Zp,{children:[(0,a.jsx)(T.aR,{children:(0,a.jsxs)(T.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"タイトル案"}),L.length>0&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:L.filter(e=>e.isFavorite).length>0&&(0,a.jsxs)(C.E,{variant:"outline",className:"ml-2",children:[L.filter(e=>e.isFavorite).length,"件お気に入り"]})})]})}),(0,a.jsx)(T.Wu,{className:"space-y-2",children:0===L.length?(0,a.jsx)("div",{className:"text-center text-sm text-muted-foreground py-8",children:"タイトル案がありません"}):(0,a.jsx)(S.JY,{onDragEnd:e$,children:(0,a.jsx)(S.gL,{droppableId:"title-options",children:e=>(0,a.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-2",children:[L.map((e,s)=>(0,a.jsx)(S.sx,{draggableId:e.id,index:s,isDragDisabled:e.isFavorite,children:(t,l)=>(0,a.jsxs)("div",{ref:t.innerRef,...t.draggableProps,className:(0,F.cn)("flex items-center gap-2 p-3 border rounded-md transition-all",e.isFavorite?"bg-[#2D2D2D] border-[#20B2AA]/50":"hover:bg-accent/50",l.isDragging&&"shadow-lg opacity-90 bg-[#3A3A3A]",e.isFavorite&&"border-l-4 border-l-[#20B2AA]"),children:[!e.isFavorite&&(0,a.jsx)("div",{...t.dragHandleProps,className:"flex-shrink-0 cursor-grab active:cursor-grabbing text-muted-foreground hover:text-foreground","aria-label":"ドラッグして並び替え",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",className:(0,F.cn)("flex-shrink-0 h-8 w-8 p-0",e.isFavorite&&"text-[#20B2AA]"),onClick:()=>ek(e.id,e.text),"aria-label":e.isFavorite?"お気に入りを解除":"お気に入りに追加",children:(0,a.jsx)(u.A,{className:(0,F.cn)("h-4 w-4",e.isFavorite?"fill-[#20B2AA] text-[#20B2AA]":"")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("span",{className:(0,F.cn)("block text-sm mb-2",e.isFavorite&&"font-medium"),children:e.text}),(()=>{let s=eS(e.text,eo);return(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsxs)("span",{className:(0,F.cn)("font-medium",s.isOverRecommended?"text-yellow-400":s.charCount>=30&&s.charCount<=60?"text-green-400":"text-muted-foreground"),children:[s.charCount,"文字"]}),s.isOverRecommended&&(0,a.jsx)(v.A,{className:"h-3 w-3 text-yellow-400"}),s.charCount>=30&&s.charCount<=60&&(0,a.jsx)(C.E,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-4 border-green-400/50 text-green-400",children:"推奨"})]}),eo.trim()&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(N.A,{className:"h-3 w-3 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["キーワード: ",s.keywordCoverage,"%"]}),s.keywordCoverage>=50&&(0,a.jsx)(C.E,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-4 border-blue-400/50 text-blue-400",children:"高"})]}),s.features.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-1 flex-wrap",children:s.features.map((e,s)=>(0,a.jsx)(C.E,{variant:"secondary",className:"text-[10px] px-1.5 py-0 h-4",children:e},s))}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-auto",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"スコア:"}),(0,a.jsx)("span",{className:(0,F.cn)("font-semibold",s.score>=80?"text-green-400":s.score>=60?"text-yellow-400":"text-red-400"),children:s.score}),(0,a.jsx)("span",{className:"text-muted-foreground text-[10px]",children:"/100"}),(0,a.jsx)("div",{className:"flex gap-0.5 ml-1",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsx)(u.A,{className:(0,F.cn)("h-2.5 w-2.5",t<Math.round(s.score/20)?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30")},t))})]})]})})()]}),(0,a.jsxs)("div",{className:"flex gap-2 flex-shrink-0",children:[(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>eA(e.text),"aria-label":"タイトル案".concat(s+1,"を選択"),children:"選択"}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",onClick:()=>eC(e.text,e.id),"aria-label":"タイトル案".concat(s+1,"をコピー"),children:H===e.id?(0,a.jsx)(w.A,{className:"h-4 w-4 text-[#20B2AA]"}):(0,a.jsx)(b.A,{className:"h-4 w-4"})})]})]})},e.id)),e.placeholder]})})})})]}),(0,a.jsxs)(T.Zp,{children:[(0,a.jsx)(T.aR,{children:(0,a.jsxs)(T.ZB,{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"概要欄"}),(0,a.jsx)(J.tU,{value:O,onValueChange:e=>V(e),className:"w-auto",children:(0,a.jsxs)(J.j7,{className:"h-8",children:[(0,a.jsxs)(J.Xi,{value:"edit",className:"text-xs px-3",children:[(0,a.jsx)(y.A,{className:"h-3 w-3 mr-1.5"}),"編集"]}),(0,a.jsxs)(J.Xi,{value:"preview",className:"text-xs px-3",children:[(0,a.jsx)(A.A,{className:"h-3 w-3 mr-1.5"}),"プレビュー"]})]})})]})}),(0,a.jsx)(T.Wu,{className:"space-y-4",children:(0,a.jsxs)(J.tU,{value:O,onValueChange:e=>V(e),children:[(0,a.jsxs)(J.av,{value:"edit",className:"space-y-2 mt-0",children:[(0,a.jsxs)("div",{className:"flex justify-end items-center gap-2 text-xs",children:[(0,a.jsxs)("span",{className:(0,F.cn)(G.length>5e3?"text-red-400 font-semibold":G.length>4500?"text-yellow-400":"text-muted-foreground"),children:[G.length," / ",5e3]}),G.length>5e3&&(0,a.jsx)(C.E,{variant:"destructive",className:"text-xs",children:"制限超過"})]}),(0,a.jsx)(i.T,{value:G,onChange:e=>{let s=e.target.value;Y(s),X(s)},placeholder:"AIが生成した概要欄（編集可能）",rows:12,className:"resize-y font-mono text-sm"})]}),(0,a.jsxs)(J.av,{value:"preview",className:"mt-0",children:[(0,a.jsx)("div",{className:"border rounded-lg p-4 bg-[#0F0F0F] min-h-[200px]",children:G?(0,a.jsx)("div",{className:"text-sm text-white whitespace-pre-wrap font-sans leading-relaxed",children:G.split("\n").map((e,s)=>{let t=e.match(/^【(.+?)】/);if(t){let l=t[1];return(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"text-[#20B2AA] font-semibold mb-1",children:["【",l,"】"]}),(0,a.jsx)("div",{className:"text-gray-300 ml-2",children:e.replace(/^【.+?】/,"").trim()||"\xa0"})]},s)}return e.includes("#")||e.trim().startsWith("#")?(0,a.jsx)("div",{className:"mb-2 text-[#3EA6FF]",children:e},s):e.match(/^\d{1,2}:\d{2}/)?(0,a.jsx)("div",{className:"mb-1 text-[#3EA6FF] font-medium",children:e},s):(0,a.jsx)("div",{className:"mb-1 text-gray-300",children:e||"\xa0"},s)})}):(0,a.jsx)("div",{className:"text-gray-500 text-sm italic",children:"概要欄がありません"})}),(0,a.jsx)("div",{className:"flex justify-end items-center gap-2 text-xs mt-2",children:(0,a.jsxs)("span",{className:(0,F.cn)(G.length>5e3?"text-red-400 font-semibold":G.length>4500?"text-yellow-400":"text-muted-foreground"),children:[G.length," / ",5e3]})})]})]})})]})]})]})]});return(0,a.jsx)("div",{className:"h-full flex flex-col lg:flex-row lg:h-screen",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("aside",{className:"w-full lg:w-1/2 border-r border-[#4A4A4A] bg-[#1A1A1A] overflow-y-auto",children:eB}),(0,a.jsx)("main",{className:"w-full lg:w-1/2 p-4 bg-[#1A1A1A] overflow-y-auto",children:ez})]}):(0,a.jsx)("div",{className:"border-b bg-background p-4",children:(0,a.jsxs)(J.tU,{defaultValue:"settings",value:s,onValueChange:t,className:"w-full h-full flex flex-col",children:[(0,a.jsxs)(J.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(J.Xi,{value:"settings",children:"設定"}),(0,a.jsx)(J.Xi,{value:"results",children:"結果"})]}),(0,a.jsx)(J.av,{value:"settings",className:"flex-grow overflow-auto",children:eB}),(0,a.jsx)(J.av,{value:"results",className:"flex-grow overflow-auto",children:ez})]})})})}},45674:(e,s,t)=>{Promise.resolve().then(t.bind(t,31474))}},e=>{e.O(0,[96,76,358],()=>e(e.s=45674)),_N_E=e.O()}]);