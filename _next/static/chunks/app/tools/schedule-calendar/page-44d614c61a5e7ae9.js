(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{51570:(e,t,s)=>{Promise.resolve().then(s.bind(s,60523))},60523:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>X});var a=s(18841),r=s(58669),l=s(28198),n=s(44166),d=s(83239),c=s(17871),i=s(31471),o=s(90354),m=s(50731),x=s(89432),u=s(33538),h=s(14967),g=s(77902),f=s(98356),p=s(5081),j=s(42542),b=s(19866),v=s(35296);function N(e){let{showFilters:t,setShowFilters:s,filters:n,toggleCategoryFilter:d,togglePlatformFilter:c,setDateRangeFilter:i,resetFilters:o,uniqueCategories:m,uniquePlatforms:x,hasActiveFilters:u}=e,N=(0,r.useRef)(null),y=(0,r.useRef)(null),[w,A]=(0,r.useState)(!1),k=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=document.createElement("div");return k.current=e,document.body.appendChild(e),A(!0),()=>{e.parentNode&&e.parentNode.removeChild(e)}},[]),(0,r.useEffect)(()=>{if(!t)return void document.body.style.removeProperty("overflow");let e=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=e}},[t]);let C=t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[60] flex items-center justify-center p-4 lg:hidden",onClick:()=>s(!1),children:(0,a.jsxs)("div",{ref:y,className:"w-full max-w-md max-h-[80vh] overflow-y-auto p-4 bg-[#2D2D2D]/95 border border-[#4A4A4A] rounded-lg backdrop-blur-sm shadow-lg",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"フィルター"}),(0,a.jsx)(l.$,{size:"icon",variant:"ghost",onClick:()=>s(!1),className:"h-8 w-8",children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{className:"text-sm font-medium mb-2 block",children:"カテゴリ"}),(0,a.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.S,{id:"mobile-category-".concat(e),checked:n.categories.includes(e),onCheckedChange:()=>d(e)}),(0,a.jsx)("label",{htmlFor:"mobile-category-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{className:"text-sm font-medium mb-2 block",children:"プラットフォーム"}),(0,a.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.S,{id:"mobile-platform-".concat(e),checked:n.platforms.includes(e),onCheckedChange:()=>c(e)}),(0,a.jsx)("label",{htmlFor:"mobile-platform-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{className:"text-sm font-medium mb-2 block",children:"日付範囲"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{htmlFor:"mobile-date-start",className:"text-xs text-muted-foreground",children:"開始日"}),(0,a.jsx)(g.p,{id:"mobile-date-start",type:"date",value:n.dateRange.start,onChange:e=>i(e.target.value,n.dateRange.end),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{htmlFor:"mobile-date-end",className:"text-xs text-muted-foreground",children:"終了日"}),(0,a.jsx)(g.p,{id:"mobile-date-end",type:"date",value:n.dateRange.end,onChange:e=>i(n.dateRange.start,e.target.value),className:"mt-1"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:o,children:"リセット"}),(0,a.jsx)(l.$,{size:"sm",onClick:()=>s(!1),children:"適用"})]})]})}):null;return(0,r.useEffect)(()=>{let e=e=>{let a=e.target,r=N.current&&N.current.contains(a),l=y.current&&y.current.contains(a);!t||r||l||s(!1)};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,s]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"hidden lg:block relative",children:[(0,a.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>s(!t),className:"h-8",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"フィルター",u&&(0,a.jsx)(h.E,{variant:"destructive",className:"ml-2 h-5 px-1",children:n.categories.length+n.platforms.length})]}),t&&(0,a.jsxs)("div",{ref:N,className:"absolute right-0 top-full mt-2 w-96 p-4 bg-[#2D2D2D]/95 border border-[#4A4A4A] rounded-lg backdrop-blur-sm shadow-lg z-50",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"フィルター"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{className:"text-sm font-medium mb-2 block",children:"カテゴリ"}),(0,a.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.S,{id:"category-".concat(e),checked:n.categories.includes(e),onCheckedChange:()=>d(e)}),(0,a.jsx)("label",{htmlFor:"category-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{className:"text-sm font-medium mb-2 block",children:"プラットフォーム"}),(0,a.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.S,{id:"platform-".concat(e),checked:n.platforms.includes(e),onCheckedChange:()=>c(e)}),(0,a.jsx)("label",{htmlFor:"platform-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{className:"text-sm font-medium mb-2 block",children:"日付範囲"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{htmlFor:"date-start",className:"text-xs text-muted-foreground",children:"開始日"}),(0,a.jsx)(g.p,{id:"date-start",type:"date",value:n.dateRange.start,onChange:e=>i(e.target.value,n.dateRange.end),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.J,{htmlFor:"date-end",className:"text-xs text-muted-foreground",children:"終了日"}),(0,a.jsx)(g.p,{id:"date-end",type:"date",value:n.dateRange.end,onChange:e=>i(n.dateRange.start,e.target.value),className:"mt-1"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:o,children:"リセット"}),(0,a.jsx)(l.$,{size:"sm",onClick:()=>s(!1),children:"適用"})]})]}),u&&(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[n.categories.map(e=>(0,a.jsxs)(h.E,{variant:"secondary",className:"cursor-pointer",onClick:()=>d(e),children:[e," \xd7"]},e)),n.platforms.map(e=>(0,a.jsxs)(h.E,{variant:"secondary",className:"cursor-pointer",onClick:()=>c(e),children:[e," \xd7"]},e)),(n.dateRange.start||n.dateRange.end)&&(0,a.jsx)(h.E,{variant:"secondary",className:"cursor-pointer",onClick:o,children:"日付範囲 \xd7"})]})]}),w&&k.current?(0,v.createPortal)(C,k.current):null]})}function y(e){let{schedule:t}=e;return(0,a.jsxs)("div",{className:"p-2 text-sm",children:[(0,a.jsx)("p",{className:"font-bold",children:t.title||"(タイトルなし)"}),(0,a.jsx)("p",{children:t.time}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.category," / ",t.platform]}),t.notes&&(0,a.jsx)("p",{className:"mt-1 border-t pt-1 text-xs",children:t.notes})]})}var w=s(85272),A=s(32221),k=s(11390),C=s(21516),_=s(61758),D=s(40004),S=s(53333);function z(){let e=(0,w._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return z=function(){return e},e}function R(){let e=(0,w._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return R=function(){return e},e}function B(e){let{className:t,classNames:s,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:d="outline",formatters:c,components:i,...o}=e,m=(0,_.a)();return(0,a.jsx)(D.h,{showOutsideDays:r,className:(0,S.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(z()),String.raw(R()),t),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),formatCaption:e=>"".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月"),...c},classNames:{root:(0,S.cn)("w-fit",m.root),months:(0,S.cn)("relative flex flex-col gap-4 md:flex-row",m.months),month:(0,S.cn)("flex w-full flex-col gap-4",m.month),nav:(0,S.cn)("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",m.nav),button_previous:(0,S.cn)((0,l.r)({variant:d,size:"default"}),"select-none p-0 aria-disabled:opacity-50",m.button_previous),button_next:(0,S.cn)((0,l.r)({variant:d,size:"default"}),"select-none p-0 aria-disabled:opacity-50",m.button_next),month_caption:(0,S.cn)("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",m.month_caption),dropdowns:(0,S.cn)("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",m.dropdowns),dropdown_root:(0,S.cn)("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",m.dropdown_root),dropdown:(0,S.cn)("bg-popover absolute inset-0 opacity-0",m.dropdown),caption_label:(0,S.cn)("select-none font-medium font-bold","label"===n?"text-lg":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-lg [&>svg]:size-3.5",m.caption_label),table:"w-full border-collapse",weekdays:(0,S.cn)("flex",m.weekdays),weekday:(0,S.cn)("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",m.weekday),week:(0,S.cn)("mt-2 flex w-full",m.week),week_number_header:(0,S.cn)("w-[--cell-size] select-none",m.week_number_header),week_number:(0,S.cn)("text-muted-foreground select-none text-[0.8rem]",m.week_number),day:(0,S.cn)("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md","flex items-start justify-center pt-1",m.day),range_start:(0,S.cn)("bg-accent rounded-l-md",m.range_start),range_middle:(0,S.cn)("rounded-none",m.range_middle),range_end:(0,S.cn)("bg-accent rounded-r-md",m.range_end),today:(0,S.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",m.today),outside:(0,S.cn)("text-muted-foreground aria-selected:text-muted-foreground",m.outside),disabled:(0,S.cn)("text-muted-foreground opacity-50",m.disabled),hidden:(0,S.cn)("invisible",m.hidden),...s},components:{Root:e=>{let{className:t,rootRef:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"calendar",ref:s,className:(0,S.cn)(t),...r})},Chevron:e=>{let{className:t,orientation:s,...r}=e;return"left"===s?(0,a.jsx)(A.A,{className:(0,S.cn)("size-4",t),...r}):"right"===s?(0,a.jsx)(k.A,{className:(0,S.cn)("size-4",t),...r}):(0,a.jsx)(C.A,{className:(0,S.cn)("size-4",t),...r})},DayButton:F,WeekNumber:e=>{let{children:t,...s}=e;return(0,a.jsx)("td",{...s,children:(0,a.jsx)("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:t})})},...i},...o})}function F(e){let{className:t,day:s,modifiers:n,...d}=e,c=(0,_.a)(),i=r.useRef(null);return r.useEffect(()=>{var e;n.focused&&(null==(e=i.current)||e.focus())},[n.focused]),(0,a.jsx)(l.$,{ref:i,variant:"ghost",size:"icon","data-day":s.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:(0,S.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70 justify-start items-center",c.day,t),...d})}var E=s(11314),$=s(94602),M=s(9535),P=s(20928),O=s(52823);function J(e){let{selectedDate:t,filteredSchedules:s,handleDesktopDayClick:r,handleDaySelect:l,isDesktop:n,ScheduleTooltipContent:c}=e,i=n?e=>{let l=e.day.date,n=s.filter(e=>(0,E.r)((0,u.H)(e.date),l)),{className:i="",...o}=e,m=t&&(0,E.r)(l,t),x=(0,$.c)(l);return(0,a.jsx)("td",{...o,className:(0,S.cn)(i,"relative flex flex-col h-full p-1 !h-32",x&&"bg-[#20B2AA]/20 border-2 border-[#20B2AA]",m&&!x&&"bg-[#20B2AA]/10 border border-[#20B2AA]/30"),onClick:()=>r(l),children:(0,a.jsxs)("div",{className:"relative flex flex-col h-full justify-between z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between flex-shrink-0",children:[(0,a.jsx)("div",{className:(0,S.cn)("text-sm font-bold",x&&"text-[#20B2AA]",m&&!x&&"text-[#20B2AA]"),children:(0,M.GP)(l,"d")}),x&&(0,a.jsx)(h.E,{className:"text-[8px] px-1 py-0 bg-[#20B2AA] text-white border-0",children:"今日"})]}),(0,a.jsx)("div",{className:"flex-grow space-y-0.5 overflow-hidden",children:n.slice(0,3).map(e=>(0,a.jsxs)(d.m_,{delayDuration:200,children:[(0,a.jsx)(d.k$,{asChild:!0,children:(0,a.jsxs)("div",{className:"truncate text-xs leading-tight rounded-sm px-1 py-0.5 cursor-default text-white",style:{backgroundColor:(0,O.Ew)(e.category),borderColor:(0,O.s9)(e.category),borderWidth:"1px",borderStyle:"solid"},children:[e.time||"未定"," ",e.category||"未定"]})}),(0,a.jsx)(d.ZI,{children:(0,a.jsx)(c,{schedule:e})})]},e.id))})]})})}:e=>{let r=e.day.date,n=s.filter(e=>(0,E.r)((0,u.H)(e.date),r)),{className:d="",...c}=e,i=t&&(0,E.r)(r,t),o=(0,$.c)(r);return(0,a.jsx)("td",{...c,className:(0,S.cn)(d,o&&"bg-[#20B2AA]/20 border-2 border-[#20B2AA]",i&&!o&&"bg-[#20B2AA]/10 border border-[#20B2AA]/30"),onClick:()=>l(r),children:(0,a.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{className:(0,S.cn)(o&&"font-bold text-[#20B2AA]",i&&!o&&"font-semibold text-[#20B2AA]"),children:(0,M.GP)(r,"d")}),n.length>0&&(0,a.jsx)("div",{className:"absolute bottom-1 w-1 h-1 bg-primary rounded-full"})]})})};return(0,a.jsx)(B,{numberOfMonths:1,mode:"single",selected:t,components:{Day:i},locale:P.ja,className:"rounded-md border border-[#4A4A4A]/50 w-full bg-[#2D2D2D]/50 backdrop-blur-sm ".concat(n?"":"text-sm")})}function I(e){return e.duration||60}function G(e){let t=I(e),s=[];if(e.time){let[a,r]=e.time.split(":").map(Number),l=60*a+r,n=l+t;for(let e=l;e<n;e+=30){let t=Math.floor(e/60),a=e%60;s.push({hour:t,minute:a})}}return s}function H(e){let{weekDays:t,filteredSchedules:s,setSelectedDate:r,setIsModalOpen:l,isDesktop:n}=e;return n?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-16 text-sm text-[#A0A0A0]",children:"時間"}),(0,a.jsx)("div",{className:"flex-1 grid grid-cols-7 gap-1",children:t.map(e=>(0,a.jsxs)("div",{className:"text-center text-sm font-medium",children:[(0,a.jsx)("div",{children:(0,M.GP)(e,"M/d",{locale:P.ja})}),(0,a.jsx)("div",{className:"text-xs text-[#A0A0A0]",children:(0,M.GP)(e,"E",{locale:P.ja})})]},e.toISOString()))})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-16 space-y-1",children:Array.from({length:24},(e,t)=>t).map(e=>(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] h-12 flex items-center justify-center",children:[e.toString().padStart(2,"0"),":00"]},e))}),(0,a.jsx)("div",{className:"flex-1 grid grid-cols-7 gap-1",children:t.map(e=>(0,a.jsx)("div",{className:"space-y-1",children:Array.from({length:24},(e,t)=>t).map(t=>(0,a.jsx)("div",{className:"h-12 border border-[#4A4A4A]/30 rounded cursor-pointer hover:bg-[#3A3A3A]/50 transition-colors bg-[#2D2D2D]/20 backdrop-blur-sm relative",onClick:()=>{r(e),l(!0)},children:(()=>{var r;let l=s.find(s=>!!(0,E.r)((0,u.H)(s.date),e)&&!!s.time&&G(s).some(e=>e.hour===t));if(!l)return null;let n=G(l),d=n.filter(e=>e.hour===t),c=n[0].hour===t,i=n[n.length-1].hour===t,o=(null==(r=d[0])?void 0:r.minute)===30?"50%":"0%",m=2===d.length?"100%":"50%";return(0,a.jsxs)("div",{className:"absolute left-0 right-0 p-1 text-xs text-white rounded backdrop-blur-sm",style:{top:o,height:m,borderRadius:c?"0.375rem 0.375rem 0 0":i?"0 0 0.375rem 0.375rem":"0",backgroundColor:(0,O.Ew)(l.category,.8),borderColor:(0,O.s9)(l.category),borderWidth:"1px",borderStyle:"solid"},children:[c&&(0,a.jsx)("div",{className:"font-medium truncate",children:l.title||"(タイトルなし)"}),c&&(0,a.jsxs)("div",{className:"text-xs opacity-75",children:[l.time," - ",I(l),"分"]})]})})()},t))},e.toISOString()))})]})]}):(0,a.jsx)("div",{className:"space-y-1",children:t.map(e=>{let t=s.filter(t=>(0,E.r)((0,u.H)(t.date),e)).sort((e,t)=>e.time&&t.time?e.time.localeCompare(t.time):0);return(0,a.jsxs)("div",{className:"bg-[#2D2D2D]/50 rounded-lg p-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"text-base font-semibold text-white",children:(0,M.GP)(e,"M/d",{locale:P.ja})}),(0,a.jsx)("div",{className:"text-xs text-[#A0A0A0]",children:(0,M.GP)(e,"E",{locale:P.ja})})]}),t.length>0?(0,a.jsx)("div",{className:"space-y-0.5",children:t.map(t=>(0,a.jsx)("div",{className:"rounded px-2 py-1.5 cursor-pointer transition-colors",style:{backgroundColor:(0,O.Ew)(t.category),borderColor:(0,O.s9)(t.category),borderWidth:"1px",borderStyle:"solid"},onClick:()=>{r(e),l(!0)},children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[(0,a.jsx)("span",{className:"text-xs text-blue-300 font-mono",children:t.time}),(0,a.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[I(t),"分"]})]}),(0,a.jsx)("div",{className:"flex-1 min-w-0 text-center",children:(0,a.jsx)("span",{className:"text-sm text-white font-medium truncate block",children:t.title||"(タイトルなし)"})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:t.category&&(0,a.jsx)(h.E,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:t.category})})]})},t.id))}):(0,a.jsx)("div",{className:"text-[#A0A0A0] text-xs text-center py-1.5",children:"スケジュールなし"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{className:"w-full text-center py-1.5 text-xs text-[#20B2AA] hover:text-[#20B2AA] border border-[#20B2AA]/30 rounded-md hover:bg-[#20B2AA]/10 transition-colors",onClick:()=>{r(e),l(!0)},children:"+ 予定を追加"})})]},e.toISOString())})})}function L(e){let{selectedDate:t,filteredSchedules:s,isDesktop:r}=e;if(!t)return(0,a.jsx)("div",{className:r?"":"px-2",children:(0,a.jsx)("p",{className:"".concat(r?"text-base":"text-sm"," text-muted-foreground"),children:"日付を選択してください"})});let l=s.filter(e=>e.date===(0,M.GP)(t,"yyyy-MM-dd"));return(0,a.jsxs)("div",{className:r?"":"px-2",children:[(0,a.jsx)("h2",{className:"".concat(r?"text-xl":"text-lg"," font-bold mb-4"),children:"日表示カレンダー"}),(0,a.jsxs)("div",{className:"".concat(r?"mt-4":"mt-2"),children:[(0,a.jsxs)("h3",{className:"".concat(r?"text-lg":"text-base"," font-semibold mb-3"),children:[(0,M.GP)(t,"yyyy年MM月dd日",{locale:P.ja})," のスケジュール"]}),l.length>0?(0,a.jsx)("ul",{className:"space-y-2",children:l.map(e=>(0,a.jsxs)("li",{className:"".concat(r?"p-3":"p-2"," border border-[#4A4A4A]/30 rounded-md bg-[#2D2D2D]/60 backdrop-blur-sm"),children:[(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"," font-medium"),children:[(0,a.jsx)("strong",{children:"タイトル:"})," ",e.title]}),(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"時間:"})," ",e.time]}),(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"カテゴリ:"})," ",e.category]}),(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"プラットフォーム:"})," ",e.platform]}),e.notes&&(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"備考:"})," ",e.notes]})]},e.id))}):(0,a.jsx)("p",{className:"".concat(r?"text-base":"text-sm"," text-muted-foreground"),children:"この日のスケジュールはありません。"})]})]})}var q=s(25813),W=s(53589),V=s(49752),Z=s(11632),T=s(83190);function U(){let{setIsModalOpen:e,selectedDate:t,setSelectedDate:s,schedules:h}=(0,m.r)(),[g,f]=(0,r.useState)("month"),[p,j]=(0,r.useState)(new Date),[v,w]=(0,r.useState)(!1),A=(0,x.U)("(min-width: 1024px)"),{filters:k,filteredSchedules:C,toggleCategoryFilter:_,togglePlatformFilter:D,setDateRangeFilter:S,resetFilters:z,uniqueCategories:R,uniquePlatforms:B,hasActiveFilters:F}=function(e){let[t,s]=(0,r.useState)({categories:[],platforms:[],dateRange:{start:"",end:""}}),a=(0,r.useMemo)(()=>{let s=[...e];return t.categories.length>0&&(s=s.filter(e=>e.category&&t.categories.includes(e.category))),t.platforms.length>0&&(s=s.filter(e=>e.platform&&t.platforms.includes(e.platform))),(t.dateRange.start||t.dateRange.end)&&(s=s.filter(e=>{let s=(0,u.H)(e.date),a=t.dateRange.start?(0,u.H)(t.dateRange.start):null,r=t.dateRange.end?(0,u.H)(t.dateRange.end):null;return(!a||!(s<a))&&(!r||!(s>r))})),s},[e,t]),l=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.category).filter(e=>!!e))),[e]),n=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.platform).filter(e=>!!e))),[e]),d=t.categories.length>0||t.platforms.length>0||""!==t.dateRange.start||""!==t.dateRange.end;return{filters:t,filteredSchedules:a,toggleCategoryFilter:e=>{s(t=>({...t,categories:t.categories.includes(e)?t.categories.filter(t=>t!==e):[...t.categories,e]}))},togglePlatformFilter:e=>{s(t=>({...t,platforms:t.platforms.includes(e)?t.platforms.filter(t=>t!==e):[...t.platforms,e]}))},setDateRangeFilter:(e,t)=>{s(s=>({...s,dateRange:{start:e,end:t}}))},resetFilters:()=>{s({categories:[],platforms:[],dateRange:{start:"",end:""}})},uniqueCategories:l,uniquePlatforms:n,hasActiveFilters:d}}(h);(0,r.useEffect)(()=>{let e=localStorage.getItem("calendarViewMode");e&&["month","week","day"].includes(e)&&f(e)},[]),(0,r.useEffect)(()=>{localStorage.setItem("calendarViewMode",g)},[g]);let[E,$]=(0,r.useState)(0),M=e=>{e?s(e):s(void 0)},P=()=>{let e=new Date;s(e),j(e)},O=p?(0,c.k)({start:(0,i.k)(p,{weekStartsOn:1}),end:(0,o.$)(p,{weekStartsOn:1})}):[];return(0,a.jsxs)(d.Bc,{children:[(0,a.jsxs)("div",{className:"flex flex-col min-h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-[#2D2D2D] rounded-lg p-1",children:[(0,a.jsxs)(l.$,{size:"sm",variant:"month"===g?"default":"ghost",onClick:()=>f("month"),className:"h-8",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1"}),"月"]}),(0,a.jsxs)(l.$,{size:"sm",variant:"week"===g?"default":"ghost",onClick:()=>f("week"),className:"h-8",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1"}),"週"]}),(0,a.jsxs)(l.$,{size:"sm",variant:"day"===g?"default":"ghost",onClick:()=>f("day"),className:"h-8",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1"}),"日"]})]}),!A&&(0,a.jsxs)(l.$,{size:"sm",onClick:P,className:"h-8 bg-[#20B2AA] hover:bg-[#20B2AA]/90 text-white border-[#20B2AA]",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-1"}),"今日"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[A&&(0,a.jsxs)(l.$,{size:"sm",onClick:P,className:"h-8 bg-[#20B2AA] hover:bg-[#20B2AA]/90 text-white border-[#20B2AA]",children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-1"}),"今日"]}),(0,a.jsx)(N,{showFilters:v,setShowFilters:w,filters:k,toggleCategoryFilter:_,togglePlatformFilter:D,setDateRangeFilter:S,resetFilters:z,uniqueCategories:R,uniquePlatforms:B,hasActiveFilters:F}),A&&(0,a.jsxs)(l.$,{size:"sm",onClick:()=>e(!0),className:"h-8 bg-[#0070F3] hover:bg-[#0051CC] text-white",children:[(0,a.jsx)(T.A,{className:"h-4 w-4 mr-1"}),"予定追加"]})]})]}),(0,a.jsxs)("div",{className:"flex-grow rounded-md ".concat(A?"p-4":"p-2"," bg-[#1A1A1A] backdrop-blur-sm"),children:[(0,a.jsxs)("div",{className:"".concat(A?"h-full md:overflow-y-auto":"min-h-full"),children:["month"===g&&(0,a.jsx)(J,{selectedDate:t,filteredSchedules:C,handleDesktopDayClick:t=>{let a=new Date().getTime();a-E<300?(s(t),e(!0),$(0)):M(t),$(a)},handleDaySelect:M,isDesktop:A,ScheduleTooltipContent:y}),"week"===g&&(0,a.jsx)(H,{weekDays:O,filteredSchedules:C,setSelectedDate:s,setIsModalOpen:e,isDesktop:A}),"day"===g&&(0,a.jsx)(L,{selectedDate:t,filteredSchedules:C,isDesktop:A})]}),!A&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"bg-[#2D2D2D]/80 border border-[#4A4A4A]/30 rounded-lg p-4 backdrop-blur-sm",children:(0,a.jsxs)(n.tU,{defaultValue:"sns",className:"w-full",children:[(0,a.jsxs)(n.j7,{className:"w-full h-12 items-center justify-center rounded-md bg-secondary p-1 text-secondary-foreground",children:[(0,a.jsx)(n.Xi,{value:"sns",className:"flex-1",children:"SNS投稿"}),(0,a.jsx)(n.Xi,{value:"schedule",className:"flex-1",children:"予定一覧"})]}),(0,a.jsx)(n.av,{value:"sns",className:"mt-4",children:(0,a.jsx)(q.O,{})}),(0,a.jsx)(n.av,{value:"schedule",className:"mt-4",children:(0,a.jsx)("div",{className:"overflow-y-auto",style:{maxHeight:A?"min(32rem, calc(100vh - 16rem))":"min(28rem, 70vh)"},children:(0,a.jsx)(W.m,{})})})]})})})]})]}),(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-50 lg:hidden pointer-events-none",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)(d.m_,{children:[(0,a.jsx)(d.k$,{asChild:!0,children:(0,a.jsx)(l.$,{size:"icon",variant:"outline",className:"rounded-full h-12 w-12 shadow-lg bg-white text-[#1F1F1F] pointer-events-auto",onClick:()=>{w(!v)},children:(0,a.jsx)(b.A,{className:"h-6 w-6"})})}),(0,a.jsx)(d.ZI,{side:"left",align:"center",className:"text-xs",children:"絞り込み"})]}),(0,a.jsxs)(d.m_,{children:[(0,a.jsx)(d.k$,{asChild:!0,children:(0,a.jsx)(l.$,{size:"icon",className:"rounded-full h-14 w-14 shadow-lg pointer-events-auto",onClick:()=>e(!0),children:(0,a.jsx)(T.A,{className:"h-6 w-6"})})}),(0,a.jsx)(d.ZI,{side:"left",align:"center",className:"text-xs",children:"予定を追加"})]})]})})]})}function X(){return(0,a.jsx)(U,{})}}},e=>{e.O(0,[96,76,358],()=>e(e.s=51570)),_N_E=e.O()}]);