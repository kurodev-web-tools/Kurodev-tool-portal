(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[723],{67613:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var a=s(8818),r=s(730),l=s(63772),n=s(51861),d=s(91584),c=s(71045),i=s(25889),o=s(27745),m=s(36904),x=s(9692),u=s(79048),h=s(88715),g=s(53061),f=s(82078),p=s(29376),j=s(11006),b=s(41079),N=s(23744);function v(e){let{showFilters:t,setShowFilters:s,filters:r,toggleCategoryFilter:d,togglePlatformFilter:c,setDateRangeFilter:i,resetFilters:o,uniqueCategories:m,uniquePlatforms:x,hasActiveFilters:u}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsxs)(l.$,{size:"sm",variant:"outline",onClick:()=>s(!t),className:"h-8",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"フィルター",u&&(0,a.jsx)(n.E,{variant:"destructive",className:"ml-2 h-5 px-1",children:r.categories.length+r.platforms.length})]})}),t&&(0,a.jsxs)("div",{className:"mb-4 p-4 bg-slate-800/80 border border-slate-600/30 rounded-lg backdrop-blur-sm",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"フィルター"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(j.J,{className:"text-sm font-medium mb-2 block",children:"カテゴリ"}),(0,a.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.S,{id:"category-".concat(e),checked:r.categories.includes(e),onCheckedChange:()=>d(e)}),(0,a.jsx)("label",{htmlFor:"category-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(j.J,{className:"text-sm font-medium mb-2 block",children:"プラットフォーム"}),(0,a.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(b.S,{id:"platform-".concat(e),checked:r.platforms.includes(e),onCheckedChange:()=>c(e)}),(0,a.jsx)("label",{htmlFor:"platform-".concat(e),className:"text-sm cursor-pointer",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(j.J,{className:"text-sm font-medium mb-2 block",children:"日付範囲"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(j.J,{htmlFor:"date-start",className:"text-xs text-muted-foreground",children:"開始日"}),(0,a.jsx)(p.p,{id:"date-start",type:"date",value:r.dateRange.start,onChange:e=>i(e.target.value,r.dateRange.end),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(j.J,{htmlFor:"date-end",className:"text-xs text-muted-foreground",children:"終了日"}),(0,a.jsx)(p.p,{id:"date-end",type:"date",value:r.dateRange.end,onChange:e=>i(r.dateRange.start,e.target.value),className:"mt-1"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,a.jsx)(l.$,{size:"sm",variant:"outline",onClick:o,children:"リセット"}),(0,a.jsx)(l.$,{size:"sm",onClick:()=>s(!1),children:"適用"})]})]}),u&&(0,a.jsxs)("div",{className:"mb-4 flex flex-wrap gap-2",children:[r.categories.map(e=>(0,a.jsxs)(n.E,{variant:"secondary",className:"cursor-pointer",onClick:()=>d(e),children:[e," \xd7"]},e)),r.platforms.map(e=>(0,a.jsxs)(n.E,{variant:"secondary",className:"cursor-pointer",onClick:()=>c(e),children:[e," \xd7"]},e)),(r.dateRange.start||r.dateRange.end)&&(0,a.jsx)(n.E,{variant:"secondary",className:"cursor-pointer",onClick:o,children:"日付範囲 \xd7"})]})]})}function y(e){let{schedule:t}=e;return(0,a.jsxs)("div",{className:"p-2 text-sm",children:[(0,a.jsx)("p",{className:"font-bold",children:t.title||"(タイトルなし)"}),(0,a.jsx)("p",{children:t.time}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[t.category," / ",t.platform]}),t.notes&&(0,a.jsx)("p",{className:"mt-1 border-t pt-1 text-xs",children:t.notes})]})}var w=s(87538),k=s(15863),_=s(97528),C=s(51694),S=s(9596),z=s(39028),A=s(64427);function D(){let e=(0,w._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return D=function(){return e},e}function R(){let e=(0,w._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return R=function(){return e},e}function F(e){let{className:t,classNames:s,showOutsideDays:r=!0,captionLayout:n="label",buttonVariant:d="outline",formatters:c,components:i,...o}=e,m=(0,S.a)();return(0,a.jsx)(z.h,{showOutsideDays:r,className:(0,A.cn)("bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(D()),String.raw(R()),t),captionLayout:n,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),formatCaption:e=>"".concat(e.getFullYear(),"年").concat(e.getMonth()+1,"月"),...c},classNames:{root:(0,A.cn)("w-fit",m.root),months:(0,A.cn)("relative flex flex-col gap-4 md:flex-row",m.months),month:(0,A.cn)("flex w-full flex-col gap-4",m.month),nav:(0,A.cn)("absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",m.nav),button_previous:(0,A.cn)((0,l.r)({variant:d,size:"default"}),"select-none p-0 aria-disabled:opacity-50",m.button_previous),button_next:(0,A.cn)((0,l.r)({variant:d,size:"default"}),"select-none p-0 aria-disabled:opacity-50",m.button_next),month_caption:(0,A.cn)("flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",m.month_caption),dropdowns:(0,A.cn)("flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",m.dropdowns),dropdown_root:(0,A.cn)("has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",m.dropdown_root),dropdown:(0,A.cn)("bg-popover absolute inset-0 opacity-0",m.dropdown),caption_label:(0,A.cn)("select-none font-medium font-bold","label"===n?"text-lg":"[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-lg [&>svg]:size-3.5",m.caption_label),table:"w-full border-collapse",weekdays:(0,A.cn)("flex",m.weekdays),weekday:(0,A.cn)("text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",m.weekday),week:(0,A.cn)("mt-2 flex w-full",m.week),week_number_header:(0,A.cn)("w-[--cell-size] select-none",m.week_number_header),week_number:(0,A.cn)("text-muted-foreground select-none text-[0.8rem]",m.week_number),day:(0,A.cn)("group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md","flex items-start justify-center pt-1",m.day),range_start:(0,A.cn)("bg-accent rounded-l-md",m.range_start),range_middle:(0,A.cn)("rounded-none",m.range_middle),range_end:(0,A.cn)("bg-accent rounded-r-md",m.range_end),today:(0,A.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",m.today),outside:(0,A.cn)("text-muted-foreground aria-selected:text-muted-foreground",m.outside),disabled:(0,A.cn)("text-muted-foreground opacity-50",m.disabled),hidden:(0,A.cn)("invisible",m.hidden),...s},components:{Root:e=>{let{className:t,rootRef:s,...r}=e;return(0,a.jsx)("div",{"data-slot":"calendar",ref:s,className:(0,A.cn)(t),...r})},Chevron:e=>{let{className:t,orientation:s,...r}=e;return"left"===s?(0,a.jsx)(k.A,{className:(0,A.cn)("size-4",t),...r}):"right"===s?(0,a.jsx)(_.A,{className:(0,A.cn)("size-4",t),...r}):(0,a.jsx)(C.A,{className:(0,A.cn)("size-4",t),...r})},DayButton:M,WeekNumber:e=>{let{children:t,...s}=e;return(0,a.jsx)("td",{...s,children:(0,a.jsx)("div",{className:"flex size-[--cell-size] items-center justify-center text-center",children:t})})},...i},...o})}function M(e){let{className:t,day:s,modifiers:n,...d}=e,c=(0,S.a)(),i=r.useRef(null);return r.useEffect(()=>{var e;n.focused&&(null==(e=i.current)||e.focus())},[n.focused]),(0,a.jsx)(l.$,{ref:i,variant:"ghost",size:"icon","data-day":s.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:(0,A.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70 justify-start items-center",c.day,t),...d})}var E=s(95711);function P(e){let{selectedDate:t,filteredSchedules:s,handleDesktopDayClick:r,handleDaySelect:l,isDesktop:n,ScheduleTooltipContent:d}=e,i=n?e=>{let l=e.day.date,n=s.filter(e=>(0,x.r)((0,u.H)(e.date),l)),{className:i="",...o}=e;return(0,a.jsx)("td",{...o,className:(0,A.cn)(i,"relative flex flex-col h-full p-1 !h-32",(0,x.r)(l,t||new Date)&&"bg-accent/50 dark:bg-accent"),onClick:()=>r(l),children:(0,a.jsxs)("div",{className:"relative flex flex-col h-full justify-between z-10",children:[(0,a.jsx)("div",{className:"text-sm font-bold flex-shrink-0",children:(0,h.GP)(l,"d")}),(0,a.jsx)("div",{className:"flex-grow space-y-0.5 overflow-hidden",children:n.slice(0,3).map(e=>(0,a.jsxs)(c.m_,{delayDuration:200,children:[(0,a.jsx)(c.k$,{asChild:!0,children:(0,a.jsxs)("div",{className:"truncate text-[10px] leading-tight bg-secondary rounded-sm px-0.5 cursor-default",children:[e.time||"未定"," ",e.category||"未定"]})}),(0,a.jsx)(c.ZI,{children:(0,a.jsx)(d,{schedule:e})})]},e.id))})]})})}:e=>{let r=e.day.date,n=s.filter(e=>(0,x.r)((0,u.H)(e.date),r)),{className:d="",...c}=e;return(0,a.jsx)("td",{...c,className:(0,A.cn)(d,(0,x.r)(r,t||new Date)&&"bg-accent/50 dark:bg-accent"),onClick:()=>l(r),children:(0,a.jsxs)("div",{className:"relative h-full flex flex-col items-center justify-center",children:[(0,a.jsx)("span",{children:(0,h.GP)(r,"d")}),n.length>0&&(0,a.jsx)("div",{className:"absolute bottom-1 w-1 h-1 bg-primary rounded-full"})]})})};return(0,a.jsx)(F,{numberOfMonths:1,mode:"single",selected:t,components:{Day:i},locale:E.ja,className:"rounded-md border border-slate-700/50 w-full bg-slate-800/80 backdrop-blur-sm ".concat(n?"":"text-sm")})}function $(e){return e.duration||60}function H(e){let t=$(e),s=[];if(e.time){let[a,r]=e.time.split(":").map(Number),l=60*a+r,n=l+t;for(let e=l;e<n;e+=30){let t=Math.floor(e/60),a=e%60;s.push({hour:t,minute:a})}}return s}function O(e){let{weekDays:t,filteredSchedules:s,setSelectedDate:r,setIsModalOpen:l,isDesktop:d}=e;return d?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-16 text-sm text-gray-500",children:"時間"}),(0,a.jsx)("div",{className:"flex-1 grid grid-cols-7 gap-1",children:t.map(e=>(0,a.jsxs)("div",{className:"text-center text-sm font-medium",children:[(0,a.jsx)("div",{children:(0,h.GP)(e,"M/d",{locale:E.ja})}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:(0,h.GP)(e,"E",{locale:E.ja})})]},e.toISOString()))})]}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-16 space-y-1",children:Array.from({length:24},(e,t)=>t).map(e=>(0,a.jsxs)("div",{className:"text-xs text-gray-500 h-12 flex items-center justify-center",children:[e.toString().padStart(2,"0"),":00"]},e))}),(0,a.jsx)("div",{className:"flex-1 grid grid-cols-7 gap-1",children:t.map(e=>(0,a.jsx)("div",{className:"space-y-1",children:Array.from({length:24},(e,t)=>t).map(t=>(0,a.jsx)("div",{className:"h-12 border border-slate-600/30 rounded cursor-pointer hover:bg-slate-700/50 transition-colors bg-slate-800/20 backdrop-blur-sm relative",onClick:()=>{r(e),l(!0)},children:(()=>{var r;let l=s.find(s=>!!(0,x.r)((0,u.H)(s.date),e)&&!!s.time&&H(s).some(e=>e.hour===t));if(!l)return null;let n=H(l),d=n.filter(e=>e.hour===t),c=n[0].hour===t,i=n[n.length-1].hour===t,o=(null==(r=d[0])?void 0:r.minute)===30?"50%":"0%",m=2===d.length?"100%":"50%";return(0,a.jsxs)("div",{className:"absolute left-0 right-0 p-1 text-xs bg-blue-500/80 text-white rounded backdrop-blur-sm",style:{top:o,height:m,borderRadius:c?"0.375rem 0.375rem 0 0":i?"0 0 0.375rem 0.375rem":"0"},children:[c&&(0,a.jsx)("div",{className:"font-medium truncate",children:l.title||"(タイトルなし)"}),c&&(0,a.jsxs)("div",{className:"text-xs opacity-75",children:[l.time," - ",$(l),"分"]})]})})()},t))},e.toISOString()))})]})]}):(0,a.jsx)("div",{className:"space-y-1",children:t.map(e=>{let t=s.filter(t=>(0,x.r)((0,u.H)(t.date),e)).sort((e,t)=>e.time&&t.time?e.time.localeCompare(t.time):0);return(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"text-base font-semibold text-white",children:(0,h.GP)(e,"M/d",{locale:E.ja})}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:(0,h.GP)(e,"E",{locale:E.ja})})]}),t.length>0?(0,a.jsx)("div",{className:"space-y-0.5",children:t.map(t=>(0,a.jsx)("div",{className:"bg-blue-500/15 border border-blue-500/20 rounded px-2 py-1.5 cursor-pointer hover:bg-blue-500/25 transition-colors",onClick:()=>{r(e),l(!0)},children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[(0,a.jsx)("span",{className:"text-xs text-blue-300 font-mono",children:t.time}),(0,a.jsxs)("span",{className:"text-xs text-gray-400",children:[$(t),"分"]})]}),(0,a.jsx)("div",{className:"flex-1 min-w-0 text-center",children:(0,a.jsx)("span",{className:"text-sm text-white font-medium truncate block",children:t.title||"(タイトルなし)"})}),(0,a.jsx)("div",{className:"flex-shrink-0",children:t.category&&(0,a.jsx)(n.E,{variant:"secondary",className:"text-xs px-1.5 py-0.5",children:t.category})})]})},t.id))}):(0,a.jsx)("div",{className:"text-gray-400 text-xs text-center py-1.5",children:"スケジュールなし"}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{className:"w-full text-center py-1.5 text-xs text-[#20B2AA] hover:text-[#20B2AA] border border-[#20B2AA]/30 rounded-md hover:bg-[#20B2AA]/10 transition-colors",onClick:()=>{r(e),l(!0)},children:"+ 予定を追加"})})]},e.toISOString())})})}function G(e){let{selectedDate:t,filteredSchedules:s,isDesktop:r}=e;if(!t)return(0,a.jsx)("div",{className:r?"":"px-2",children:(0,a.jsx)("p",{className:"".concat(r?"text-base":"text-sm"," text-muted-foreground"),children:"日付を選択してください"})});let l=s.filter(e=>e.date===(0,h.GP)(t,"yyyy-MM-dd"));return(0,a.jsxs)("div",{className:r?"":"px-2",children:[(0,a.jsx)("h2",{className:"".concat(r?"text-xl":"text-lg"," font-bold mb-4"),children:"日表示カレンダー"}),(0,a.jsxs)("div",{className:"".concat(r?"mt-4":"mt-2"),children:[(0,a.jsxs)("h3",{className:"".concat(r?"text-lg":"text-base"," font-semibold mb-3"),children:[(0,h.GP)(t,"yyyy年MM月dd日",{locale:E.ja})," のスケジュール"]}),l.length>0?(0,a.jsx)("ul",{className:"space-y-2",children:l.map(e=>(0,a.jsxs)("li",{className:"".concat(r?"p-3":"p-2"," border border-slate-600/30 rounded-md bg-slate-800/60 backdrop-blur-sm"),children:[(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"," font-medium"),children:[(0,a.jsx)("strong",{children:"タイトル:"})," ",e.title]}),(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"時間:"})," ",e.time]}),(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"カテゴリ:"})," ",e.category]}),(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"プラットフォーム:"})," ",e.platform]}),e.notes&&(0,a.jsxs)("p",{className:"".concat(r?"text-sm":"text-xs"),children:[(0,a.jsx)("strong",{children:"備考:"})," ",e.notes]})]},e.id))}):(0,a.jsx)("p",{className:"".concat(r?"text-base":"text-sm"," text-muted-foreground"),children:"この日のスケジュールはありません。"})]})]})}var I=s(34875),B=s(50814),J=s(7540);function q(){let{setIsModalOpen:e,selectedDate:t,setSelectedDate:s,schedules:p}=(0,g.r)(),[j,b]=(0,r.useState)("month"),[w,k]=(0,r.useState)(new Date),[_,C]=(0,r.useState)(!1),S=(0,f.U)("(min-width: 1024px)"),{filters:z,filteredSchedules:A,toggleCategoryFilter:D,togglePlatformFilter:R,setDateRangeFilter:F,resetFilters:M,uniqueCategories:E,uniquePlatforms:$,hasActiveFilters:H}=function(e){let[t,s]=(0,r.useState)({categories:[],platforms:[],dateRange:{start:"",end:""}}),a=(0,r.useMemo)(()=>{let s=[...e];return t.categories.length>0&&(s=s.filter(e=>e.category&&t.categories.includes(e.category))),t.platforms.length>0&&(s=s.filter(e=>e.platform&&t.platforms.includes(e.platform))),(t.dateRange.start||t.dateRange.end)&&(s=s.filter(e=>{let s=(0,u.H)(e.date),a=t.dateRange.start?(0,u.H)(t.dateRange.start):null,r=t.dateRange.end?(0,u.H)(t.dateRange.end):null;return(!a||!(s<a))&&(!r||!(s>r))})),s},[e,t]),l=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.category).filter(e=>!!e))),[e]),n=(0,r.useMemo)(()=>Array.from(new Set(e.map(e=>e.platform).filter(e=>!!e))),[e]),d=t.categories.length>0||t.platforms.length>0||""!==t.dateRange.start||""!==t.dateRange.end;return{filters:t,filteredSchedules:a,toggleCategoryFilter:e=>{s(t=>({...t,categories:t.categories.includes(e)?t.categories.filter(t=>t!==e):[...t.categories,e]}))},togglePlatformFilter:e=>{s(t=>({...t,platforms:t.platforms.includes(e)?t.platforms.filter(t=>t!==e):[...t.platforms,e]}))},setDateRangeFilter:(e,t)=>{s(s=>({...s,dateRange:{start:e,end:t}}))},resetFilters:()=>{s({categories:[],platforms:[],dateRange:{start:"",end:""}})},uniqueCategories:l,uniquePlatforms:n,hasActiveFilters:d}}(p);(0,r.useEffect)(()=>{let e=localStorage.getItem("calendarViewMode");e&&["month","week","day"].includes(e)&&b(e)},[]),(0,r.useEffect)(()=>{localStorage.setItem("calendarViewMode",j)},[j]);let[q,L]=(0,r.useState)(0),V=e=>{e?s(e):s(void 0)},T=w?(0,i.k)({start:(0,o.k)(w,{weekStartsOn:1}),end:(0,m.$)(w,{weekStartsOn:1})}):[];return(0,a.jsxs)(c.Bc,{children:[(0,a.jsxs)("div",{className:"flex flex-col min-h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[(0,a.jsxs)(l.$,{size:"sm",variant:"month"===j?"default":"ghost",onClick:()=>b("month"),className:"h-8",children:[(0,a.jsx)(B.A,{className:"h-4 w-4 mr-1"}),"月"]}),(0,a.jsxs)(l.$,{size:"sm",variant:"week"===j?"default":"ghost",onClick:()=>b("week"),className:"h-8",children:[(0,a.jsx)(B.A,{className:"h-4 w-4 mr-1"}),"週"]}),(0,a.jsxs)(l.$,{size:"sm",variant:"day"===j?"default":"ghost",onClick:()=>b("day"),className:"h-8",children:[(0,a.jsx)(B.A,{className:"h-4 w-4 mr-1"}),"日"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v,{showFilters:_,setShowFilters:C,filters:z,toggleCategoryFilter:D,togglePlatformFilter:R,setDateRangeFilter:F,resetFilters:M,uniqueCategories:E,uniquePlatforms:$,hasActiveFilters:H}),S&&(0,a.jsxs)(l.$,{size:"sm",onClick:()=>e(!0),className:"h-8",children:[(0,a.jsx)(J.A,{className:"h-4 w-4 mr-1"}),"予定追加"]})]})]}),(0,a.jsxs)("div",{className:"flex-grow rounded-md ".concat(S?"p-4":"p-2"," bg-slate-900/95 backdrop-blur-sm"),children:[(0,a.jsxs)("div",{className:"".concat(S?"h-full overflow-y-auto":"min-h-full"),children:["month"===j&&(0,a.jsx)(P,{selectedDate:t,filteredSchedules:A,handleDesktopDayClick:t=>{let a=new Date().getTime();a-q<300?(s(t),e(!0),L(0)):V(t),L(a)},handleDaySelect:V,isDesktop:S,ScheduleTooltipContent:y}),"week"===j&&(0,a.jsx)(O,{weekDays:T,filteredSchedules:A,setSelectedDate:s,setIsModalOpen:e,isDesktop:S}),"day"===j&&(0,a.jsx)(G,{selectedDate:t,filteredSchedules:A,isDesktop:S})]}),!S&&(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("div",{className:"bg-slate-800/80 border border-slate-600/30 rounded-lg p-4 backdrop-blur-sm",children:(0,a.jsxs)(d.tU,{defaultValue:"sns",className:"w-full",children:[(0,a.jsxs)(d.j7,{className:"w-full h-12 items-center justify-center rounded-md bg-secondary p-1 text-secondary-foreground",children:[(0,a.jsx)(d.Xi,{value:"sns",className:"flex-1",children:"SNS投稿"}),(0,a.jsx)(d.Xi,{value:"schedule",className:"flex-1",children:"予定一覧"})]}),(0,a.jsx)(d.av,{value:"sns",className:"mt-4",children:(0,a.jsx)(I.O,{})}),(0,a.jsxs)(d.av,{value:"schedule",className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"選択日の予定"}),(()=>{let e=t?A.filter(e=>(0,x.r)((0,u.H)(e.date),t)):[];return e.length>0?(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-700/60 rounded backdrop-blur-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.title||"(タイトルなし)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.time})]}),(0,a.jsx)(n.E,{variant:"outline",className:"text-xs",children:e.category})]},e.id))}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:t?"選択日の予定はありません":"日付を選択してください"})})()]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-3",children:"予定一覧"}),(0,a.jsx)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.length>0?A.slice(0,10).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-slate-700/60 rounded backdrop-blur-sm",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:e.title||"(タイトルなし)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,h.GP)((0,u.H)(e.date),"M/d HH:mm")})]}),(0,a.jsx)(n.E,{variant:"outline",className:"text-xs ml-2",children:e.category})]},e.id)):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"予定はありません"})})]})]})]})})})]})]}),(0,a.jsx)("div",{className:"fixed bottom-4 right-4 z-20 lg:hidden",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(l.$,{size:"icon",variant:"outline",className:"rounded-full h-12 w-12 shadow-lg bg-white dark:bg-slate-800",onClick:()=>C(!_),children:(0,a.jsx)(N.A,{className:"h-5 w-5"})}),(0,a.jsx)(l.$,{size:"icon",className:"rounded-full h-14 w-14 shadow-lg",onClick:()=>e(!0),children:(0,a.jsx)(J.A,{className:"h-6 w-6"})})]})})]})}function L(){return(0,a.jsx)(q,{})}},85543:(e,t,s)=>{Promise.resolve().then(s.bind(s,67613))}},e=>{e.O(0,[96,76,358],()=>e(e.s=85543)),_N_E=e.O()}]);