(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52],{8980:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eN});var a=t(18841),l=t(58669),r=t(28198),i=t(77902),n=t(98356),c=t(33544),o=t(2570),d=t(44166),x=t(14967),m=t(98156),h=t(54686),A=t(54625),u=t(88472),b=t(28806),p=t(49752),g=t(38425),j=t(59172),v=t(90584),N=t(90215),f=t(19463),y=t(83190),w=t(23718),E=t(17550),k=t(45185),C=t(75359),D=t(79706),S=t(42542),F=t(42990),I=t(74486),R=t(76685),P=t(81052),z=t(59606),T=t(19866),J=t(63615),O=t(95446),$=t(20791),L=t(31171),V=t(68698),_=t(41383),M=t(78561),B=t(16051),U=t(78253),q=t(77463),Z=t(24860),G=t(5564),X=t(53333),W=t(30897),Y=t(7934),H=t(10768),Q=t(61197),K=t(5081),ee=t(87570),es=t(63627),et=t(49907),ea=t(24156),el=t(2947),er=t(65939);let ei=[{id:1,title:"超絶高難易度ゲームに初見で挑戦！",description:"視聴者から寄せられた「絶対にクリアできない」と噂のゲームに、何の予備知識もなく挑戦します。絶叫と感動のドラマが生まれること間違いなし！",points:["リアクション芸が光る","視聴者との一体感が生まれる","切り抜き動画映えする"],category:"gaming",estimatedDuration:120,difficulty:"hard"},{id:2,title:"視聴者参加型！みんなで決める歌枠セットリスト",description:"配信中にアンケート機能を使って、次に歌う曲を視聴者に決めてもらうインタラクティブな歌枠。定番曲から意外な曲まで、何が飛び出すか分からない！",points:["ファンサービス満点","コメントが盛り上がる","アーカイブの再生数も期待できる"],category:"singing",estimatedDuration:90,difficulty:"easy"},{id:3,title:"完全オリジナル！自作ゲームお披露目会",description:"数ヶ月かけて制作した自作ゲームを、ファンと一緒についにプレイ！開発秘話や裏話を交えながら、感動のエンディングを目指す。",points:["クリエイターとしての一面を見せられる","独自性が高い","記念配信に最適"],category:"gaming",estimatedDuration:180,difficulty:"medium"}],en={introduction:"皆さん、こんにちは！〇〇です！今日の配信は、なんと…！",body:"（ここでゲームプレイや企画の本編）\nいやー、これは難しい！でも、みんなの応援があるから頑張れる！",conclusion:"というわけで、今日の配信はここまで！たくさんのコメント、スパチャありがとう！次回もまた見てね！おつ〇〇～！"},ec={FAVORITES:1,HISTORY:1,SAVED_SCRIPTS:1,PERSONAS:1},eo={IDEAS_ORDER:"script-generator-ideas-order",FAVORITES:"script-generator-favorites",HISTORY:"script-generator-history",SAVED_SCRIPTS:"script-generator-saved-scripts",PERSONAS:"script-generator-personas",DEFAULT_PERSONA:"script-generator-default-persona"};function ed(e,s){try{let t={version:ec.HISTORY,history:s};window.localStorage.setItem(e,JSON.stringify(t))}catch(s){console.error("Failed to save history to storage: ".concat(e),s)}}function ex(e,s){try{let t={version:ec.SAVED_SCRIPTS,scripts:s};window.localStorage.setItem(e,JSON.stringify(t))}catch(s){console.error("Failed to save saved scripts to storage: ".concat(e),s)}}function em(e,s){try{let t=window.localStorage.getItem(e),a={personas:[],defaultPersonaId:null};if(!t){let e=window.localStorage.getItem(s);return{...a,defaultPersonaId:e||null}}let l=JSON.parse(t);if(l.version===ec.PERSONAS)return window.localStorage.removeItem(s),{personas:l.personas,defaultPersonaId:l.defaultPersonaId};return a}catch(s){return console.warn("Failed to load personas from storage: ".concat(e),s),{personas:[],defaultPersonaId:null}}}let eh=eo.IDEAS_ORDER,eA=(e,s)=>{try{window.localStorage.setItem(e,JSON.stringify(s))}catch(s){ea.vF.error("Failed to save ideas order to storage: ".concat(e),s,"useIdeaStorage")}};function eu(e){let{filteredIdeas:s,generatedIdeas:t,selectedIdeaId:l,searchQuery:c,setSearchQuery:d,selectedCategories:h,setSelectedCategories:A,selectedDifficulty:u,setSelectedDifficulty:b,durationFilter:p,setDurationFilter:g,handleCardClick:N,handleDragEnd:f,handleToggleFavorite:y,handleCopyIdea:E,handleShareIdeaUrl:k,handleExportIdeaAsText:C,handleExportIdeaAsPDF:F,handleGenerateScript:I,isGeneratingScript:R,categoryConfig:z}=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[t.length>0&&(0,a.jsxs)("div",{className:"space-y-3 p-4 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"idea-search",className:"flex items-center gap-2 text-sm text-[#E0E0E0]",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"検索"]}),(0,a.jsx)(i.p,{id:"idea-search",placeholder:"タイトル、説明、ポイントで検索...",value:c,onChange:e=>d(e.target.value),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(z).map(e=>{let s=h.includes(e);return(0,a.jsx)(r.$,{variant:s?"default":"outline",size:"sm",onClick:()=>{s?A(h.filter(s=>s!==e)):A([...h,e])},className:(0,X.cn)("text-xs",s?"bg-primary text-primary-foreground":"bg-[#1A1A1A] border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]"),children:z[e].label},e)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"難易度"}),(0,a.jsxs)(o.l6,{value:u,onValueChange:e=>b(e),children:[(0,a.jsx)(o.bq,{className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"すべて"}),(0,a.jsx)(o.eb,{value:"easy",children:"初級"}),(0,a.jsx)(o.eb,{value:"medium",children:"中級"}),(0,a.jsx)(o.eb,{value:"hard",children:"上級"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"予想配信時間"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.p,{type:"number",placeholder:"最小",min:"0",value:p.min||"",onChange:e=>g({...p,min:e.target.value?parseInt(e.target.value):void 0}),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"}),(0,a.jsx)("span",{className:"text-[#A0A0A0]",children:"〜"}),(0,a.jsx)(i.p,{type:"number",placeholder:"最大",min:"0",value:p.max||"",onChange:e=>g({...p,max:e.target.value?parseInt(e.target.value):void 0}),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]})]})]}),(c||h.length>0||"all"!==u||void 0!==p.min||void 0!==p.max)&&(0,a.jsx)("div",{className:"flex justify-end pt-2",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{d(""),A([]),b("all"),g({})},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})}),(0,a.jsxs)("div",{className:"text-sm text-[#A0A0A0] pt-2 border-t border-[#4A4A4A]",children:[(0,a.jsx)("span",{className:"font-medium text-[#E0E0E0]",children:s.length}),"件の企画案が見つかりました",s.length<t.length&&(0,a.jsxs)("span",{className:"ml-2",children:["（全",t.length,"件中）"]})]})]}),t.length>0&&0===s.length&&(0,a.jsxs)("div",{className:"w-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px] border border-[#4A4A4A]",children:[(0,a.jsx)(D.A,{className:"w-12 h-12 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#E0E0E0] mb-2",children:"検索条件に一致する企画案がありません"}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mb-4",children:"検索条件やフィルターを変更してお試しください。"}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>{d(""),A([]),b("all"),g({})},className:"border-[#4A4A4A]",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})]}),s.length>0&&(0,a.jsx)(el.JY,{onDragEnd:f,children:(0,a.jsx)(el.gL,{droppableId:"ideas",children:e=>(0,a.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-4",children:[s.map((e,s)=>{let t=z[e.category],i=t.icon;return(0,a.jsx)(el.sx,{draggableId:e.id.toString(),index:s,isDragDisabled:e.isFavorite,children:(s,n)=>(0,a.jsxs)(m.Zp,{ref:s.innerRef,...s.draggableProps,className:(0,X.cn)("cursor-pointer transition-all relative overflow-hidden","hover:border-primary hover:shadow-lg hover:shadow-primary/20",l===e.id&&"border-primary shadow-md",n.isDragging&&"shadow-2xl opacity-90 bg-[#3A3A3A]",e.isFavorite&&"border-l-4 border-l-yellow-500/80","bg-gradient-to-br ".concat(t.gradient),!e.isFavorite&&"border-l-4 ".concat(t.borderColor)),onClick:()=>N(e.id),role:"button",tabIndex:0,"aria-expanded":l===e.id,"aria-label":"企画案: ".concat(e.title),onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),N(e.id))},children:[!e.isFavorite&&(0,a.jsx)("div",{...s.dragHandleProps,className:"absolute left-0 top-0 bottom-0 w-6 flex items-center justify-center cursor-grab active:cursor-grabbing hover:bg-[#4A4A4A]/50 z-10 rounded-l-md transition-colors",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(J.A,{className:"h-4 w-4 text-[#A0A0A0]"})}),(0,a.jsx)(m.aR,{className:(0,X.cn)("pb-3",!e.isFavorite&&"pl-8"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:(0,X.cn)("w-12 h-12 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",t.bgColor,"border border-[#4A4A4A]"),children:(0,a.jsx)(i,{className:"h-6 w-6 text-[#E0E0E0]"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,a.jsx)(m.ZB,{className:"text-lg font-semibold line-clamp-2 text-[#E0E0E0] flex-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),y(e.id)},className:(0,X.cn)("h-8 w-8",e.isFavorite?"text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10":"text-[#A0A0A0] hover:text-yellow-400 hover:bg-yellow-500/10"),"aria-label":e.isFavorite?"お気に入りから削除":"お気に入りに追加",children:(0,a.jsx)(w.A,{className:(0,X.cn)("h-4 w-4 transition-all",e.isFavorite&&"fill-current")})}),(0,a.jsxs)(es.rI,{children:[(0,a.jsx)(es.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:e=>e.stopPropagation(),className:"h-8 w-8 text-[#A0A0A0] hover:text-[#E0E0E0] hover:bg-[#4A4A4A]","aria-label":"共有・エクスポート",children:(0,a.jsx)(O.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(es.SQ,{align:"end",className:"bg-[#2D2D2D] border-[#4A4A4A] min-w-[180px]",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),E(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-2"}),"コピー"]}),(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),k(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"URL共有"]}),(0,a.jsx)(es.mB,{className:"bg-[#4A4A4A]"}),(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),C(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"テキストエクスポート"]}),(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),F(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"PDFエクスポート"]})]})]}),(0,a.jsxs)(x.E,{variant:"outline",className:"flex-shrink-0 border-[#4A4A4A] text-[#A0A0A0]",children:[(0,a.jsx)(v.A,{className:"h-3 w-3 mr-1"}),e.estimatedDuration,"分"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,a.jsx)(x.E,{className:(0,X.cn)(t.badgeColor,"text-xs font-medium"),children:t.label}),e.difficulty&&(0,a.jsx)(x.E,{variant:"outline",className:(0,X.cn)("text-xs font-medium border-[#4A4A4A]","easy"===e.difficulty&&"text-green-400 border-green-500/50 bg-green-500/10","medium"===e.difficulty&&"text-yellow-400 border-yellow-500/50 bg-yellow-500/10","hard"===e.difficulty&&"text-red-400 border-red-500/50 bg-red-500/10"),children:"easy"===e.difficulty?"初級":"medium"===e.difficulty?"中級":"上級"})]}),(0,a.jsx)(m.BT,{className:"line-clamp-2 text-[#A0A0A0]",children:e.description})]})]})}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm mb-2 text-[#E0E0E0]",children:"おすすめポイント"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.points.map((e,s)=>(0,a.jsx)(x.E,{variant:"secondary",className:"text-xs bg-[#2D2D2D] text-[#A0A0A0] border-[#4A4A4A]",children:e},s))})]}),(0,a.jsxs)(m.wL,{className:"gap-2",children:[(0,a.jsx)(r.$,{variant:"outline","aria-label":"この企画を調整",className:"border-[#4A4A4A]",children:"この企画を調整"}),(0,a.jsx)(r.$,{onClick:()=>I(e),disabled:R,"aria-label":"".concat(e.title,"の台本を生成"),children:R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),"台本生成中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"台本を生成する"]})})]})]})},e.id)}),e.placeholder]})})})]})}let eb={gaming:{label:"ゲーム",icon:h.A,gradient:"from-blue-600/20 via-blue-500/10 to-purple-600/20",borderColor:"border-blue-500/50",badgeColor:"bg-blue-500/20 text-blue-400 border-blue-500/30",bgColor:"bg-blue-500/10"},singing:{label:"歌枠",icon:A.A,gradient:"from-pink-600/20 via-pink-500/10 to-rose-600/20",borderColor:"border-pink-500/50",badgeColor:"bg-pink-500/20 text-pink-400 border-pink-500/30",bgColor:"bg-pink-500/10"},talk:{label:"雑談",icon:u.A,gradient:"from-green-600/20 via-green-500/10 to-emerald-600/20",borderColor:"border-green-500/50",badgeColor:"bg-green-500/20 text-green-400 border-green-500/30",bgColor:"bg-green-500/10"},collaboration:{label:"コラボ",icon:b.A,gradient:"from-orange-600/20 via-orange-500/10 to-amber-600/20",borderColor:"border-orange-500/50",badgeColor:"bg-orange-500/20 text-orange-400 border-orange-500/30",bgColor:"bg-orange-500/10"},event:{label:"イベント",icon:p.A,gradient:"from-purple-600/20 via-purple-500/10 to-violet-600/20",borderColor:"border-purple-500/50",badgeColor:"bg-purple-500/20 text-purple-400 border-purple-500/30",bgColor:"bg-purple-500/10"},other:{label:"その他",icon:g.A,gradient:"from-gray-600/20 via-gray-500/10 to-slate-600/20",borderColor:"border-gray-500/50",badgeColor:"bg-gray-500/20 text-gray-400 border-gray-500/30",bgColor:"bg-gray-500/10"}},ep=[{id:"standard",name:"標準形式",description:"導入・本題・結論の3部構成",category:"other",sections:[{id:"introduction",label:"導入",placeholder:"導入部分を入力...",required:!0,order:1,color:"blue"},{id:"body",label:"本題",placeholder:"本題部分を入力...",required:!0,order:2,color:"green"},{id:"conclusion",label:"結論",placeholder:"結論部分を入力...",required:!0,order:3,color:"purple"}]},{id:"gaming",name:"ゲーム実況形式",description:"ゲーム実況向けのテンプレート",category:"gaming",sections:[{id:"intro",label:"挨拶・ゲーム紹介",placeholder:"挨拶とゲーム紹介...",required:!0,order:1,color:"blue"},{id:"setup",label:"準備・ルール説明",placeholder:"準備やルール説明...",required:!1,order:2,color:"yellow"},{id:"play",label:"ゲームプレイ",placeholder:"ゲームプレイの内容...",required:!0,order:3,color:"green"},{id:"highlight",label:"見どころ",placeholder:"見どころやポイント...",required:!1,order:4,color:"orange"},{id:"ending",label:"終了挨拶",placeholder:"終了挨拶...",required:!0,order:5,color:"purple"}]},{id:"singing",name:"歌枠形式",description:"歌枠配信用のテンプレート",category:"singing",sections:[{id:"intro",label:"挨拶",placeholder:"挨拶...",required:!0,order:1,color:"blue"},{id:"setlist",label:"セットリスト紹介",placeholder:"セットリスト...",required:!1,order:2,color:"pink"},{id:"performance",label:"歌唱",placeholder:"歌唱内容...",required:!0,order:3,color:"green"},{id:"thanks",label:"お礼・次回予告",placeholder:"お礼と次回予告...",required:!0,order:4,color:"purple"}]},{id:"talk",name:"雑談形式",description:"雑談配信用のテンプレート",category:"talk",sections:[{id:"intro",label:"挨拶・今日のテーマ",placeholder:"挨拶と今日のテーマ...",required:!0,order:1,color:"blue"},{id:"topic1",label:"話題1",placeholder:"話題1の内容...",required:!1,order:2,color:"green"},{id:"topic2",label:"話題2",placeholder:"話題2の内容...",required:!1,order:3,color:"yellow"},{id:"interaction",label:"視聴者との交流",placeholder:"視聴者との交流内容...",required:!1,order:4,color:"orange"},{id:"ending",label:"終了挨拶",placeholder:"終了挨拶...",required:!0,order:5,color:"purple"}]}],eg=[{id:"analyze",label:"キーワード分析中..."},{id:"brainstorm",label:"アイデア発想中..."},{id:"organize",label:"企画案を整理中..."},{id:"complete",label:"完成！"}],ej=[{id:"analyze",label:"企画案を分析中..."},{id:"structure",label:"台本構造を作成中..."},{id:"generate",label:"セクションを生成中..."},{id:"adjust",label:"最終調整中..."},{id:"complete",label:"完成！"}],ev=e=>{let{steps:s,currentStepId:t,type:l}=e,r=t?s.findIndex(e=>e.id===t):-1,i=r>=0?(r+1)/s.length*100:0;return(0,a.jsx)("div",{className:"w-full space-y-6",children:(0,a.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,a.jsx)(j.A,{className:"w-16 h-16 text-primary mb-6 animate-spin","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-[#E0E0E0] mb-2",children:"ideas"===l?"企画案を生成中...":"台本を生成中..."}),(0,a.jsxs)("div",{className:"w-full max-w-md mt-6",children:[(0,a.jsx)("div",{className:"w-full h-2 bg-[#1A1A1A] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-primary transition-all duration-500 ease-out rounded-full",style:{width:"".concat(i,"%")}})}),(0,a.jsx)("p",{className:"text-sm text-[#A0A0A0] mt-2 text-center",children:r>=0&&r<s.length?s[r].label:"準備中..."})]}),(0,a.jsx)("div",{className:"w-full max-w-2xl mt-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between relative",children:[(0,a.jsx)("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-[#4A4A4A] -z-10"}),(0,a.jsx)("div",{className:"absolute top-5 left-0 h-0.5 bg-primary transition-all duration-500 ease-out -z-10",style:{width:"".concat(i,"%")}}),s.map((e,s)=>{let t=r>=s,l=r===s;return(0,a.jsxs)("div",{className:"flex flex-col items-center relative z-10",children:[(0,a.jsx)("div",{className:(0,X.cn)("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300",l?"bg-primary border-primary scale-110 shadow-lg shadow-primary/50":t?"bg-primary/20 border-primary":"bg-[#1A1A1A] border-[#4A4A4A]"),children:l?(0,a.jsx)(j.A,{className:"w-5 h-5 text-white animate-spin"}):t?(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-primary"}):(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#4A4A4A]"})}),(0,a.jsx)("p",{className:(0,X.cn)("text-xs mt-2 text-center max-w-[100px] transition-colors duration-300",l?"text-primary font-semibold":t?"text-[#E0E0E0]":"text-[#4A4A4A]"),children:e.label})]},e.id)})]})})]})})};function eN(){let{ideas:e,setIdeas:s,favoriteIds:t,ideasOrderRef:u,addIdea:eN,removeIdea:ef,updateIdea:ey,reorderIdeas:ew,toggleFavorite:eE}=function(){let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(()=>(function(e){try{let s=window.localStorage.getItem(e);if(!s)return new Set;let t=JSON.parse(s);if(Array.isArray(t))return new Set(t);if(t.version===ec.FAVORITES)return new Set(t.favoriteIds);return new Set}catch(s){return console.warn("Failed to load favorites from storage: ".concat(e),s),new Set}})(eo.FAVORITES)),r=(0,l.useRef)((e=>{try{let s=window.localStorage.getItem(e);if(!s)return{};let t=JSON.parse(s);if(!t)return{};return Object.entries(t).reduce((e,s)=>{let[t,a]=s,l=Number(t);return Number.isFinite(l)&&Number.isFinite(a)&&(e[l]=Number(a)),e},{})}catch(s){return ea.vF.warn("Failed to load ideas order from storage: ".concat(e),s,"useIdeaStorage"),{}}})(eh));(0,l.useEffect)(()=>{var e=eo.FAVORITES;try{let s={version:ec.FAVORITES,favoriteIds:Array.from(t)};window.localStorage.setItem(e,JSON.stringify(s))}catch(s){console.error("Failed to save favorites to storage: ".concat(e),s)}},[t]);let i=(0,l.useCallback)(e=>{r.current=e,eA(eh,e)},[]),n=(0,l.useCallback)(e=>{a(s=>{let t=new Set(s);return t.add(e),t})},[]),c=(0,l.useCallback)(e=>{a(s=>{let t=new Set(s);return t.delete(e),t})},[]),o=(0,l.useCallback)(e=>{a(s=>{let t=new Set(s);return t.has(e)?t.delete(e):t.add(e),t})},[]),d=(0,l.useCallback)(e=>{s(s=>[e,...s])},[]),x=(0,l.useCallback)(e=>{s(s=>s.filter(s=>s.id!==e)),c(e)},[c]),m=(0,l.useCallback)((e,t)=>{s(s=>s.map(s=>s.id===e?{...s,...t}:s))},[]),h=(0,l.useCallback)(e=>{s(e);let t={};e.forEach((e,s)=>{t[e.id]=s}),i(t)},[i]),A=(0,l.useCallback)(()=>{s([]),r.current={},eA(eh,{})},[]);return{ideas:e,setIdeas:s,favoriteIds:t,ideasOrderRef:r,addIdea:d,removeIdea:x,updateIdea:m,reorderIdeas:h,clearIdeas:A,addFavorite:n,removeFavorite:c,toggleFavorite:o,saveIdeasOrder:i}}(),{personas:ek,setPersonas:eC,selectedPersonaId:eD,setSelectedPersonaId:eS,defaultPersonaId:eF,setDefaultPersona:eI,createPersona:eR,updatePersona:eP,deletePersona:ez,getPersona:eT}=function(){let[e,s]=(0,l.useState)(()=>{let{personas:e}=em(eo.PERSONAS,eo.DEFAULT_PERSONA);return e}),[t,a]=(0,l.useState)(()=>{let{defaultPersonaId:e}=em(eo.PERSONAS,eo.DEFAULT_PERSONA);return e}),[r,i]=(0,l.useState)(()=>{let{defaultPersonaId:e}=em(eo.PERSONAS,eo.DEFAULT_PERSONA);return e});(0,l.useEffect)(()=>{!function(e,s,t,a){try{let l={version:ec.PERSONAS,personas:t,defaultPersonaId:a};window.localStorage.setItem(e,JSON.stringify(l)),window.localStorage.removeItem(s)}catch(s){console.error("Failed to save personas to storage: ".concat(e),s)}}(eo.PERSONAS,eo.DEFAULT_PERSONA,e,r)},[e,r]);let n=(0,l.useCallback)(t=>{if(e.length>=50)return er.oR.error("ペルソナは最大".concat(50,"個まで作成できます")),null;let a=Date.now(),l={...t,id:"persona-".concat(a,"-").concat(Math.random().toString(36).substring(2,9)),createdAt:a,updatedAt:a};return s(e=>[...e,l]),ea.vF.info("Persona created: ".concat(l.id),"usePersonaStorage"),l},[e.length]),c=(0,l.useCallback)((e,t)=>(s(s=>s.map(s=>s.id===e?{...s,...t,updatedAt:Date.now()}:s)),ea.vF.info("Persona updated: ".concat(e),"usePersonaStorage"),!0),[]),o=(0,l.useCallback)(t=>0!==e.length&&(r===t&&i(null),s(e=>e.filter(e=>e.id!==t)),ea.vF.info("Persona deleted: ".concat(t),"usePersonaStorage"),!0),[e.length,r]),d=(0,l.useCallback)(e=>{i(e),e&&a(e),ea.vF.info("Default persona set: ".concat(e),"usePersonaStorage")},[]),x=(0,l.useCallback)(s=>s&&e.find(e=>e.id===s)||null,[e]),m=(0,l.useCallback)(()=>r&&e.find(e=>e.id===r)||null,[e,r]);return{personas:e,setPersonas:s,selectedPersonaId:t,setSelectedPersonaId:a,defaultPersonaId:r,setDefaultPersona:d,createPersona:n,updatePersona:c,deletePersona:o,getPersona:x,getDefaultPersona:m}}(),[eJ,eO]=(0,l.useState)(null),[e$,eL]=(0,l.useState)(null),[eV,e_]=(0,l.useState)(!1),[eM,eB]=(0,l.useState)(!1),[eU,eq]=(0,l.useState)(null),[eZ,eG]=(0,l.useState)(null),[eX,eW]=(0,l.useState)({keywords:"",direction:"",duration:60,speakingStyle:[],includeElements:[],customPrompt:""}),[eY,eH]=(0,l.useState)("edit"),[eQ,eK]=(0,l.useState)(1),[e0,e4]=(0,l.useState)(null),[e2,e1]=(0,l.useState)(!1),[e5,e3]=(0,l.useState)(""),[e6,e8]=(0,l.useState)([]),[e9,e7]=(0,l.useState)("all"),[se,ss]=(0,l.useState)({}),[st,sa]=(0,l.useState)("all"),[sl,sr]=(0,l.useState)(()=>{try{return function(e){try{let s=window.localStorage.getItem(e);if(!s)return[];let t=JSON.parse(s);if(Array.isArray(t))return t;if(t.version===ec.HISTORY)return t.history;return[]}catch(s){return console.warn("Failed to load history from storage: ".concat(e),s),[]}}(eo.HISTORY)||[]}catch(e){return ea.vF.warn("履歴の読み込みに失敗しました",e,"ScriptGenerator"),[]}}),[si,sn]=(0,l.useState)(""),[sc,so]=(0,l.useState)("all"),[sd,sx]=(0,l.useState)([]),[sm,sh]=(0,l.useState)(-1),[sA,su]=(0,l.useState)(!1),[sb,sp]=(0,l.useState)(()=>{try{return function(e){try{let s=window.localStorage.getItem(e);if(!s)return[];let t=JSON.parse(s);if(Array.isArray(t))return t;if(t.version===ec.SAVED_SCRIPTS)return t.scripts;return[]}catch(s){return console.warn("Failed to load saved scripts from storage: ".concat(e),s),[]}}(eo.SAVED_SCRIPTS)||[]}catch(e){return ea.vF.warn("保存済み台本の読み込みに失敗しました",e,"ScriptGenerator"),[]}}),[sg,sj]=(0,l.useState)("saved"),[sv,sN]=(0,l.useState)([]),[sf,sy]=(0,l.useState)("standard"),[sw,sE]=(0,l.useState)(!1),[sk,sC]=(0,l.useState)(null),[sD,sS]=(0,l.useState)({name:"",description:"",speakingStyle:[],traits:[]}),[sF,sI]=(0,l.useState)(!1),[sR,sP]=(0,l.useState)(""),{isOpen:sz,setIsOpen:sT,isDesktop:sJ}=(0,W.c)({defaultOpen:!1,desktopDefaultOpen:!0}),[sO,s$]=(0,l.useState)("persona"),[sL,sV]=(0,l.useState)("generate"),[s_,sM]=(0,l.useState)(!1),[sB,sU]=(0,l.useState)(!0),sq=l.useRef(null),{handleAsyncError:sZ}=(0,Y.u)();(0,l.useEffect)(()=>{s$(sJ?"generate":"persona"),sJ||sV("generate")},[sJ]),(0,l.useEffect)(()=>{if(!sJ&&sq.current){let e=()=>{let e=sq.current;e&&(sM(e.scrollLeft>0),sU(e.scrollLeft<e.scrollWidth-e.clientWidth-1))};e();let s=sq.current;return s.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{s.removeEventListener("scroll",e),window.removeEventListener("resize",e)}}},[sJ,sL]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem("script-generator-custom-templates");if(e){let s=JSON.parse(e);sN(Array.isArray(s)?s:[])}}catch(e){console.error("カスタムテンプレート読み込み失敗",e)}},[]),(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("idea");if(e)try{let s=decodeURIComponent(atob(e)),t=JSON.parse(s),a={id:Date.now(),title:t.title||"共有された企画案",description:t.description||"",points:t.points||[],category:t.category||"other",estimatedDuration:t.estimatedDuration||60,difficulty:t.difficulty};eN(a),eO(a.id),er.oR.success("共有された企画案を読み込みました"),window.history.replaceState({},"",window.location.pathname)}catch(e){console.error("企画案読み込み失敗",e),er.oR.error("共有URLの読み込みに失敗しました")}},[]);let sG=(0,l.useMemo)(()=>[...ep,...sv],[sv]),sX=(0,l.useMemo)(()=>sG.find(e=>e.id===sf)||ep[0],[sG,sf]),sW={blue:{border:"border-blue-500/50",bg:"bg-blue-500/5"},green:{border:"border-green-500/50",bg:"bg-green-500/5"},purple:{border:"border-purple-500/50",bg:"bg-purple-500/5"},yellow:{border:"border-yellow-500/50",bg:"bg-yellow-500/5"},orange:{border:"border-orange-500/50",bg:"bg-orange-500/5"},pink:{border:"border-pink-500/50",bg:"bg-pink-500/5"}},sY=(0,l.useMemo)(()=>(null==e$?void 0:e$.templateId)&&sG.find(e=>e.id===e$.templateId)||ep[0],[e$,sG]),sH=(0,l.useCallback)(e=>e$?e$.sections&&e$.sections[e]?e$.sections[e]:"introduction"===e||"intro"===e?e$.introduction||"":"body"===e||"play"===e||"performance"===e?e$.body||"":("conclusion"===e||"ending"===e||"thanks"===e)&&e$.conclusion||"":"",[e$]),sQ=(0,l.useCallback)((e,s,t)=>{if(0!==e.length)try{let a={id:"history-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),ideas:e.map(e=>({...e})),keywords:s,direction:t,createdAt:new Date().toISOString()};sr(e=>{let s=[a,...e].slice(0,50);try{ed(eo.HISTORY,s)}catch(s){return ea.vF.error("履歴保存失敗",s,"ScriptGenerator"),er.oR.error("履歴の保存に失敗しました"),e}return s})}catch(e){console.error("履歴保存失敗",e)}},[]),sK=(0,l.useCallback)(e=>{sr(s=>{let t=s.filter(s=>s.id!==e);try{ed(eo.HISTORY,t)}catch(e){return ea.vF.error("履歴削除失敗",e,"ScriptGenerator"),er.oR.error("履歴の削除に失敗しました"),s}return t})},[]),s0=(0,l.useCallback)(()=>{if(confirm("すべての履歴を削除しますか？"))try{ed(eo.HISTORY,[]),sr([])}catch(e){ea.vF.error("履歴全削除失敗",e,"ScriptGenerator"),er.oR.error("履歴の削除に失敗しました")}},[]),s4=(0,l.useCallback)(e=>{let a=e.ideas.map(e=>({...e,isFavorite:t.has(e.id)})),l=u.current,r=l&&Object.keys(l).length>0?[...a].sort((e,s)=>{var t,a;return(null!=(t=l[e.id])?t:e.id)-(null!=(a=l[s.id])?a:s.id)}):a;s(a),r.length>0&&ew(r),eO(null),eL(null),sa("all"),s$(sJ?"generate":"persona")},[t,sJ,s,ew,u,eO,eL,sa,s$]),s2=(0,l.useMemo)(()=>sl&&Array.isArray(sl)?sl.filter(e=>{if(si){let s=si.toLowerCase();if(!(e.keywords&&e.keywords.toLowerCase().includes(s)||e.direction&&e.direction.toLowerCase().includes(s)||e.ideas.some(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s))))return!1}return("all"===sc||!!e.ideas.some(e=>e.category===sc))&&!0}):[],[sl,si,sc]),s1=(0,l.useCallback)(()=>{sS({name:"",description:"",speakingStyle:[],traits:[]}),sC(null)},[]),s5=(0,l.useCallback)(()=>{if(!sD.name.trim())return void er.oR.error("ペルソナ名を入力してください");let e=eR({name:sD.name.trim(),description:sD.description.trim(),speakingStyle:sD.speakingStyle,traits:sD.traits});e&&(0===ek.length&&(eI(e.id),eS(e.id)),er.oR.success("ペルソナを作成しました"),sE(!1),s1())},[sD,ek.length,eR,eI,s1]),s3=(0,l.useCallback)(e=>{eP(e.id,{name:e.name,description:e.description,speakingStyle:e.speakingStyle,traits:e.traits})&&(er.oR.success("ペルソナを更新しました"),sE(!1),s1())},[eP,s1]),s6=(0,l.useCallback)(e=>{let s=eT(e);if(s){if(eF===e)return void er.oR.error("デフォルトに設定されているペルソナは削除できません。先に他のペルソナをデフォルトに設定してください。");if(confirm("「".concat(s.name,"」を削除しますか？"))&&ez(e)){if(eD===e){var t;eS(eF||ek.length>1&&(null==(t=ek.find(s=>s.id!==e))?void 0:t.id)||null)}er.oR.success("ペルソナを削除しました")}}},[eF,eD,ek,eT,ez,eS]),s8=(0,l.useCallback)(e=>{sC(e),sS({name:e.name,description:e.description,speakingStyle:e.speakingStyle||[],traits:e.traits||[]}),sE(!0)},[]),s9=(0,l.useCallback)(()=>{s1(),sE(!0)},[s1]),s7=(0,l.useCallback)(()=>{if(sk){let e={...sk,name:sD.name.trim(),description:sD.description.trim(),speakingStyle:sD.speakingStyle,traits:sD.traits,updatedAt:Date.now()};if(!e.name)return void er.oR.error("ペルソナ名を入力してください");s3(e)}else s5()},[sk,sD,s3,s5]),te=(0,l.useCallback)(e=>{eE(e),ey(e,{isFavorite:!t.has(e)})},[eE,ey,t]),ts=(0,l.useCallback)(e=>{let s=eb[e.category].label,t="easy"===e.difficulty?"初級":"medium"===e.difficulty?"中級":"hard"===e.difficulty?"上級":"";return"【企画案】".concat(e.title,"\n\n").concat(e.description,"\n\n■ カテゴリ: ").concat(s,"\n").concat(t?"■ 難易度: ".concat(t,"\n"):"","■ 予想配信時間: ").concat(e.estimatedDuration,"分\n\n■ おすすめポイント:\n").concat(e.points.map((e,s)=>"  ".concat(s+1,". ").concat(e)).join("\n"),"\n\n生成日時: ").concat(new Date().toLocaleString("ja-JP"),"\n")},[]),tt=(0,l.useCallback)(async e=>{try{let s=ts(e);await navigator.clipboard.writeText(s),er.oR.success("クリップボードにコピーしました")}catch(e){ea.vF.error("コピー失敗",e,"ScriptGenerator"),er.oR.error("コピーに失敗しました")}},[ts]),ta=(0,l.useCallback)(e=>{try{let s=ts(e),t=new Blob([s],{type:"text/plain;charset=utf-8"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download="企画案_".concat(e.title.replace(/[^\w\s]/g,"_"),"_").concat(new Date().getTime(),".txt"),document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),er.oR.success("テキストファイルとしてエクスポートしました")}catch(e){ea.vF.error("エクスポート失敗",e,"ScriptGenerator"),er.oR.error("エクスポートに失敗しました")}},[ts]),tl=(0,l.useCallback)(async e=>{try{let s=JSON.stringify({title:e.title,description:e.description,points:e.points,category:e.category,estimatedDuration:e.estimatedDuration,difficulty:e.difficulty}),t=btoa(encodeURIComponent(s)),a="".concat(window.location.origin).concat(window.location.pathname,"?idea=").concat(t);await navigator.clipboard.writeText(a),er.oR.success("共有URLをクリップボードにコピーしました")}catch(e){ea.vF.error("URL共有失敗",e,"ScriptGenerator"),er.oR.error("URL共有に失敗しました")}},[]),tr=(0,l.useCallback)(async e=>{try{let s='\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="UTF-8">\n  <title>'.concat(e.title,"</title>\n  <style>\n    body {\n      font-family: 'Noto Sans JP', sans-serif;\n      padding: 40px;\n      color: #333;\n      line-height: 1.6;\n    }\n    h1 {\n      font-size: 24px;\n      border-bottom: 2px solid #333;\n      padding-bottom: 10px;\n      margin-bottom: 20px;\n    }\n    .section {\n      margin-bottom: 20px;\n    }\n    .section-title {\n      font-size: 18px;\n      font-weight: bold;\n      margin-bottom: 10px;\n      color: #555;\n    }\n    .badge {\n      display: inline-block;\n      padding: 4px 8px;\n      background: #f0f0f0;\n      border-radius: 4px;\n      margin-right: 8px;\n      font-size: 12px;\n    }\n    ul {\n      margin: 10px 0;\n      padding-left: 20px;\n    }\n    li {\n      margin-bottom: 8px;\n    }\n    .footer {\n      margin-top: 40px;\n      padding-top: 20px;\n      border-top: 1px solid #ccc;\n      font-size: 12px;\n      color: #666;\n    }\n  </style>\n</head>\n<body>\n  <h1>【企画案】").concat(e.title,'</h1>\n  \n  <div class="section">\n    <p>').concat(e.description,'</p>\n  </div>\n  \n  <div class="section">\n    <span class="badge">').concat(eb[e.category].label,"</span>\n    ").concat(e.difficulty?'<span class="badge">'.concat("easy"===e.difficulty?"初級":"medium"===e.difficulty?"中級":"上級","</span>"):"",'\n    <span class="badge">').concat(e.estimatedDuration,'分</span>\n  </div>\n  \n  <div class="section">\n    <div class="section-title">おすすめポイント</div>\n    <ul>\n      ').concat(e.points.map(e=>"<li>".concat(e,"</li>")).join(""),'\n    </ul>\n  </div>\n  \n  <div class="footer">\n    生成日時: ').concat(new Date().toLocaleString("ja-JP"),"\n  </div>\n</body>\n</html>\n      "),t=window.open("","_blank");t?(t.document.write(s),t.document.close(),t.onload=()=>{setTimeout(()=>{t.print(),er.oR.success("PDFとして保存できます（印刷ダイアログから「PDFに保存」を選択）")},250)}):er.oR.error("ポップアップがブロックされています")}catch(e){ea.vF.error("PDFエクスポート失敗",e,"ScriptGenerator"),er.oR.error("PDFエクスポートに失敗しました")}},[]),ti=(0,l.useCallback)(s=>{var t;let a=null==(t=s.destination)?void 0:t.index;if(null==a)return;let l=parseInt(s.draggableId,10);if(Number.isNaN(l))return;let r=[...e],i=r.findIndex(e=>e.id===l);if(-1===i)return;let[n]=r.splice(i,1);r.splice(a,0,n),ew(r)},[e,ew]),tn=(0,l.useMemo)(()=>{let s=e.filter(e=>{if(e5){let s=e5.toLowerCase();if(!(e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.points.some(e=>e.toLowerCase().includes(s))))return!1}return(!(e6.length>0)||!!e6.includes(e.category))&&("all"===e9||e.difficulty===e9)&&(void 0===se.min||!(e.estimatedDuration<se.min))&&(void 0===se.max||!(e.estimatedDuration>se.max))});return"favorites"===st&&(s=s.filter(e=>e.isFavorite)),s},[e,e5,e6,e9,se,st]),tc=(0,l.useCallback)(async()=>{e_(!0),eq(eg[0].id),await sZ(async()=>{await new Promise(e=>setTimeout(e,300)),eq(eg[1].id),await new Promise(e=>setTimeout(e,300)),eq(eg[2].id),await new Promise(e=>setTimeout(e,400)),eq(eg[3].id);let s=ei.map(e=>({...e,isFavorite:t.has(e.id)}));s.forEach(e=>eN(e));let a=u.current,l=a&&Object.keys(a).length>0?[...e,...s].sort((e,s)=>{var t,l;return(null!=(t=a[e.id])?t:e.id)-(null!=(l=a[s.id])?l:s.id)}):[...e,...s];ew(l),eO(null),e3(""),e8([]),e7("all"),ss({}),sa("all"),sQ(l),await new Promise(e=>setTimeout(e,200))},"企画案生成中にエラーが発生しました"),e_(!1),eq(null),sJ||sV("ideas")},[sZ,t,sQ,sJ]),to=(0,l.useCallback)(e=>{eO(e),e$&&e$.ideaId===e||eL(null)},[e$]),td=(0,l.useCallback)(e=>{let s={introduction:e.introduction,body:e.body,conclusion:e.conclusion,timestamp:Date.now()};sx(e=>{let t=e.slice(0,sm+1);return(t.push(s),t.length>50)?t.slice(-50):t}),sh(e=>{let s=e+1;return s>=49?49:s})},[sm]),tx=(0,l.useCallback)(()=>{if(sm>0&&e$){let e=sd[sm-1];eL({...e$,introduction:e.introduction,body:e.body,conclusion:e.conclusion}),sh(e=>e-1),su(!0)}},[sd,sm,e$]),tm=(0,l.useCallback)(()=>{if(sm<sd.length-1&&e$){let e=sd[sm+1];eL({...e$,introduction:e.introduction,body:e.body,conclusion:e.conclusion}),sh(e=>e+1),su(!0)}},[sd,sm,e$]),th=(0,l.useCallback)((e,s)=>{e$&&(eL({...e$,..."introduction"===e&&{introduction:s},..."body"===e&&{body:s},..."conclusion"===e&&{conclusion:s},sections:e$.sections?{...e$.sections,[e]:s}:{introduction:e$.introduction,body:e$.body,conclusion:e$.conclusion,[e]:s}}),su(!0),sj("editing"))},[e$]),tA=(0,l.useCallback)(function(){var s;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e$){t||er.oR.error("保存する台本がありません");return}sj("saving");let a=e.find(e=>e.id===e$.ideaId),l=null!=(s=null==a?void 0:a.title)?s:"台本 ".concat(e$.ideaId),r=sb.filter(e=>e.scriptId===e$.ideaId),i=r.length>0?Math.max(...r.map(e=>e.version)):0,n=r.length>0&&!t?i+1:r.length>0?i:1,c=r.length>0?r[0].createdAt:Date.now(),o={id:"saved-".concat(e$.ideaId,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),scriptId:e$.ideaId,title:l,introduction:e$.introduction,body:e$.body,conclusion:e$.conclusion,createdAt:c,updatedAt:Date.now(),version:n,versionName:void 0,templateId:e$.templateId,sections:e$.sections},d=t&&r.length>0?sb.map(e=>e.scriptId===e$.ideaId&&e.version===i?{...o,id:e.id,createdAt:e.createdAt}:e):[o,...sb].slice(0,50);try{ex(eo.SAVED_SCRIPTS,d),sp(d),sj("saved"),su(!1),t||er.oR.success("台本を保存しました")}catch(e){sj("editing"),ea.vF.error("台本保存失敗",e,"ScriptGenerator"),t||er.oR.error("保存に失敗しました")}},[e$,e,sb]);(0,l.useEffect)(()=>{if(!e$||"editing"!==sg||!1===sA)return;let e=setTimeout(()=>{tA(!0)},3e4);return()=>{clearTimeout(e)}},[e$,sg,sA,tA]);let tu=(0,l.useCallback)(()=>{if(!e$)return void er.oR.error("複製する台本がありません");sI(!0)},[e$]),tb=(0,l.useCallback)(()=>{if(!e$)return void er.oR.error("複製する台本がありません");let s=e.find(e=>e.id===e$.ideaId);if(!s){let e="台本 ".concat(e$.ideaId),s=sb.filter(e=>e.scriptId===e$.ideaId),t=s.length>0?Math.max(...s.map(e=>e.version)):0,a=[{id:"saved-".concat(e$.ideaId,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),scriptId:e$.ideaId,title:e,introduction:e$.introduction||"",body:e$.body||"",conclusion:e$.conclusion||"",createdAt:Date.now(),updatedAt:Date.now(),version:t+1,versionName:sR.trim()||void 0,templateId:e$.templateId,sections:e$.sections},...sb].slice(0,50);try{ex(eo.SAVED_SCRIPTS,a),sp(a),er.oR.success("台本を複製しました"),sI(!1),sP("")}catch(e){ea.vF.error("台本保存失敗",e,"ScriptGenerator"),er.oR.error("台本の保存に失敗しました")}return}let t=sb.filter(e=>e.scriptId===e$.ideaId),a=t.length>0?Math.max(...t.map(e=>e.version)):0,l=[{id:"saved-".concat(e$.ideaId,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),scriptId:e$.ideaId,title:s.title,introduction:e$.introduction||"",body:e$.body||"",conclusion:e$.conclusion||"",createdAt:Date.now(),updatedAt:Date.now(),version:a+1,versionName:sR.trim()||void 0,templateId:e$.templateId,sections:e$.sections},...sb].slice(0,50);try{ex(eo.SAVED_SCRIPTS,l),sp(l),er.oR.success("台本を複製しました"),sI(!1),sP("")}catch(e){ea.vF.error("台本保存失敗",e,"ScriptGenerator"),er.oR.error("台本の保存に失敗しました")}},[e$,e,sb,sR]),tp=(0,l.useCallback)(e=>{let s={ideaId:e.scriptId,content:"".concat(e.introduction,"\n\n").concat(e.body,"\n\n").concat(e.conclusion),introduction:e.introduction,body:e.body,conclusion:e.conclusion,templateId:e.templateId,sections:e.sections};eL(s),eO(e.scriptId),sj("saved"),su(!1),sx([{introduction:s.introduction,body:s.body,conclusion:s.conclusion,timestamp:Date.now()}]),sh(0),er.oR.success("保存済み台本を読み込みました")},[]),tg=(0,l.useCallback)(e=>{sp(s=>{let t=s.filter(s=>s.id!==e);try{return ex(eo.SAVED_SCRIPTS,t),er.oR.success("保存済み台本を削除しました"),t}catch(e){return ea.vF.error("保存済み台本削除失敗",e,"ScriptGenerator"),er.oR.error("保存済み台本の削除に失敗しました"),s}})},[]),tj=(0,l.useMemo)(()=>{let e=new Map;return sb.forEach(s=>{let t=e.get(s.scriptId)||[];t.push(s),e.set(s.scriptId,t)}),Array.from(e.entries()).map(e=>{let[s,t]=e;return{scriptId:s,versions:t.sort((e,s)=>s.version-e.version),latestVersion:t[0]}})},[sb]),tv=(0,l.useCallback)(e=>{let s=Math.floor(e/60);return"".concat(s.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))},[]),tN=(0,l.useMemo)(()=>{var e,s,t;if(!e$)return null;let a=e=>e.split("\n").length,l="";e$.templateId&&e$.sections?Object.values(e$.sections).forEach(e=>{l+=e}):l=e$.introduction+e$.body+e$.conclusion;let r=l.length,i=a(l),n=Math.max(1,Math.ceil(r/250));return{introduction:{chars:(null==(e=e$.introduction)?void 0:e.length)||0,lines:a(e$.introduction||"")},body:{chars:(null==(s=e$.body)?void 0:s.length)||0,lines:a(e$.body||"")},conclusion:{chars:(null==(t=e$.conclusion)?void 0:t.length)||0,lines:a(e$.conclusion||"")},total:{chars:r,lines:i,estimatedMinutes:n}}},[e$]),tf=(0,l.useMemo)(()=>{if(!e$||!tN)return null;let e=0;return{sections:sY.sections.sort((e,s)=>e.order-s.order).map(s=>{let t=sH(s.id).length,a=Math.max(Math.ceil(t/250*60),1),l=e,r=e+a;return e=r,{section:s,startTime:l,endTime:r,duration:a,chars:t}}),totalSeconds:e,totalMinutes:Math.ceil(e/60)}},[e$,sY,tN,sH]);(0,l.useCallback)(e=>{if(!e$)return;let s={},t={introduction:e$.introduction||"",body:e$.body||"",conclusion:e$.conclusion||""};e.sections.forEach(e=>{s[e.id]=t[e.id]||""}),eL({...e$,templateId:e.id,sections:s}),su(!1),sj("saved"),er.oR.success("「".concat(e.name,"」テンプレートを適用しました"))},[e$]);let ty=(0,l.useCallback)(async e=>{eB(!0),eG(ej[0].id),await sZ(async()=>{await new Promise(e=>setTimeout(e,300)),eG(ej[1].id),await new Promise(e=>setTimeout(e,400)),eG(ej[2].id),await new Promise(e=>setTimeout(e,400)),eG(ej[3].id),await new Promise(e=>setTimeout(e,400)),eG(ej[4].id);let s={};sX.sections.forEach(e=>{"introduction"===e.id||"intro"===e.id?s[e.id]=en.introduction:"body"===e.id||"play"===e.id||"performance"===e.id?s[e.id]=en.body:"conclusion"===e.id||"ending"===e.id||"thanks"===e.id?s[e.id]=en.conclusion:s[e.id]="（".concat(e.label,"の内容）")});let t=s.introduction||s.intro||"",a=s.body||s.play||s.performance||"",l=s.conclusion||s.ending||s.thanks||"",r=sX.sections.sort((e,s)=>e.order-s.order).map(e=>"【".concat(e.label,"】\n").concat(s[e.id]||"")).join("\n\n"),i={ideaId:e.id,content:"【".concat(e.title,"】\n\n").concat(r),introduction:t,body:a,conclusion:l,templateId:sX.id,sections:s};eL(i),eO(e.id),sx([{introduction:i.introduction,body:i.body,conclusion:i.conclusion,timestamp:Date.now()}]),sh(0),su(!1),sj("saved"),ea.vF.debug("台本生成完了",{ideaTitle:e.title,scriptLength:i.content.length,templateId:sX.id},"ScriptGenerator"),await new Promise(e=>setTimeout(e,200))},"台本生成中にエラーが発生しました"),eB(!1),eG(null),sJ||sV("script")},[sZ,sX,sJ]),tw=(0,l.useCallback)(()=>{if(!e$)return;let s=e.find(e=>e.id===eJ),t=window.open("","_blank");if(!t)return void er.oR.error("ポップアップがブロックされています。ポップアップを許可してください。");let a='\n<!DOCTYPE html>\n<html lang="ja">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>台本 - '.concat((null==s?void 0:s.title)||"企画案","</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    \n    body {\n      font-family: 'Segoe UI', 'Meiryo', 'Hiragino Kaku Gothic ProN', sans-serif;\n      line-height: 1.8;\n      color: #333;\n      background: #fff;\n      padding: 40px;\n      max-width: 800px;\n      margin: 0 auto;\n    }\n    \n    @media print {\n      body {\n        padding: 20px;\n      }\n      \n      .no-print {\n        display: none;\n      }\n      \n      @page {\n        margin: 2cm;\n        size: A4;\n      }\n      \n      h1, h2, h3 {\n        page-break-after: avoid;\n      }\n      \n      .section {\n        page-break-inside: avoid;\n        margin-bottom: 30px;\n      }\n    }\n    \n    h1 {\n      font-size: 24px;\n      font-weight: bold;\n      margin-bottom: 20px;\n      color: #000;\n      border-bottom: 2px solid #333;\n      padding-bottom: 10px;\n    }\n    \n    .metadata {\n      margin-bottom: 30px;\n      padding: 15px;\n      background: #f5f5f5;\n      border-left: 4px solid #4A90E2;\n      font-size: 14px;\n    }\n    \n    .metadata-item {\n      margin-bottom: 8px;\n    }\n    \n    .metadata-label {\n      font-weight: bold;\n      color: #666;\n      display: inline-block;\n      min-width: 100px;\n    }\n    \n    .section {\n      margin-bottom: 40px;\n    }\n    \n    .section-title {\n      font-size: 18px;\n      font-weight: bold;\n      margin-bottom: 15px;\n      color: #000;\n      padding: 10px;\n      background: #f9f9f9;\n      border-left: 4px solid #4A90E2;\n    }\n    \n    .section-content {\n      font-size: 16px;\n      line-height: 2;\n      color: #333;\n      white-space: pre-wrap;\n      padding: 0 10px;\n    }\n    \n    .section-content p {\n      margin-bottom: 12px;\n    }\n    \n    .footer {\n      margin-top: 50px;\n      padding-top: 20px;\n      border-top: 1px solid #ddd;\n      font-size: 12px;\n      color: #666;\n      text-align: center;\n    }\n    \n    @media print {\n      .footer {\n        position: fixed;\n        bottom: 0;\n        width: 100%;\n      }\n    }\n  </style>\n</head>\n<body>\n  <h1>").concat((null==s?void 0:s.title)||"台本",'</h1>\n  \n  <div class="metadata">\n    ').concat((null==s?void 0:s.description)?'\n      <div class="metadata-item">\n        <span class="metadata-label">概要:</span>\n        <span>'.concat(s.description,"</span>\n      </div>\n    "):"","\n    ").concat((null==s?void 0:s.estimatedDuration)?'\n      <div class="metadata-item">\n        <span class="metadata-label">予想時間:</span>\n        <span>'.concat(s.estimatedDuration,"分</span>\n      </div>\n    "):"","\n    ").concat((null==s?void 0:s.category)?'\n      <div class="metadata-item">\n        <span class="metadata-label">カテゴリ:</span>\n        <span>'.concat(eb[s.category].label,"</span>\n      </div>\n    "):"",'\n    <div class="metadata-item">\n      <span class="metadata-label">作成日時:</span>\n      <span>').concat(new Date().toLocaleString("ja-JP"),'</span>\n    </div>\n  </div>\n  \n  <div class="section">\n    <div class="section-title">【導入】</div>\n    <div class="section-content">').concat(e$.introduction,'</div>\n  </div>\n  \n  <div class="section">\n    <div class="section-title">【本題】</div>\n    <div class="section-content">').concat(e$.body,'</div>\n  </div>\n  \n  <div class="section">\n    <div class="section-title">【結論】</div>\n    <div class="section-content">').concat(e$.conclusion,"</div>\n  </div>\n  \n  ").concat((null==s?void 0:s.points)&&s.points.length>0?'\n    <div class="section">\n      <div class="section-title">【ポイント】</div>\n      <div class="section-content">\n        <ul style="list-style-position: inside; padding-left: 0;">\n          '.concat(s.points.map(e=>'<li style="margin-bottom: 8px;">'.concat(e,"</li>")).join(""),"\n        </ul>\n      </div>\n    </div>\n  "):"",'\n  \n  <div class="footer">\n    <p>この台本は VTuberツールスイート で生成されました</p>\n  </div>\n</body>\n</html>\n    ');t.document.write(a),t.document.close(),setTimeout(()=>{t.focus(),t.print()},250)},[e$,eJ,e]),tE=(0,l.useCallback)(()=>{e$&&(tw(),er.oR.success("印刷ダイアログを開きました。PDFに保存する場合は「保存先」でPDFを選択してください。"))},[e$,tw]),tk=(0,l.useCallback)(()=>(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(H.nD,{type:"multiple",defaultValue:["basic"],className:"w-full",children:[(0,a.jsxs)(H.As,{value:"basic",className:"border-[#4A4A4A]",children:[(0,a.jsx)(H.$m,{className:"text-[#E0E0E0] hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"基本設定"})]})}),(0,a.jsxs)(H.ub,{className:"space-y-4 pt-4 px-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"keywords-mobile",children:"キーワード"}),(0,a.jsx)(i.p,{id:"keywords-mobile",placeholder:"例: ゲーム実況、マリオカート",value:eX.keywords,onChange:e=>eW(s=>({...s,keywords:e.target.value})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A] focus:ring-2 focus:ring-[#00D4FF] focus:ring-offset-2 focus:ring-offset-[#1A1A1A]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"direction-mobile",children:"企画の方向性"}),(0,a.jsxs)(o.l6,{value:eX.direction,onValueChange:e=>eW(s=>({...s,direction:e})),children:[(0,a.jsx)(o.bq,{id:"direction-mobile",className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] focus:ring-2 focus:ring-[#00D4FF] focus:ring-offset-2 focus:ring-offset-[#1A1A1A]",children:(0,a.jsx)(o.yv,{placeholder:"方向性を選択"})}),(0,a.jsxs)(o.gC,{className:"bg-[#2D2D2D] border-[#4A4A4A]",children:[(0,a.jsx)(o.eb,{value:"funny",children:"面白い系"}),(0,a.jsx)(o.eb,{value:"moving",children:"感動系"}),(0,a.jsx)(o.eb,{value:"educational",children:"解説・学習系"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"現在のトレンド"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(x.E,{variant:"outline",className:"cursor-pointer border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:"#VTuberの夏休み"}),(0,a.jsx)(x.E,{variant:"outline",className:"cursor-pointer border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:"#ゲーム実況"}),(0,a.jsx)(x.E,{variant:"outline",className:"cursor-pointer border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:"#新作ゲーム"})]})]})]})]}),(0,a.jsxs)(H.As,{value:"streaming",className:"border-[#4A4A4A]",children:[(0,a.jsx)(H.$m,{className:"text-[#E0E0E0] hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"配信設定"})]})}),(0,a.jsxs)(H.ub,{className:"space-y-4 pt-4 px-2",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.J,{htmlFor:"duration-mobile",children:"配信時間"}),(0,a.jsxs)("span",{className:"text-sm text-[#A0A0A0]",children:[eX.duration,"分"]})]}),(0,a.jsx)(Q.A,{id:"duration-mobile",min:30,max:180,step:30,value:[eX.duration],onValueChange:e=>eW(s=>({...s,duration:e[0]})),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-[#4A4A4A]",children:[(0,a.jsx)("span",{children:"30分"}),(0,a.jsx)("span",{children:"180分"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"話し方のスタイル"}),(0,a.jsx)("div",{className:"space-y-2",children:[{id:"casual",label:"カジュアル"},{id:"formal",label:"フォーマル"},{id:"energetic",label:"エネルギッシュ"},{id:"calm",label:"落ち着いた"},{id:"technical",label:"テクニカル"},{id:"entertaining",label:"エンタメ"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(K.S,{id:"style-mobile-".concat(e.id),checked:eX.speakingStyle.includes(e.id),onCheckedChange:s=>{s?eW(s=>({...s,speakingStyle:[...s.speakingStyle,e.id]})):eW(s=>({...s,speakingStyle:s.speakingStyle.filter(s=>s!==e.id)}))},className:"focus-visible:ring-2 focus-visible:ring-[#00D4FF] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1A1A1A]"}),(0,a.jsx)(n.J,{htmlFor:"style-mobile-".concat(e.id),className:"text-sm text-[#E0E0E0] cursor-pointer",children:e.label})]},e.id))})]})]})]}),(0,a.jsxs)(H.As,{value:"advanced",className:"border-[#4A4A4A]",children:[(0,a.jsx)(H.$m,{className:"text-[#E0E0E0] hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"詳細設定"})]})}),(0,a.jsxs)(H.ub,{className:"space-y-4 pt-4 px-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"含める要素の選択"}),(0,a.jsx)("div",{className:"space-y-2",children:[{id:"gaming",label:"ゲーム要素",icon:h.A},{id:"music",label:"音楽要素",icon:A.A},{id:"collaboration",label:"コラボ要素",icon:b.A},{id:"event",label:"イベント要素",icon:p.A},{id:"other",label:"その他",icon:g.A}].map(e=>{let s=e.icon;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(K.S,{id:"element-mobile-".concat(e.id),checked:eX.includeElements.includes(e.id),onCheckedChange:s=>{s?eW(s=>({...s,includeElements:[...s.includeElements,e.id]})):eW(s=>({...s,includeElements:s.includeElements.filter(s=>s!==e.id)}))},className:"focus-visible:ring-2 focus-visible:ring-[#00D4FF] focus-visible:ring-offset-2 focus-visible:ring-offset-[#1A1A1A]"}),(0,a.jsxs)(n.J,{htmlFor:"element-mobile-".concat(e.id),className:"text-sm text-[#E0E0E0] cursor-pointer flex items-center gap-2",children:[(0,a.jsx)(s,{className:"h-4 w-4"}),e.label]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"customPrompt-mobile",children:"カスタムプロンプト"}),(0,a.jsx)(c.T,{id:"customPrompt-mobile",placeholder:"追加で指定したい要件があれば入力してください",value:eX.customPrompt,onChange:e=>eW(s=>({...s,customPrompt:e.target.value})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A] min-h-[100px]"}),(0,a.jsx)("p",{className:"text-xs text-[#4A4A4A]",children:"生成時に考慮してほしい追加の要件や指示を入力できます"})]})]})]})]}),(0,a.jsx)(r.$,{className:"w-full",onClick:tc,disabled:eV,children:eV?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):"企画案を生成する"}),(0,a.jsxs)("div",{className:"space-y-2 pt-4 border-t border-[#4A4A4A]",children:[(0,a.jsxs)(n.J,{className:"text-sm flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),"台本テンプレート"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:sG.map(e=>{let s=eb[e.category].icon,t=sf===e.id;return(0,a.jsxs)(m.Zp,{className:(0,X.cn)("cursor-pointer transition-all border-2",t?"border-primary bg-[#2D2D2D] shadow-md":"border-[#4A4A4A] bg-[#2D2D2D] hover:border-[#4A4A4A]/80",e.isCustom&&"border-dashed"),onClick:()=>sy(e.id),children:[(0,a.jsxs)(m.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)(s,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.name}),e.isCustom&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:"カスタム"})]}),t&&(0,a.jsx)(x.E,{className:"bg-primary text-white text-xs",children:"選択中"})]}),(0,a.jsx)(m.BT,{className:"text-xs text-[#A0A0A0] line-clamp-2",children:e.description})]}),(0,a.jsx)(m.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.sections.slice(0,3).map(e=>(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.label},e.id)),e.sections.length>3&&(0,a.jsxs)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:["+",e.sections.length-3]})]})})]},e.id)})}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"w-full border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",onClick:()=>{er.oR.info("カスタムテンプレート作成機能は準備中です")},children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"カスタムテンプレートを作成"]})]})]}),[eV,tc,sG,sf,eb,eX]),tC=(0,l.useMemo)(()=>(0,a.jsxs)(d.tU,{value:sO,onValueChange:s$,className:"w-full",children:[(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(d.Xi,{value:"persona",children:"ペルソナ"}),(0,a.jsx)(d.Xi,{value:"history",children:"履歴"}),(0,a.jsx)(d.Xi,{value:"saved",children:"保存済み"})]}),(0,a.jsxs)(d.av,{value:"persona",className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"persona-select-mobile",children:"使用するペルソナ"}),(0,a.jsxs)(o.l6,{value:eD||void 0,onValueChange:e=>eS(e||null),children:[(0,a.jsx)(o.bq,{id:"persona-select-mobile",children:(0,a.jsx)(o.yv,{placeholder:"ペルソナを選択"})}),(0,a.jsx)(o.gC,{children:0===ek.length?(0,a.jsx)("div",{className:"px-2 py-1.5 text-sm text-[#A0A0A0]",children:"ペルソナがありません"}):ek.map(e=>(0,a.jsxs)(o.eb,{value:e.id,children:[e.name,eF===e.id&&" (デフォルト)"]},e.id))})]})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:0===ek.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(N.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"まだペルソナがありません"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"新しいペルソナを作成してください"})]}):ek.map(e=>(0,a.jsxs)(m.Zp,{className:(0,X.cn)("bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all",eD===e.id&&"border-blue-500/50 bg-blue-500/5"),children:[(0,a.jsx)(m.aR,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.name}),eF===e.id&&(0,a.jsxs)(x.E,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:[(0,a.jsx)(w.A,{className:"h-3 w-3 mr-1"}),"デフォルト"]})]}),(0,a.jsx)("div",{className:"text-xs text-[#A0A0A0] line-clamp-2",children:e.description})]})})}),(0,a.jsxs)(m.wL,{className:"gap-2 pt-0",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>eS(e.id),className:"flex-1 border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-1"}),"選択"]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>s8(e),className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:(0,a.jsx)(k.A,{className:"h-4 w-4"})}),eF!==e.id&&(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>eI(e.id),className:"border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",title:"デフォルトに設定",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>s6(e.id),className:"border-red-500/50 text-red-400 hover:bg-red-500/10",disabled:eF===e.id,title:eF===e.id?"デフォルトペルソナは削除できません":"削除",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})]},e.id))}),(0,a.jsxs)(r.$,{variant:"outline",className:"w-full",onClick:s9,children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"新しいペルソナを作成"]})]}),(0,a.jsxs)(d.av,{value:"history",className:"mt-4 space-y-4",children:[sl.length>0&&(0,a.jsxs)("div",{className:"space-y-3 p-3 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"history-search-mobile",className:"flex items-center gap-2 text-sm text-[#E0E0E0]",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"検索"]}),(0,a.jsx)(i.p,{id:"history-search-mobile",placeholder:"キーワード、方向性、タイトルで検索...",value:si,onChange:e=>sn(e.target.value),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"カテゴリ"}),(0,a.jsxs)(o.l6,{value:sc,onValueChange:e=>so(e),children:[(0,a.jsx)(o.bq,{className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"すべて"}),Object.keys(eb).map(e=>(0,a.jsx)(o.eb,{value:e,children:eb[e].label},e))]})]})]}),(si||"all"!==sc)&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{sn(""),so("all")},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0]",children:[s2.length,"件の履歴が見つかりました（全",sl.length,"件中）"]})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:0===sl.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(F.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"まだ履歴がありません"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"企画案を生成すると、ここに履歴が表示されます"})]}):0===s2.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(D.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"検索条件に一致する履歴がありません"})]}):s2.map(e=>(0,a.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all cursor-pointer",onClick:()=>s4(e),children:[(0,a.jsx)(m.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(F.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsxs)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:[e.ideas.length,"件の企画案"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.keywords&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.keywords}),e.direction&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.direction})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0]",children:[(0,a.jsx)(v.A,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),sK(e.id)},className:"h-8 w-8 text-[#A0A0A0] hover:text-red-400 hover:bg-red-500/10","aria-label":"履歴を削除",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[e.ideas.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-1 flex items-center gap-2",children:[(0,a.jsx)("div",{className:(0,X.cn)("w-2 h-2 rounded-full",eb[e.category].bgColor)}),e.title]},e.id)),e.ideas.length>3&&(0,a.jsxs)("div",{className:"text-xs text-[#4A4A4A]",children:["+",e.ideas.length-3,"件"]})]})})]},e.id))}),sl.length>0&&(0,a.jsx)("div",{className:"flex justify-end pt-2 border-t border-[#4A4A4A]",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:s0,className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"すべての履歴を削除"]})})]}),(0,a.jsx)(d.av,{value:"saved",className:"mt-4 space-y-4",children:(0,a.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:0===sb.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(I.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"まだ保存済み台本がありません"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"台本を編集して保存すると、ここに表示されます"})]}):tj.map(e=>(0,a.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all",children:[(0,a.jsx)(m.aR,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.latestVersion.title}),e.versions.length>1&&(0,a.jsxs)(x.E,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:[(0,a.jsx)(R.A,{className:"h-3 w-3 mr-1"}),e.versions.length,"バージョン"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0] mb-2",children:[(0,a.jsx)(v.A,{className:"h-3 w-3"}),"最新更新: ",new Date(e.latestVersion.updatedAt).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-2 mb-3",children:[e.latestVersion.introduction.substring(0,50),"..."]}),e.versions.length>1&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[#4A4A4A]",children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0] mb-2 block",children:"バージョン履歴"}),(0,a.jsx)("div",{className:"space-y-2 pl-4 border-l-2 border-blue-500/30",children:e.versions.map((e,s)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:(0,X.cn)("absolute -left-[9px] top-2 w-2 h-2 rounded-full",0===s?"bg-blue-500":"bg-[#4A4A4A]")}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("span",{className:"text-xs font-medium text-[#E0E0E0]",children:["v",e.version]}),e.versionName&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.versionName}),0===s&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-green-500/20 text-green-400 border-green-500/30",children:"最新"})]}),(0,a.jsx)("div",{className:"text-xs text-[#A0A0A0]",children:new Date(e.updatedAt).toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:()=>tp(e),className:"h-7 px-2 text-xs text-[#A0A0A0] hover:text-[#E0E0E0] hover:bg-[#4A4A4A]",children:[(0,a.jsx)(P.A,{className:"h-3 w-3 mr-1"}),"読み込む"]})]})]},e.id))})]})]})})}),(0,a.jsxs)(m.wL,{className:"gap-2 pt-0",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>tp(e.latestVersion),className:"flex-1 border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-1"}),"最新版を読み込む"]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),confirm("この台本のすべてのバージョンを削除しますか？")&&e.versions.forEach(e=>tg(e.id))},className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})]},e.scriptId))})})]}),[sO,sl,s2,si,sc,s4,sK,s0,sb,tj,tp,tg,ek,eD,eF,s8,eS,eI,s6,s9]),tD=(0,l.useMemo)(()=>(0,a.jsxs)(d.tU,{value:sO,onValueChange:s$,className:"w-full",children:[(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(d.Xi,{value:"generate",children:"生成"}),(0,a.jsx)(d.Xi,{value:"persona",children:"ペルソナ"}),(0,a.jsx)(d.Xi,{value:"history",children:"履歴"}),(0,a.jsx)(d.Xi,{value:"saved",children:"保存済み"})]}),(0,a.jsxs)(d.av,{value:"generate",className:"mt-4 space-y-4",children:[(0,a.jsxs)(H.nD,{type:"multiple",defaultValue:["basic"],className:"w-full",children:[(0,a.jsxs)(H.As,{value:"basic",className:"border-[#4A4A4A]",children:[(0,a.jsx)(H.$m,{className:"text-[#E0E0E0] hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"基本設定"})]})}),(0,a.jsxs)(H.ub,{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"keywords",children:"キーワード"}),(0,a.jsx)(i.p,{id:"keywords",placeholder:"例: ゲーム実況、マリオカート",value:eX.keywords,onChange:e=>eW(s=>({...s,keywords:e.target.value})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"direction",children:"企画の方向性"}),(0,a.jsxs)(o.l6,{value:eX.direction,onValueChange:e=>eW(s=>({...s,direction:e})),children:[(0,a.jsx)(o.bq,{id:"direction",className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,a.jsx)(o.yv,{placeholder:"方向性を選択"})}),(0,a.jsxs)(o.gC,{className:"bg-[#2D2D2D] border-[#4A4A4A]",children:[(0,a.jsx)(o.eb,{value:"funny",children:"面白い系"}),(0,a.jsx)(o.eb,{value:"moving",children:"感動系"}),(0,a.jsx)(o.eb,{value:"educational",children:"解説・学習系"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"現在のトレンド"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)(x.E,{variant:"outline",className:"cursor-pointer border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:"#VTuberの夏休み"}),(0,a.jsx)(x.E,{variant:"outline",className:"cursor-pointer border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:"#ゲーム実況"}),(0,a.jsx)(x.E,{variant:"outline",className:"cursor-pointer border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:"#新作ゲーム"})]})]})]})]}),(0,a.jsxs)(H.As,{value:"streaming",className:"border-[#4A4A4A]",children:[(0,a.jsx)(H.$m,{className:"text-[#E0E0E0] hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"配信設定"})]})}),(0,a.jsxs)(H.ub,{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.J,{htmlFor:"duration",children:"配信時間"}),(0,a.jsxs)("span",{className:"text-sm text-[#A0A0A0]",children:[eX.duration,"分"]})]}),(0,a.jsx)(Q.A,{id:"duration",min:30,max:180,step:30,value:[eX.duration],onValueChange:e=>eW(s=>({...s,duration:e[0]})),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-[#4A4A4A]",children:[(0,a.jsx)("span",{children:"30分"}),(0,a.jsx)("span",{children:"180分"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"話し方のスタイル"}),(0,a.jsx)("div",{className:"space-y-2",children:[{id:"casual",label:"カジュアル"},{id:"formal",label:"フォーマル"},{id:"energetic",label:"エネルギッシュ"},{id:"calm",label:"落ち着いた"},{id:"technical",label:"テクニカル"},{id:"entertaining",label:"エンタメ"}].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(K.S,{id:"style-".concat(e.id),checked:eX.speakingStyle.includes(e.id),onCheckedChange:s=>{s?eW(s=>({...s,speakingStyle:[...s.speakingStyle,e.id]})):eW(s=>({...s,speakingStyle:s.speakingStyle.filter(s=>s!==e.id)}))}}),(0,a.jsx)(n.J,{htmlFor:"style-".concat(e.id),className:"text-sm text-[#E0E0E0] cursor-pointer",children:e.label})]},e.id))})]})]})]}),(0,a.jsxs)(H.As,{value:"advanced",className:"border-[#4A4A4A]",children:[(0,a.jsx)(H.$m,{className:"text-[#E0E0E0] hover:no-underline",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"詳細設定"})]})}),(0,a.jsxs)(H.ub,{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"含める要素の選択"}),(0,a.jsx)("div",{className:"space-y-2",children:[{id:"gaming",label:"ゲーム要素",icon:h.A},{id:"music",label:"音楽要素",icon:A.A},{id:"collaboration",label:"コラボ要素",icon:b.A},{id:"event",label:"イベント要素",icon:p.A},{id:"other",label:"その他",icon:g.A}].map(e=>{let s=e.icon;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(K.S,{id:"element-".concat(e.id),checked:eX.includeElements.includes(e.id),onCheckedChange:s=>{s?eW(s=>({...s,includeElements:[...s.includeElements,e.id]})):eW(s=>({...s,includeElements:s.includeElements.filter(s=>s!==e.id)}))}}),(0,a.jsxs)(n.J,{htmlFor:"element-".concat(e.id),className:"text-sm text-[#E0E0E0] cursor-pointer flex items-center gap-2",children:[(0,a.jsx)(s,{className:"h-4 w-4"}),e.label]})]},e.id)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"customPrompt",children:"カスタムプロンプト"}),(0,a.jsx)(c.T,{id:"customPrompt",placeholder:"追加で指定したい要件があれば入力してください",value:eX.customPrompt,onChange:e=>eW(s=>({...s,customPrompt:e.target.value})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A] min-h-[100px]"}),(0,a.jsx)("p",{className:"text-xs text-[#4A4A4A]",children:"生成時に考慮してほしい追加の要件や指示を入力できます"})]})]})]})]}),(0,a.jsx)(r.$,{className:"w-full",onClick:tc,disabled:eV,children:eV?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):"企画案を生成する"}),(0,a.jsxs)("div",{className:"space-y-2 pt-4 border-t border-[#4A4A4A]",children:[(0,a.jsxs)(n.J,{className:"text-sm flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),"台本テンプレート"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:sG.map(e=>{let s=eb[e.category].icon,t=sf===e.id;return(0,a.jsxs)(m.Zp,{className:(0,X.cn)("cursor-pointer transition-all border-2",t?"border-primary bg-[#2D2D2D] shadow-md":"border-[#4A4A4A] bg-[#2D2D2D] hover:border-[#4A4A4A]/80",e.isCustom&&"border-dashed"),onClick:()=>sy(e.id),children:[(0,a.jsxs)(m.aR,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,a.jsx)(s,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.name}),e.isCustom&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:"カスタム"})]}),t&&(0,a.jsx)(x.E,{className:"bg-primary text-white text-xs",children:"選択中"})]}),(0,a.jsx)(m.BT,{className:"text-xs text-[#A0A0A0] line-clamp-2",children:e.description})]}),(0,a.jsx)(m.Wu,{className:"pt-0",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.sections.slice(0,3).map(e=>(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.label},e.id)),e.sections.length>3&&(0,a.jsxs)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:["+",e.sections.length-3]})]})})]},e.id)})}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",className:"w-full border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",onClick:()=>{er.oR.info("カスタムテンプレート作成機能は準備中です")},children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-1"}),"カスタムテンプレートを作成"]})]})]}),(0,a.jsxs)(d.av,{value:"persona",className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"persona-select",children:"使用するペルソナ"}),(0,a.jsxs)(o.l6,{value:eD||void 0,onValueChange:e=>eS(e||null),children:[(0,a.jsx)(o.bq,{id:"persona-select",children:(0,a.jsx)(o.yv,{placeholder:"ペルソナを選択"})}),(0,a.jsx)(o.gC,{children:0===ek.length?(0,a.jsx)("div",{className:"px-2 py-1.5 text-sm text-[#A0A0A0]",children:"ペルソナがありません"}):ek.map(e=>(0,a.jsxs)(o.eb,{value:e.id,children:[e.name,eF===e.id&&" (デフォルト)"]},e.id))})]})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:0===ek.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(N.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"まだペルソナがありません"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"新しいペルソナを作成してください"})]}):ek.map(e=>(0,a.jsxs)(m.Zp,{className:(0,X.cn)("bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all",eD===e.id&&"border-blue-500/50 bg-blue-500/5"),children:[(0,a.jsx)(m.aR,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.name}),eF===e.id&&(0,a.jsxs)(x.E,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:[(0,a.jsx)(w.A,{className:"h-3 w-3 mr-1"}),"デフォルト"]})]}),(0,a.jsx)("div",{className:"text-xs text-[#A0A0A0] line-clamp-2",children:e.description})]})})}),(0,a.jsxs)(m.wL,{className:"gap-2 pt-0",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>eS(e.id),className:"flex-1 border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:[(0,a.jsx)(E.A,{className:"h-4 w-4 mr-1"}),"選択"]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>s8(e),className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:(0,a.jsx)(k.A,{className:"h-4 w-4"})}),eF!==e.id&&(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>eI(e.id),className:"border-yellow-500/50 text-yellow-400 hover:bg-yellow-500/10",title:"デフォルトに設定",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>s6(e.id),className:"border-red-500/50 text-red-400 hover:bg-red-500/10",disabled:eF===e.id,title:eF===e.id?"デフォルトペルソナは削除できません":"削除",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})]},e.id))}),(0,a.jsxs)(r.$,{variant:"outline",className:"w-full",onClick:s9,children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"新しいペルソナを作成"]})]}),(0,a.jsxs)(d.av,{value:"history",className:"mt-4 space-y-4",children:[sl.length>0&&(0,a.jsxs)("div",{className:"space-y-3 p-3 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"history-search-desktop",className:"flex items-center gap-2 text-sm text-[#E0E0E0]",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"検索"]}),(0,a.jsx)(i.p,{id:"history-search-desktop",placeholder:"キーワード、方向性、タイトルで検索...",value:si,onChange:e=>sn(e.target.value),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"カテゴリ"}),(0,a.jsxs)(o.l6,{value:sc,onValueChange:e=>so(e),children:[(0,a.jsx)(o.bq,{className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"すべて"}),Object.keys(eb).map(e=>(0,a.jsx)(o.eb,{value:e,children:eb[e].label},e))]})]})]}),(si||"all"!==sc)&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{sn(""),so("all")},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0]",children:[s2.length,"件の履歴が見つかりました（全",sl.length,"件中）"]})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:0===sl.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(F.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"まだ履歴がありません"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"企画案を生成すると、ここに履歴が表示されます"})]}):0===s2.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(D.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"検索条件に一致する履歴がありません"})]}):s2.map(e=>(0,a.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all cursor-pointer",onClick:()=>s4(e),children:[(0,a.jsx)(m.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(F.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsxs)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:[e.ideas.length,"件の企画案"]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.keywords&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.keywords}),e.direction&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.direction})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0]",children:[(0,a.jsx)(v.A,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),sK(e.id)},className:"h-8 w-8 text-[#A0A0A0] hover:text-red-400 hover:bg-red-500/10","aria-label":"履歴を削除",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[e.ideas.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-1 flex items-center gap-2",children:[(0,a.jsx)("div",{className:(0,X.cn)("w-2 h-2 rounded-full",eb[e.category].bgColor)}),e.title]},e.id)),e.ideas.length>3&&(0,a.jsxs)("div",{className:"text-xs text-[#4A4A4A]",children:["+",e.ideas.length-3,"件"]})]})})]},e.id))}),sl.length>0&&(0,a.jsx)("div",{className:"flex justify-end pt-2 border-t border-[#4A4A4A]",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:s0,className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"すべての履歴を削除"]})})]}),(0,a.jsx)(d.av,{value:"saved",className:"mt-4 space-y-4",children:(0,a.jsx)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:0===sb.length?(0,a.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,a.jsx)(I.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{children:"まだ保存済み台本がありません"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"台本を編集して保存すると、ここに表示されます"})]}):tj.map(e=>(0,a.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all",children:[(0,a.jsx)(m.aR,{className:"pb-3",children:(0,a.jsx)("div",{className:"flex items-start justify-between",children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,a.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.latestVersion.title}),e.versions.length>1&&(0,a.jsxs)(x.E,{variant:"outline",className:"text-xs bg-blue-500/20 text-blue-400 border-blue-500/30",children:[(0,a.jsx)(R.A,{className:"h-3 w-3 mr-1"}),e.versions.length,"バージョン"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0] mb-2",children:[(0,a.jsx)(v.A,{className:"h-3 w-3"}),"最新更新: ",new Date(e.latestVersion.updatedAt).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-2 mb-3",children:[e.latestVersion.introduction.substring(0,50),"..."]}),e.versions.length>1&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-[#4A4A4A]",children:[(0,a.jsx)(n.J,{className:"text-xs text-[#A0A0A0] mb-2 block",children:"バージョン履歴"}),(0,a.jsx)("div",{className:"space-y-2 pl-4 border-l-2 border-blue-500/30",children:e.versions.map((e,s)=>(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:(0,X.cn)("absolute -left-[9px] top-2 w-2 h-2 rounded-full",0===s?"bg-blue-500":"bg-[#4A4A4A]")}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsxs)("span",{className:"text-xs font-medium text-[#E0E0E0]",children:["v",e.version]}),e.versionName&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.versionName}),0===s&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-green-500/20 text-green-400 border-green-500/30",children:"最新"})]}),(0,a.jsx)("div",{className:"text-xs text-[#A0A0A0]",children:new Date(e.updatedAt).toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:()=>tp(e),className:"h-7 px-2 text-xs text-[#A0A0A0] hover:text-[#E0E0E0] hover:bg-[#4A4A4A]",children:[(0,a.jsx)(P.A,{className:"h-3 w-3 mr-1"}),"読み込む"]})]})]},e.id))})]})]})})}),(0,a.jsxs)(m.wL,{className:"gap-2 pt-0",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>tp(e.latestVersion),className:"flex-1 border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-1"}),"最新版を読み込む"]}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),confirm("この台本のすべてのバージョンを削除しますか？")&&e.versions.forEach(e=>tg(e.id))},className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:(0,a.jsx)(C.A,{className:"h-4 w-4"})})]})]},e.scriptId))})})]}),[sO,tc,eV,sb,tj,tp,tg,sG,sf,eb,ek,eD,eF,s8,eS,eI,s6,s9]);return(0,a.jsxs)("div",{className:"relative flex flex-col md:flex-row md:h-[calc(100vh-4.1rem)] md:overflow-hidden",children:[(0,a.jsx)("aside",{className:"\n        ".concat(sJ&&sz?"w-0 md:w-72 lg:w-80 xl:w-96":"w-0","\n        ").concat(sJ?"border-r border-[#4A4A4A]":"","\n        transition-all duration-300\n        overflow-hidden\n        flex-shrink-0\n        bg-[#1A1A1A]\n        relative\n      "),children:sJ&&sz&&(0,a.jsxs)("div",{className:"h-full overflow-y-auto p-3 sm:p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-base sm:text-lg font-semibold text-[#E0E0E0]",children:"企画・台本サポート"}),(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:()=>sT(!1),"aria-label":"サイドバーを閉じる",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#A0A0A0]",children:(0,a.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),tD]})}),!sJ&&(0,a.jsxs)("div",{className:"md:hidden flex flex-col h-[calc(100vh-4.1rem)]",children:[(0,a.jsxs)("div",{className:"relative bg-[#1A1A1A] flex-shrink-0 border-b border-[#4A4A4A]",children:[s_&&(0,a.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-[#1A1A1A] to-transparent z-10 pointer-events-none"}),(0,a.jsxs)("div",{ref:sq,className:(0,X.cn)("grid grid-cols-4 sm:flex sm:overflow-x-auto scrollbar-thin scrollbar-thumb-[#20B2AA] scrollbar-track-[#2D2D2D] px-2 pt-2"),style:{scrollbarWidth:"thin"},children:[(0,a.jsxs)("button",{onClick:()=>sV("generate"),className:(0,X.cn)("flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors relative","generate"===sL?"text-[#20B2AA]":"text-[#A0A0A0] hover:text-[#E0E0E0]"),children:[(0,a.jsx)(g.A,{className:"h-4 w-4 inline mr-2"}),"生成","generate"===sL&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-[#20B2AA] z-10"})]}),(0,a.jsxs)("button",{onClick:()=>sV("ideas"),className:(0,X.cn)("flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors relative","ideas"===sL?"text-[#20B2AA]":"text-[#A0A0A0] hover:text-[#E0E0E0]"),children:[(0,a.jsx)(N.A,{className:"h-4 w-4 inline mr-2"}),"企画案","ideas"===sL&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-[#20B2AA] z-10"})]}),(0,a.jsxs)("button",{onClick:()=>sV("script"),className:(0,X.cn)("flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors relative","script"===sL?"text-[#20B2AA]":"text-[#A0A0A0] hover:text-[#E0E0E0]"),children:[(0,a.jsx)(P.A,{className:"h-4 w-4 inline mr-2"}),"台本","script"===sL&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-[#20B2AA] z-10"})]}),(0,a.jsxs)(es.rI,{children:[(0,a.jsx)(es.ty,{asChild:!0,children:(0,a.jsxs)("button",{className:(0,X.cn)("flex-shrink-0 px-4 py-3 text-sm font-medium transition-colors relative","others"===sL?"text-[#20B2AA]":"text-[#A0A0A0] hover:text-[#E0E0E0]"),children:[(0,a.jsx)(z.A,{className:"h-4 w-4 inline mr-2"}),"その他","others"===sL&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[2px] bg-[#20B2AA] z-10"})]})}),(0,a.jsxs)(es.SQ,{align:"end",className:"bg-[#2D2D2D] border-[#4A4A4A]",children:[(0,a.jsxs)(es._2,{onClick:()=>{sV("others"),s$("persona")},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"ペルソナ"]}),(0,a.jsxs)(es._2,{onClick:()=>{sV("others"),s$("history")},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-2"}),"履歴"]}),(0,a.jsxs)(es._2,{onClick:()=>{sV("others"),s$("saved")},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(I.A,{className:"h-4 w-4 mr-2"}),"保存済み"]})]})]})]}),sB&&(0,a.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-[#1A1A1A] to-transparent z-10 pointer-events-none"})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4",children:["generate"===sL&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold text-[#E0E0E0] flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"企画案生成"]}),tk()]}),"ideas"===sL&&(0,a.jsx)("div",{className:"space-y-4",children:eV?(0,a.jsx)(ev,{steps:eg,currentStepId:eU,type:"ideas"}):0===e.length?(0,a.jsxs)("div",{className:"w-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,a.jsx)(g.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#E0E0E0]",children:"企画案を生成しよう！"}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"「生成」タブからキーワードや企画の方向性を入力して、「企画案を生成する」ボタンを押してください。"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[e.length>0&&(0,a.jsx)(d.tU,{value:st,onValueChange:e=>sa(e),className:"mb-4",children:(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-3 bg-[#2D2D2D] border border-[#4A4A4A] rounded-none p-0 gap-0 h-auto",children:[(0,a.jsxs)(d.Xi,{value:"all",className:"data-[state=active]:bg-[#1A1A1A] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:["すべて (",e.length,")"]}),(0,a.jsxs)(d.Xi,{value:"favorites",className:"data-[state=active]:bg-[#1A1A1A] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:["お気に入り (",e.filter(e=>e.isFavorite).length,")"]}),(0,a.jsx)(d.Xi,{value:"recent",className:"data-[state=active]:bg-[#1A1A1A] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:"最近生成"})]})}),e.length>0&&(0,a.jsxs)("div",{className:"mb-4 space-y-4 p-4 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(n.J,{htmlFor:"idea-search-mobile",className:"flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(D.A,{className:"h-4 w-4"}),"検索"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(D.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#A0A0A0]"}),(0,a.jsx)(i.p,{id:"idea-search-mobile",placeholder:"タイトル、説明、ポイントで検索...",value:e5,onChange:e=>e3(e.target.value),className:"pl-10 bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"}),e5&&(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:()=>e3(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 hover:bg-[#4A4A4A]","aria-label":"検索をクリア",children:(0,a.jsx)(S.A,{className:"h-4 w-4 text-[#A0A0A0]"})})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(n.J,{className:"flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(T.A,{className:"h-4 w-4"}),"フィルター"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"カテゴリ"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(eb).map(e=>{let s=e6.includes(e),t=eb[e],l=t.icon;return(0,a.jsxs)(x.E,{className:(0,X.cn)("cursor-pointer transition-all text-xs font-medium",s?t.badgeColor+" border-2 shadow-md":"bg-[#2D2D2D] text-[#A0A0A0] border-[#4A4A4A] hover:border-[#A0A0A0] hover:bg-[#1A1A1A]"),onClick:()=>{e8(t=>s?t.filter(s=>s!==e):[...t,e])},children:[(0,a.jsx)(l,{className:"h-3 w-3 mr-1"}),t.label]},e)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"難易度"}),(0,a.jsxs)(o.l6,{value:e9,onValueChange:e=>e7(e),children:[(0,a.jsx)(o.bq,{className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,a.jsx)(o.yv,{})}),(0,a.jsxs)(o.gC,{children:[(0,a.jsx)(o.eb,{value:"all",children:"すべて"}),(0,a.jsx)(o.eb,{value:"easy",children:"初級"}),(0,a.jsx)(o.eb,{value:"medium",children:"中級"}),(0,a.jsx)(o.eb,{value:"hard",children:"上級"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{className:"text-sm text-[#A0A0A0]",children:"予想時間（分）"}),(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(i.p,{type:"number",placeholder:"最小",min:"0",value:se.min||"",onChange:e=>ss(s=>({...s,min:e.target.value?parseInt(e.target.value):void 0})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"}),(0,a.jsx)("span",{className:"text-[#A0A0A0]",children:"〜"}),(0,a.jsx)(i.p,{type:"number",placeholder:"最大",min:"0",value:se.max||"",onChange:e=>ss(s=>({...s,max:e.target.value?parseInt(e.target.value):void 0})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]})]})]}),(e5||e6.length>0||"all"!==e9||void 0!==se.min||void 0!==se.max)&&(0,a.jsx)("div",{className:"flex justify-end pt-2",children:(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:()=>{e3(""),e8([]),e7("all"),ss({})},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})})]}),(0,a.jsxs)("div",{className:"text-sm text-[#A0A0A0] pt-2 border-t border-[#4A4A4A]",children:[(0,a.jsx)("span",{className:"font-medium text-[#E0E0E0]",children:tn.length}),"件の企画案が見つかりました",tn.length<e.length&&(0,a.jsxs)("span",{className:"ml-2",children:["（全",e.length,"件中）"]})]})]}),e.length>0&&0===tn.length&&(0,a.jsxs)("div",{className:"w-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px] border border-[#4A4A4A]",children:[(0,a.jsx)(D.A,{className:"w-12 h-12 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#E0E0E0] mb-2",children:"検索条件に一致する企画案がありません"}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mb-4",children:"検索条件やフィルターを変更してお試しください。"}),(0,a.jsxs)(r.$,{variant:"outline",onClick:()=>{e3(""),e8([]),e7("all"),ss({})},className:"border-[#4A4A4A]",children:[(0,a.jsx)(S.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})]}),tn.length>0&&(0,a.jsx)(el.JY,{onDragEnd:ti,children:(0,a.jsx)(el.gL,{droppableId:"ideas-mobile",children:e=>(0,a.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-4",children:[tn.map((e,s)=>{let t=eb[e.category],l=t.icon;return(0,a.jsx)(el.sx,{draggableId:"mobile-".concat(e.id.toString()),index:s,isDragDisabled:e.isFavorite,children:(s,i)=>(0,a.jsxs)(m.Zp,{ref:s.innerRef,...s.draggableProps,className:(0,X.cn)("cursor-pointer transition-all relative overflow-hidden","hover:border-primary hover:shadow-lg hover:shadow-primary/20",eJ===e.id&&"border-primary shadow-md",i.isDragging&&"shadow-2xl opacity-90 bg-[#3A3A3A]",e.isFavorite&&"border-l-4 border-l-yellow-500/80","bg-gradient-to-br ".concat(t.gradient),!e.isFavorite&&"border-l-4 ".concat(t.borderColor)),onClick:()=>to(e.id),role:"button",tabIndex:0,"aria-expanded":eJ===e.id,"aria-label":"企画案: ".concat(e.title),onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),to(e.id))},children:[!e.isFavorite&&(0,a.jsx)("div",{...s.dragHandleProps,className:"absolute left-0 top-0 bottom-0 w-6 flex items-center justify-center cursor-grab active:cursor-grabbing hover:bg-[#4A4A4A]/50 z-10 rounded-l-md transition-colors",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(J.A,{className:"h-4 w-4 text-[#A0A0A0]"})}),(0,a.jsx)(m.aR,{className:(0,X.cn)("pb-3",!e.isFavorite&&"pl-8"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:(0,X.cn)("w-12 h-12 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",t.bgColor,"border border-[#4A4A4A]"),children:(0,a.jsx)(l,{className:"h-6 w-6 text-[#E0E0E0]"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,a.jsx)(m.ZB,{className:"text-lg font-semibold line-clamp-2 text-[#E0E0E0] flex-1",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),te(e.id)},className:(0,X.cn)("h-8 w-8",e.isFavorite?"text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10":"text-[#A0A0A0] hover:text-yellow-400 hover:bg-yellow-500/10"),"aria-label":e.isFavorite?"お気に入りから削除":"お気に入りに追加",children:(0,a.jsx)(w.A,{className:(0,X.cn)("h-4 w-4 transition-all",e.isFavorite&&"fill-current")})}),(0,a.jsxs)(es.rI,{children:[(0,a.jsx)(es.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"icon",onClick:e=>e.stopPropagation(),className:"h-8 w-8 text-[#A0A0A0] hover:text-[#E0E0E0] hover:bg-[#4A4A4A]","aria-label":"共有・エクスポート",children:(0,a.jsx)(O.A,{className:"h-4 w-4"})})}),(0,a.jsxs)(es.SQ,{align:"end",className:"bg-[#2D2D2D] border-[#4A4A4A] min-w-[180px]",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),tt(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-2"}),"コピー"]}),(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),tl(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"URL共有"]}),(0,a.jsx)(es.mB,{className:"bg-[#4A4A4A]"}),(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),ta(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"テキストエクスポート"]}),(0,a.jsxs)(es._2,{onClick:s=>{s.stopPropagation(),tr(e)},className:"text-[#E0E0E0] hover:bg-[#4A4A4A] cursor-pointer",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-2"}),"PDFエクスポート"]})]})]}),(0,a.jsxs)(x.E,{variant:"outline",className:"flex-shrink-0 border-[#4A4A4A] text-[#A0A0A0]",children:[(0,a.jsx)(v.A,{className:"h-3 w-3 mr-1"}),e.estimatedDuration,"分"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,a.jsx)(x.E,{className:(0,X.cn)(t.badgeColor,"text-xs font-medium"),children:t.label}),e.difficulty&&(0,a.jsx)(x.E,{variant:"outline",className:(0,X.cn)("text-xs font-medium border-[#4A4A4A]","easy"===e.difficulty&&"text-green-400 border-green-500/50 bg-green-500/10","medium"===e.difficulty&&"text-yellow-400 border-yellow-500/50 bg-yellow-500/10","hard"===e.difficulty&&"text-red-400 border-red-500/50 bg-red-500/10"),children:"easy"===e.difficulty?"初級":"medium"===e.difficulty?"中級":"上級"})]}),(0,a.jsx)(m.BT,{className:"line-clamp-2 text-[#A0A0A0]",children:e.description})]})]})}),(0,a.jsxs)(m.Wu,{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm mb-2 text-[#E0E0E0]",children:"おすすめポイント"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:e.points.map((e,s)=>(0,a.jsx)(x.E,{variant:"secondary",className:"text-xs bg-[#2D2D2D] text-[#A0A0A0] border-[#4A4A4A]",children:e},s))})]}),(0,a.jsxs)(m.wL,{className:"gap-2",children:[(0,a.jsx)(r.$,{variant:"outline","aria-label":"この企画を調整",className:"border-[#4A4A4A]",children:"この企画を調整"}),(0,a.jsx)(r.$,{onClick:()=>ty(e),disabled:eM,"aria-label":"".concat(e.title,"の台本を生成"),children:eM?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),"台本生成中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"台本を生成する"]})})]})]})},e.id)}),e.placeholder]})})})]})}),"script"===sL&&(0,a.jsx)("div",{className:"space-y-4",children:eM?(0,a.jsx)(ev,{steps:ej,currentStepId:eZ,type:"script"}):e$&&eJ===e$.ideaId?(0,a.jsxs)(m.Zp,{className:"bg-[#2D2D2D]",children:[(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(m.ZB,{className:"text-lg flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(P.A,{className:"h-5 w-5"}),"台本プレビュー"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:tw,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"印刷",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1"}),"印刷"]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:tE,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"PDFエクスポート",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})}),(0,a.jsx)(m.Wu,{className:"space-y-4",children:(0,a.jsxs)(d.tU,{value:eY,onValueChange:e=>eH(e),children:[(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-3 bg-[#1A1A1A] border border-[#4A4A4A] rounded-none p-0 gap-0 h-auto",children:[(0,a.jsxs)(d.Xi,{value:"edit",className:"data-[state=active]:bg-[#2D2D2D] data-[state=active]:text-[#E0E0E0] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-1"}),"編集"]}),(0,a.jsxs)(d.Xi,{value:"reading",className:"data-[state=active]:bg-[#2D2D2D] data-[state=active]:text-[#E0E0E0] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 mr-1"}),"読み上げ"]}),(0,a.jsxs)(d.Xi,{value:"timeline",className:"data-[state=active]:bg-[#2D2D2D] data-[state=active]:text-[#E0E0E0] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-1"}),"タイムライン"]})]}),(0,a.jsxs)(d.av,{value:"edit",className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2 pb-2 border-b border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:tx,disabled:sm<=0,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"アンドゥ",children:(0,a.jsx)(B.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:tm,disabled:sm>=sd.length-1,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"リドゥ",children:(0,a.jsx)(U.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{e$&&(td(e$),tA(!1))},disabled:!sA||"saving"===sg,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"保存",children:"saving"===sg?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-1 animate-spin"}),"保存中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.A,{className:"h-4 w-4 mr-1"}),"保存"]})}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:tu,disabled:!e$,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"複製（6.14）",children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-1"}),"複製"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[tN&&(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#A0A0A0] flex-wrap",children:[(0,a.jsxs)("span",{children:["文字数: ",tN.total.chars]}),(0,a.jsxs)("span",{children:["行数: ",tN.total.lines]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"h-3 w-3"}),"予想時間: ",tN.total.estimatedMinutes,"分"]})]}),e$&&(0,a.jsxs)("div",{children:["saved"===sg&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-green-500/10 text-green-400 border-green-500/50",children:"保存済み"}),"editing"===sg&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-yellow-500/10 text-yellow-400 border-yellow-500/50",children:"編集中"}),"saving"===sg&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-blue-500/10 text-blue-400 border-blue-500/50",children:"保存中..."})]})]})]}),sY.sections.sort((e,s)=>e.order-s.order).map(e=>{let s=sH(e.id),t=sW[e.color]||sW.blue,l=s.split("\n").length;return(0,a.jsxs)("div",{className:"border-l-4 ".concat(t.border," ").concat(t.bg," p-4 rounded"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("h5",{className:"font-bold text-[#E0E0E0]",children:["【",e.label,"】"]}),(0,a.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[s.length,"文字 / ",l,"行"]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:s.split("\n").map((e,s)=>(0,a.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,a.jsx)(c.T,{value:s,onChange:s=>th(e.id,s.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[120px]",placeholder:e.placeholder})]})]},e.id)})]}),(0,a.jsxs)(d.av,{value:"reading",className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3 pb-4 border-b border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.J,{className:"flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),"読み上げ速度"]}),(0,a.jsxs)("span",{className:"text-sm text-[#A0A0A0]",children:[eQ.toFixed(1),"倍速"]})]}),(0,a.jsx)(Q.A,{min:.5,max:2,step:.1,value:[eQ],onValueChange:e=>eK(e[0]),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-[#4A4A4A]",children:[(0,a.jsx)("span",{children:"0.5倍"}),(0,a.jsx)("span",{children:"1.0倍"}),(0,a.jsx)("span",{children:"2.0倍"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 pb-4 border-b border-[#4A4A4A]",children:(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>e1(!e2),className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:e2?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-1"}),"停止"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G.A,{className:"h-4 w-4 mr-1"}),"読み上げ開始"]})})}),(0,a.jsx)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:sY.sections.sort((e,s)=>e.order-s.order).map((e,s)=>{let t=sH(e.id),l=sW[e.color]||sW.blue,r=t.split("\n");return(0,a.jsxs)("div",{className:"border-l-4 ".concat(l.border," ").concat(l.bg," p-4 rounded"),children:[(0,a.jsxs)("h5",{className:"font-bold text-lg text-[#E0E0E0] mb-3",children:["【",e.label,"】"]}),(0,a.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>{let l=sY.sections.slice(0,s).reduce((e,s)=>e+sH(s.id).split("\n").length,0)+t;return(0,a.jsx)("div",{className:(0,X.cn)("text-lg leading-relaxed p-2 rounded transition-all",e0===l?"bg-primary/20 border-2 border-primary text-[#E0E0E0] font-semibold":"text-[#A0A0A0]"),children:e||"\xa0"},t)})})]},e.id)})})]}),(0,a.jsx)(d.av,{value:"timeline",className:"mt-4 space-y-4",children:tf?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-[#E0E0E0]",children:"総時間"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-primary",children:tv(tf.totalSeconds)})]})}),(0,a.jsx)("div",{className:"space-y-3",children:tf.sections.map((e,s)=>{sW[e.section.color]||sW.blue;let t=e.duration/tf.totalSeconds*100,l={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",yellow:"bg-yellow-500",orange:"bg-orange-500",pink:"bg-pink-500"}[e.section.color]||"bg-blue-500";return(0,a.jsxs)("div",{className:"border border-[#4A4A4A] rounded-lg p-4 bg-[#2D2D2D]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3 flex-wrap",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(l)}),(0,a.jsxs)("h5",{className:"font-semibold text-[#E0E0E0]",children:["【",e.section.label,"】"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-[#A0A0A0]",children:[(0,a.jsx)("span",{children:tv(e.startTime)}),(0,a.jsx)("span",{className:"text-primary",children:"→"}),(0,a.jsx)("span",{children:tv(e.endTime)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-[#4A4A4A]",children:[(0,a.jsxs)("span",{children:["開始: ",tv(e.startTime)]}),(0,a.jsxs)("span",{className:"text-primary font-semibold",children:["継続時間: ",tv(e.duration)]}),(0,a.jsxs)("span",{children:["終了: ",tv(e.endTime)]})]}),(0,a.jsx)("div",{className:"w-full h-3 bg-[#1A1A1A] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:(0,X.cn)("h-full transition-all",l),style:{width:"".concat(t,"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0]",children:[e.chars,"文字 / 累積: ",tv(e.endTime)]})]})]},e.section.id)})})]}):(0,a.jsx)("div",{className:"text-center text-[#A0A0A0] py-8",children:"タイムラインを計算中..."})})]})})]}):(0,a.jsxs)("div",{className:"w-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px]",children:[(0,a.jsx)(P.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-[#E0E0E0]",children:"台本プレビュー"}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"企画案を選択して「台本を生成する」ボタンを押すと、ここに台本が表示されます。"})]})}),"others"===sL&&(0,a.jsx)("div",{className:"space-y-4",children:tC})]})]}),(0,a.jsx)("main",{className:"hidden md:block flex-1 p-3 sm:p-4 overflow-y-auto md:pt-4 md:border-r border-[#4A4A4A]",children:eV?(0,a.jsx)(ev,{steps:eg,currentStepId:eU,type:"ideas"}):0===e.length?(0,a.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[600px]",children:[(0,a.jsx)(g.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-[#E0E0E0]",children:"企画案を生成しよう！"}),(0,a.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"サイドパネルからキーワードや企画の方向性を入力して、「企画案を生成する」ボタンを押してください。"})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[e.length>0&&(0,a.jsx)(d.tU,{value:st,onValueChange:e=>sa(e),className:"mb-4",children:(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-3 bg-[#2D2D2D] border border-[#4A4A4A] p-0 gap-0",children:[(0,a.jsxs)(d.Xi,{value:"all",className:"data-[state=active]:bg-[#1A1A1A] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0",children:["すべて (",e.length,")"]}),(0,a.jsxs)(d.Xi,{value:"favorites",className:"data-[state=active]:bg-[#1A1A1A] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0",children:["お気に入り (",e.filter(e=>e.isFavorite).length,")"]}),(0,a.jsx)(d.Xi,{value:"recent",className:"data-[state=active]:bg-[#1A1A1A] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0",children:"最近生成"})]})}),(0,a.jsx)(eu,{filteredIdeas:tn,generatedIdeas:e,selectedIdeaId:eJ,searchQuery:e5,setSearchQuery:e3,selectedCategories:e6,setSelectedCategories:e8,selectedDifficulty:e9,setSelectedDifficulty:e7,durationFilter:se,setDurationFilter:ss,handleCardClick:to,handleDragEnd:ti,handleToggleFavorite:te,handleCopyIdea:tt,handleShareIdeaUrl:tl,handleExportIdeaAsText:ta,handleExportIdeaAsPDF:tr,handleGenerateScript:ty,isGeneratingScript:eM,categoryConfig:eb})]})}),(0,a.jsx)("aside",{className:"\n        hidden md:block\n        w-0 md:w-72 lg:w-80 xl:w-96\n        overflow-y-auto\n        bg-[#1A1A1A]\n        border-l border-[#4A4A4A]\n        flex-shrink-0\n      ",children:(0,a.jsx)("div",{className:"p-4 h-full",children:eM?(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsx)(ev,{steps:ej,currentStepId:eZ,type:"script"})}):e$&&eJ===e$.ideaId?(0,a.jsxs)(m.Zp,{className:"bg-[#2D2D2D]",children:[(0,a.jsx)(m.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(m.ZB,{className:"text-lg flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(P.A,{className:"h-5 w-5"}),"台本プレビュー"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:tw,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"印刷",children:[(0,a.jsx)(V.A,{className:"h-4 w-4 mr-1"}),"印刷"]}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:tE,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"PDFエクスポート",children:[(0,a.jsx)(L.A,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})}),(0,a.jsx)(m.Wu,{className:"space-y-4",children:(0,a.jsxs)(d.tU,{value:eY,onValueChange:e=>eH(e),children:[(0,a.jsxs)(d.j7,{className:"grid w-full grid-cols-3 bg-[#1A1A1A] border border-[#4A4A4A] rounded-none p-0 gap-0 h-auto",children:[(0,a.jsxs)(d.Xi,{value:"edit",className:"data-[state=active]:bg-[#2D2D2D] data-[state=active]:text-[#E0E0E0] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 mr-1"}),"編集"]}),(0,a.jsxs)(d.Xi,{value:"reading",className:"data-[state=active]:bg-[#2D2D2D] data-[state=active]:text-[#E0E0E0] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 mr-1"}),"読み上げ"]}),(0,a.jsxs)(d.Xi,{value:"timeline",className:"data-[state=active]:bg-[#2D2D2D] data-[state=active]:text-[#E0E0E0] h-full rounded-none border-r border-[#4A4A4A] last:border-r-0 px-2 py-2",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-1"}),"タイムライン"]})]}),(0,a.jsxs)(d.av,{value:"edit",className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2 pb-2 border-b border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:tx,disabled:sm<=0,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"アンドゥ",children:(0,a.jsx)(B.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:tm,disabled:sm>=sd.length-1,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"リドゥ",children:(0,a.jsx)(U.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>{e$&&(td(e$),tA(!1))},disabled:!sA||"saving"===sg,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"保存",children:"saving"===sg?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-1 animate-spin"}),"保存中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(q.A,{className:"h-4 w-4 mr-1"}),"保存"]})}),(0,a.jsxs)(r.$,{variant:"outline",size:"sm",onClick:tu,disabled:!e$,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"複製（6.14）",children:[(0,a.jsx)($.A,{className:"h-4 w-4 mr-1"}),"複製"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[tN&&(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#A0A0A0]",children:[(0,a.jsxs)("span",{children:["文字数: ",tN.total.chars]}),(0,a.jsxs)("span",{children:["行数: ",tN.total.lines]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(v.A,{className:"h-3 w-3"}),"予想時間: ",tN.total.estimatedMinutes,"分"]})]}),e$&&(0,a.jsxs)("div",{children:["saved"===sg&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-green-500/10 text-green-400 border-green-500/50",children:"保存済み"}),"editing"===sg&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-yellow-500/10 text-yellow-400 border-yellow-500/50",children:"編集中"}),"saving"===sg&&(0,a.jsx)(x.E,{variant:"outline",className:"text-xs bg-blue-500/10 text-blue-400 border-blue-500/50",children:"保存中..."})]})]})]}),sY.sections.sort((e,s)=>e.order-s.order).map(e=>{let s=sH(e.id),t=sW[e.color]||sW.blue,l=s.split("\n").length;return(0,a.jsxs)("div",{className:"border-l-4 ".concat(t.border," ").concat(t.bg," p-4 rounded"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("h5",{className:"font-bold text-[#E0E0E0]",children:["【",e.label,"】"]}),(0,a.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[s.length,"文字 / ",l,"行"]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:s.split("\n").map((e,s)=>(0,a.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,a.jsx)(c.T,{value:s,onChange:s=>th(e.id,s.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[120px]",placeholder:e.placeholder})]})]},e.id)})]}),(0,a.jsxs)(d.av,{value:"reading",className:"mt-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-3 pb-4 border-b border-[#4A4A4A]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.J,{className:"flex items-center gap-2 text-[#E0E0E0]",children:[(0,a.jsx)(_.A,{className:"h-4 w-4"}),"読み上げ速度"]}),(0,a.jsxs)("span",{className:"text-sm text-[#A0A0A0]",children:[eQ.toFixed(1),"倍速"]})]}),(0,a.jsx)(Q.A,{min:.5,max:2,step:.1,value:[eQ],onValueChange:e=>eK(e[0]),className:"w-full"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-[#4A4A4A]",children:[(0,a.jsx)("span",{children:"0.5倍"}),(0,a.jsx)("span",{children:"1.0倍"}),(0,a.jsx)("span",{children:"2.0倍"})]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 pb-4 border-b border-[#4A4A4A]",children:(0,a.jsx)(r.$,{variant:"outline",size:"sm",onClick:()=>e1(!e2),className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:e2?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.A,{className:"h-4 w-4 mr-1"}),"停止"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(G.A,{className:"h-4 w-4 mr-1"}),"読み上げ開始"]})})}),(0,a.jsx)("div",{className:"space-y-4 max-h-[500px] overflow-y-auto",children:sY.sections.sort((e,s)=>e.order-s.order).map((e,s)=>{let t=sH(e.id),l=sW[e.color]||sW.blue,r=t.split("\n");return(0,a.jsxs)("div",{className:"border-l-4 ".concat(l.border," ").concat(l.bg," p-4 rounded"),children:[(0,a.jsxs)("h5",{className:"font-bold text-lg text-[#E0E0E0] mb-3",children:["【",e.label,"】"]}),(0,a.jsx)("div",{className:"space-y-2",children:r.map((e,t)=>{let l=sY.sections.slice(0,s).reduce((e,s)=>e+sH(s.id).split("\n").length,0)+t;return(0,a.jsx)("div",{className:(0,X.cn)("text-lg leading-relaxed p-2 rounded transition-all",e0===l?"bg-primary/20 border-2 border-primary text-[#E0E0E0] font-semibold":"text-[#A0A0A0]"),children:e||"\xa0"},t)})})]},e.id)})})]}),(0,a.jsx)(d.av,{value:"timeline",className:"mt-4 space-y-4",children:tf?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"p-4 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-[#E0E0E0]",children:"総時間"})]}),(0,a.jsx)("span",{className:"text-2xl font-bold text-primary",children:tv(tf.totalSeconds)})]})}),(0,a.jsx)("div",{className:"space-y-3",children:tf.sections.map((e,s)=>{sW[e.section.color]||sW.blue;let t=e.duration/tf.totalSeconds*100,l={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",yellow:"bg-yellow-500",orange:"bg-orange-500",pink:"bg-pink-500"}[e.section.color]||"bg-blue-500";return(0,a.jsxs)("div",{className:"border border-[#4A4A4A] rounded-lg p-4 bg-[#2D2D2D]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(l)}),(0,a.jsxs)("h5",{className:"font-semibold text-[#E0E0E0]",children:["【",e.section.label,"】"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-[#A0A0A0]",children:[(0,a.jsx)("span",{children:tv(e.startTime)}),(0,a.jsx)("span",{className:"text-primary",children:"→"}),(0,a.jsx)("span",{children:tv(e.endTime)})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-[#4A4A4A]",children:[(0,a.jsxs)("span",{children:["開始: ",tv(e.startTime)]}),(0,a.jsxs)("span",{className:"text-primary font-semibold",children:["継続時間: ",tv(e.duration)]}),(0,a.jsxs)("span",{children:["終了: ",tv(e.endTime)]})]}),(0,a.jsx)("div",{className:"w-full h-3 bg-[#1A1A1A] rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:(0,X.cn)("h-full transition-all",l),style:{width:"".concat(t,"%")}})}),(0,a.jsxs)("div",{className:"text-xs text-[#A0A0A0]",children:[e.chars,"文字 / 累積: ",tv(e.endTime)]})]})]},e.section.id)})})]}):(0,a.jsx)("div",{className:"text-center text-[#A0A0A0] py-8",children:"タイムラインを計算中..."})})]})})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] text-center p-8",children:[(0,a.jsx)(P.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,a.jsx)("h3",{className:"text-lg sm:text-xl font-semibold text-[#E0E0E0] mb-2",children:"台本プレビュー"}),(0,a.jsx)("p",{className:"text-[#A0A0A0]",children:"企画案を選択して「台本を生成する」ボタンを押すと、ここに台本が表示されます。"})]})})}),!sJ&&sz&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:()=>sT(!1)}),!sJ&&(0,a.jsx)(et.B,{isOpen:sz,onClose:()=>sT(!1),title:"企画・台本サポート",isDesktop:sJ,children:tC}),sJ&&!sz&&(0,a.jsx)(et.R,{onOpen:()=>sT(!0),isDesktop:sJ,tabs:[{id:"generate",label:"生成",icon:(0,a.jsx)(g.A,{className:"h-4 w-4"})},{id:"persona",label:"ペルソナ",icon:(0,a.jsx)(N.A,{className:"h-4 w-4"})},{id:"history",label:"履歴",icon:(0,a.jsx)(P.A,{className:"h-4 w-4"})},{id:"saved",label:"保存済み",icon:(0,a.jsx)(I.A,{className:"h-4 w-4"})}],onTabClick:s$}),(0,a.jsx)(ee.lG,{open:sw,onOpenChange:e=>{sE(e),e||s1()},children:(0,a.jsxs)(ee.Cf,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(ee.c7,{children:[(0,a.jsx)(ee.L3,{children:sk?"ペルソナを編集":"新しいペルソナを作成"}),(0,a.jsx)(ee.rr,{children:"ペルソナの情報を入力してください。AIがこの情報を元に企画案や台本を生成します。"})]}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"persona-name",children:"ペルソナ名 *"}),(0,a.jsx)(i.p,{id:"persona-name",value:sD.name,onChange:e=>sS(s=>({...s,name:e.target.value})),placeholder:"例: 元気なゲーマー女子",autoFocus:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"persona-description",children:"ペルソナの特徴・話し方 *"}),(0,a.jsx)(c.T,{id:"persona-description",value:sD.description,onChange:e=>sS(s=>({...s,description:e.target.value})),placeholder:"例: いつも元気で明るく、ゲームが大好き。視聴者と積極的にコミュニケーションを取るスタイル。",className:"min-h-[120px]"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"話し方のスタイル（オプション）"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["カジュアル","フォーマル","エネルギッシュ","落ち着いた","テクニカル","エンターテイニング"].map(e=>(0,a.jsx)(x.E,{variant:sD.speakingStyle.includes(e)?"default":"outline",className:"cursor-pointer",onClick:()=>{sS(s=>({...s,speakingStyle:s.speakingStyle.includes(e)?s.speakingStyle.filter(s=>s!==e):[...s.speakingStyle,e]}))},children:e},e))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{children:"キャラクターの特徴（オプション）"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:["ゲーマー","歌好き","雑談好き","コラボ好き","イベント参加","その他"].map(e=>(0,a.jsx)(x.E,{variant:sD.traits.includes(e)?"default":"outline",className:"cursor-pointer",onClick:()=>{sS(s=>({...s,traits:s.traits.includes(e)?s.traits.filter(s=>s!==e):[...s.traits,e]}))},children:e},e))})]})]}),(0,a.jsxs)(ee.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>{sE(!1),s1()},children:"キャンセル"}),(0,a.jsx)(r.$,{onClick:s7,disabled:!sD.name.trim(),children:sk?"更新":"作成"})]})]})}),(0,a.jsx)(ee.lG,{open:sF,onOpenChange:sI,children:(0,a.jsxs)(ee.Cf,{className:"bg-[#2D2D2D] border-[#4A4A4A]",children:[(0,a.jsxs)(ee.c7,{children:[(0,a.jsx)(ee.L3,{className:"text-[#E0E0E0]",children:"台本を複製"}),(0,a.jsx)(ee.rr,{className:"text-[#A0A0A0]",children:"新しいバージョンとして台本を複製します。バージョン名を入力してください（任意）。"})]}),(0,a.jsx)("div",{className:"space-y-4 py-4",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.J,{htmlFor:"version-name",className:"text-[#E0E0E0]",children:"バージョン名（任意）"}),(0,a.jsx)(i.p,{id:"version-name",value:sR,onChange:e=>sP(e.target.value),placeholder:"例: 短縮版、改善版、最終版",className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]"})]})}),(0,a.jsxs)(ee.Es,{children:[(0,a.jsx)(r.$,{variant:"outline",onClick:()=>{sI(!1),sP("")},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:"キャンセル"}),(0,a.jsx)(r.$,{onClick:tb,className:"bg-blue-500 hover:bg-blue-600 text-white",children:"複製"})]})]})})]})}},96681:(e,s,t)=>{Promise.resolve().then(t.bind(t,8980))}},e=>{e.O(0,[96,76,358],()=>e(e.s=96681)),_N_E=e.O()}]);