(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52],{13631:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>_});var t=a(18841),l=a(58669),i=a(28198),n=a(77902),r=a(98356),c=a(33544),o=a(2570),d=a(44166),x=a(14967),m=a(98156),h=a(54686),A=a(54625),b=a(88472),p=a(28806),u=a(49752),g=a(38425),j=a(59172),v=a(79706),N=a(42542),f=a(42990),y=a(90584),w=a(75359),E=a(74486),C=a(81052),k=a(19866),D=a(63615),S=a(23718),I=a(68698),F=a(31171),z=a(16051),J=a(78253),$=a(77463),P=a(90215),O=a(53333),L=a(74843),T=a(30897),R=a(7934),M=a(49907),Z=a(24156),B=a(96802),X=a(65939);let V={gaming:{label:"ゲーム",icon:h.A,gradient:"from-blue-600/20 via-blue-500/10 to-purple-600/20",borderColor:"border-blue-500/50",badgeColor:"bg-blue-500/20 text-blue-400 border-blue-500/30",bgColor:"bg-blue-500/10"},singing:{label:"歌枠",icon:A.A,gradient:"from-pink-600/20 via-pink-500/10 to-rose-600/20",borderColor:"border-pink-500/50",badgeColor:"bg-pink-500/20 text-pink-400 border-pink-500/30",bgColor:"bg-pink-500/10"},talk:{label:"雑談",icon:b.A,gradient:"from-green-600/20 via-green-500/10 to-emerald-600/20",borderColor:"border-green-500/50",badgeColor:"bg-green-500/20 text-green-400 border-green-500/30",bgColor:"bg-green-500/10"},collaboration:{label:"コラボ",icon:p.A,gradient:"from-orange-600/20 via-orange-500/10 to-amber-600/20",borderColor:"border-orange-500/50",badgeColor:"bg-orange-500/20 text-orange-400 border-orange-500/30",bgColor:"bg-orange-500/10"},event:{label:"イベント",icon:u.A,gradient:"from-purple-600/20 via-purple-500/10 to-violet-600/20",borderColor:"border-purple-500/50",badgeColor:"bg-purple-500/20 text-purple-400 border-purple-500/30",bgColor:"bg-purple-500/10"},other:{label:"その他",icon:g.A,gradient:"from-gray-600/20 via-gray-500/10 to-slate-600/20",borderColor:"border-gray-500/50",badgeColor:"bg-gray-500/20 text-gray-400 border-gray-500/30",bgColor:"bg-gray-500/10"}},q=[{id:1,title:"超絶高難易度ゲームに初見で挑戦！",description:"視聴者から寄せられた「絶対にクリアできない」と噂のゲームに、何の予備知識もなく挑戦します。絶叫と感動のドラマが生まれること間違いなし！",points:["リアクション芸が光る","視聴者との一体感が生まれる","切り抜き動画映えする"],category:"gaming",estimatedDuration:120,difficulty:"hard"},{id:2,title:"視聴者参加型！みんなで決める歌枠セットリスト",description:"配信中にアンケート機能を使って、次に歌う曲を視聴者に決めてもらうインタラクティブな歌枠。定番曲から意外な曲まで、何が飛び出すか分からない！",points:["ファンサービス満点","コメントが盛り上がる","アーカイブの再生数も期待できる"],category:"singing",estimatedDuration:90,difficulty:"easy"},{id:3,title:"完全オリジナル！自作ゲームお披露目会",description:"数ヶ月かけて制作した自作ゲームを、ファンと一緒についにプレイ！開発秘話や裏話を交えながら、感動のエンディングを目指す。",points:["クリエイターとしての一面を見せられる","独自性が高い","記念配信に最適"],category:"gaming",estimatedDuration:180,difficulty:"medium"}],W={introduction:"皆さん、こんにちは！〇〇です！今日の配信は、なんと…！",body:"（ここでゲームプレイや企画の本編）\nいやー、これは難しい！でも、みんなの応援があるから頑張れる！",conclusion:"というわけで、今日の配信はここまで！たくさんのコメント、スパチャありがとう！次回もまた見てね！おつ〇〇～！"};function _(){let[e,s]=(0,l.useState)([]),[a,h]=(0,l.useState)(null),[A,b]=(0,l.useState)(null),[p,u]=(0,l.useState)(!1),[_,U]=(0,l.useState)(!1),[G,H]=(0,l.useState)(""),[K,Y]=(0,l.useState)([]),[Q,ee]=(0,l.useState)("all"),[es,ea]=(0,l.useState)({}),[et,el]=(0,l.useState)(new Set),[ei,en]=(0,l.useState)("all"),er="script-generator-ideas-order",ec="script-generator-favorites",eo="script-generator-history",ed="script-generator-saved-scripts",[ex,em]=(0,l.useState)([]),[eh,eA]=(0,l.useState)(""),[eb,ep]=(0,l.useState)("all"),[eu,eg]=(0,l.useState)([]),[ej,ev]=(0,l.useState)(-1),[eN,ef]=(0,l.useState)(!1),[ey,ew]=(0,l.useState)([]),[eE,eC]=(0,l.useState)("saved"),{isOpen:ek,setIsOpen:eD,isDesktop:eS}=(0,T.c)({defaultOpen:!1,desktopDefaultOpen:!0}),[eI,eF]=(0,l.useState)("persona"),{handleAsyncError:ez}=(0,R.u)();(0,l.useEffect)(()=>{eF(eS?"generate":"persona")},[eS]),(0,l.useEffect)(()=>{let a=localStorage.getItem(ec);if(a)try{let e=JSON.parse(a);el(new Set(e)),s(s=>s.map(s=>({...s,isFavorite:e.includes(s.id)})))}catch(e){console.error("Failed to load favorites:",e)}let t=localStorage.getItem(er);if(t&&e.length>0)try{let e=JSON.parse(t);s(s=>[...s].sort((s,a)=>{var t,l;let i=null!=(t=e[s.id])?t:s.id,n=null!=(l=e[a.id])?l:a.id;return i-n}))}catch(e){console.error("Failed to load order:",e)}},[]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem(eo);if(e){let s=JSON.parse(e);em(Array.isArray(s)?s:[])}}catch(e){console.error("履歴読み込み失敗",e)}},[]),(0,l.useEffect)(()=>{try{let e=localStorage.getItem(ed);if(e){let s=JSON.parse(e);ew(Array.isArray(s)?s:[])}}catch(e){console.error("保存済み台本読み込み失敗",e)}},[]);let eJ=(0,l.useCallback)((e,s,a)=>{if(0!==e.length)try{let t={id:"history-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:Date.now(),ideas:e.map(e=>({...e})),keywords:s,direction:a,createdAt:new Date().toISOString()};em(e=>{let s=[t,...e].slice(0,50);return localStorage.setItem(eo,JSON.stringify(s)),s})}catch(e){console.error("履歴保存失敗",e)}},[]),e$=(0,l.useCallback)(e=>{em(s=>{let a=s.filter(s=>s.id!==e);try{localStorage.setItem(eo,JSON.stringify(a))}catch(e){console.error("履歴削除失敗",e)}return a})},[]),eP=(0,l.useCallback)(()=>{if(confirm("すべての履歴を削除しますか？")){em([]);try{localStorage.removeItem(eo)}catch(e){console.error("履歴全削除失敗",e)}}},[]),eO=(0,l.useCallback)(e=>{s(e.ideas.map(e=>({...e,isFavorite:et.has(e.id)}))),h(null),b(null),en("all"),eF(eS?"generate":"persona")},[et,eS]),eL=(0,l.useMemo)(()=>ex.filter(e=>{if(eh){let s=eh.toLowerCase();if(!(e.keywords&&e.keywords.toLowerCase().includes(s)||e.direction&&e.direction.toLowerCase().includes(s)||e.ideas.some(e=>e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s))))return!1}return("all"===eb||!!e.ideas.some(e=>e.category===eb))&&!0}),[ex,eh,eb]),eT=(0,l.useCallback)(e=>{el(a=>{let t=new Set(a);return t.has(e)?t.delete(e):t.add(e),localStorage.setItem(ec,JSON.stringify(Array.from(t))),s(s=>s.map(s=>s.id===e?{...s,isFavorite:t.has(e)}:s)),t})},[]),eR=(0,l.useCallback)(e=>{e.destination&&s(s=>{let a=[...s],t=parseInt(e.draggableId),l=a.findIndex(e=>e.id===t);if(-1===l)return s;let[i]=a.splice(l,1);a.splice(e.destination.index,0,i);let n=a.reduce((e,s,a)=>(e[s.id]=a,e),{});return localStorage.setItem(er,JSON.stringify(n)),a})},[]),eM=(0,l.useMemo)(()=>{let s=e.filter(e=>{if(G){let s=G.toLowerCase();if(!(e.title.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.points.some(e=>e.toLowerCase().includes(s))))return!1}return(!(K.length>0)||!!K.includes(e.category))&&("all"===Q||e.difficulty===Q)&&(void 0===es.min||!(e.estimatedDuration<es.min))&&(void 0===es.max||!(e.estimatedDuration>es.max))});return"favorites"===ei&&(s=s.filter(e=>e.isFavorite)),s},[e,G,K,Q,es,ei]),eZ=(0,l.useCallback)(async()=>{u(!0),await ez(async()=>{await new Promise(e=>setTimeout(e,1e3));let e=q.map(e=>({...e,isFavorite:et.has(e.id)}));s(e),h(null),H(""),Y([]),ee("all"),ea({}),en("all"),eJ(e)},"企画案生成中にエラーが発生しました"),u(!1)},[ez,et,eJ]),eB=(0,l.useCallback)(e=>{h(e),A&&A.ideaId===e||b(null)},[A]),eX=(0,l.useCallback)(e=>{let s={introduction:e.introduction,body:e.body,conclusion:e.conclusion,timestamp:Date.now()};eg(e=>{let a=e.slice(0,ej+1);return(a.push(s),a.length>50)?a.slice(-50):a}),ev(e=>{let s=e+1;return s>=49?49:s})},[ej]),eV=(0,l.useCallback)(()=>{if(ej>0&&A){let e=eu[ej-1];b({...A,introduction:e.introduction,body:e.body,conclusion:e.conclusion}),ev(e=>e-1),ef(!0)}},[eu,ej,A]),eq=(0,l.useCallback)(()=>{if(ej<eu.length-1&&A){let e=eu[ej+1];b({...A,introduction:e.introduction,body:e.body,conclusion:e.conclusion}),ev(e=>e+1),ef(!0)}},[eu,ej,A]),eW=(0,l.useCallback)((e,s)=>{A&&(b({...A,[e]:s}),ef(!0),eC("editing"))},[A]),e_=(0,l.useCallback)(function(){let s=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!A)return void console.log("保存失敗: currentScriptがnullまたはwindowがundefined");let a=e.find(e=>e.id===A.ideaId);if(!a){console.log("保存失敗: selectedIdeaが見つかりません",{scriptId:A.ideaId,generatedIdeasCount:e.length,generatedIds:e.map(e=>e.id)});let a="台本 ".concat(A.ideaId);eC("saving");try{let e=ey.filter(e=>e.scriptId===A.ideaId),t=e.length>0?Math.max(...e.map(e=>e.version)):0,l=e.length>0&&!s?t+1:e.length>0?t:1,i={id:"saved-".concat(A.ideaId,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),scriptId:A.ideaId,title:a,introduction:A.introduction,body:A.body,conclusion:A.conclusion,createdAt:e.length>0?e[0].createdAt:Date.now(),updatedAt:Date.now(),version:l};ew(a=>{let l;return l=s&&e.length>0?a.map(e=>e.scriptId===A.ideaId&&e.version===t?i:e):[i,...a].slice(0,50),localStorage.setItem(ed,JSON.stringify(l)),l}),eC("saved"),ef(!1),s||X.oR.success("台本を保存しました")}catch(e){console.error("台本保存失敗",e),eC("editing"),X.oR.error("保存に失敗しました")}return}eC("saving");try{let e=ey.filter(e=>e.scriptId===A.ideaId),t=e.length>0?Math.max(...e.map(e=>e.version)):0,l=e.length>0&&!s?t+1:e.length>0?t:1,i={id:"saved-".concat(A.ideaId,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),scriptId:A.ideaId,title:a.title,introduction:A.introduction,body:A.body,conclusion:A.conclusion,createdAt:e.length>0?e[0].createdAt:Date.now(),updatedAt:Date.now(),version:l};ew(a=>{let l;return l=s&&e.length>0?a.map(e=>e.scriptId===A.ideaId&&e.version===t?i:e):[i,...a].slice(0,50),localStorage.setItem(ed,JSON.stringify(l)),l}),eC("saved"),ef(!1),s||X.oR.success("台本を保存しました")}catch(e){console.error("台本保存失敗",e),eC("editing"),X.oR.error("保存に失敗しました")}},[A,e,ey]);(0,l.useEffect)(()=>{if(!A||"editing"!==eE||!1===eN)return;let e=setTimeout(()=>{e_(!0)},3e4);return()=>{clearTimeout(e)}},[A,eE,eN,e_]);let eU=(0,l.useCallback)(e=>{let s={ideaId:e.scriptId,content:"".concat(e.introduction,"\n\n").concat(e.body,"\n\n").concat(e.conclusion),introduction:e.introduction,body:e.body,conclusion:e.conclusion};b(s),h(e.scriptId),eC("saved"),ef(!1),eg([{introduction:s.introduction,body:s.body,conclusion:s.conclusion,timestamp:Date.now()}]),ev(0),X.oR.success("保存済み台本を読み込みました")},[]),eG=(0,l.useCallback)(e=>{ew(s=>{let a=s.filter(s=>s.id!==e);try{localStorage.setItem(ed,JSON.stringify(a))}catch(e){console.error("保存済み台本削除失敗",e)}return a}),X.oR.success("保存済み台本を削除しました")},[]),eH=(0,l.useMemo)(()=>{if(!A)return null;let e=e=>e.split("\n").length,s=A.introduction+A.body+A.conclusion,a=s.length,t=e(s),l=Math.max(1,Math.ceil(a/250));return{introduction:{chars:A.introduction.length,lines:e(A.introduction)},body:{chars:A.body.length,lines:e(A.body)},conclusion:{chars:A.conclusion.length,lines:e(A.conclusion)},total:{chars:a,lines:t,estimatedMinutes:l}}},[A]),eK=(0,l.useCallback)(async e=>{U(!0),await ez(async()=>{await new Promise(e=>setTimeout(e,1500));let s={ideaId:e.id,content:"【".concat(e.title,"】\n\n").concat(W.introduction,"\n\n").concat(e.description,"\n\n").concat(W.body,"\n\n").concat(W.conclusion),introduction:W.introduction,body:W.body,conclusion:W.conclusion};b(s),h(e.id),eg([{introduction:s.introduction,body:s.body,conclusion:s.conclusion,timestamp:Date.now()}]),ev(0),ef(!1),eC("saved"),Z.vF.debug("台本生成完了",{ideaTitle:e.title,scriptLength:s.content.length},"ScriptGenerator")},"台本生成中にエラーが発生しました"),U(!1)},[ez]),eY=(0,l.useCallback)(()=>{if(!A)return;let s=e.find(e=>e.id===a),t=window.open("","_blank");if(!t)return void X.oR.error("ポップアップがブロックされています。ポップアップを許可してください。");let l='\n<!DOCTYPE html>\n<html lang="ja">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>台本 - '.concat((null==s?void 0:s.title)||"企画案","</title>\n  <style>\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    \n    body {\n      font-family: 'Segoe UI', 'Meiryo', 'Hiragino Kaku Gothic ProN', sans-serif;\n      line-height: 1.8;\n      color: #333;\n      background: #fff;\n      padding: 40px;\n      max-width: 800px;\n      margin: 0 auto;\n    }\n    \n    @media print {\n      body {\n        padding: 20px;\n      }\n      \n      .no-print {\n        display: none;\n      }\n      \n      @page {\n        margin: 2cm;\n        size: A4;\n      }\n      \n      h1, h2, h3 {\n        page-break-after: avoid;\n      }\n      \n      .section {\n        page-break-inside: avoid;\n        margin-bottom: 30px;\n      }\n    }\n    \n    h1 {\n      font-size: 24px;\n      font-weight: bold;\n      margin-bottom: 20px;\n      color: #000;\n      border-bottom: 2px solid #333;\n      padding-bottom: 10px;\n    }\n    \n    .metadata {\n      margin-bottom: 30px;\n      padding: 15px;\n      background: #f5f5f5;\n      border-left: 4px solid #4A90E2;\n      font-size: 14px;\n    }\n    \n    .metadata-item {\n      margin-bottom: 8px;\n    }\n    \n    .metadata-label {\n      font-weight: bold;\n      color: #666;\n      display: inline-block;\n      min-width: 100px;\n    }\n    \n    .section {\n      margin-bottom: 40px;\n    }\n    \n    .section-title {\n      font-size: 18px;\n      font-weight: bold;\n      margin-bottom: 15px;\n      color: #000;\n      padding: 10px;\n      background: #f9f9f9;\n      border-left: 4px solid #4A90E2;\n    }\n    \n    .section-content {\n      font-size: 16px;\n      line-height: 2;\n      color: #333;\n      white-space: pre-wrap;\n      padding: 0 10px;\n    }\n    \n    .section-content p {\n      margin-bottom: 12px;\n    }\n    \n    .footer {\n      margin-top: 50px;\n      padding-top: 20px;\n      border-top: 1px solid #ddd;\n      font-size: 12px;\n      color: #666;\n      text-align: center;\n    }\n    \n    @media print {\n      .footer {\n        position: fixed;\n        bottom: 0;\n        width: 100%;\n      }\n    }\n  </style>\n</head>\n<body>\n  <h1>").concat((null==s?void 0:s.title)||"台本",'</h1>\n  \n  <div class="metadata">\n    ').concat((null==s?void 0:s.description)?'\n      <div class="metadata-item">\n        <span class="metadata-label">概要:</span>\n        <span>'.concat(s.description,"</span>\n      </div>\n    "):"","\n    ").concat((null==s?void 0:s.estimatedDuration)?'\n      <div class="metadata-item">\n        <span class="metadata-label">予想時間:</span>\n        <span>'.concat(s.estimatedDuration,"分</span>\n      </div>\n    "):"","\n    ").concat((null==s?void 0:s.category)?'\n      <div class="metadata-item">\n        <span class="metadata-label">カテゴリ:</span>\n        <span>'.concat(V[s.category].label,"</span>\n      </div>\n    "):"",'\n    <div class="metadata-item">\n      <span class="metadata-label">作成日時:</span>\n      <span>').concat(new Date().toLocaleString("ja-JP"),'</span>\n    </div>\n  </div>\n  \n  <div class="section">\n    <div class="section-title">【導入】</div>\n    <div class="section-content">').concat(A.introduction,'</div>\n  </div>\n  \n  <div class="section">\n    <div class="section-title">【本題】</div>\n    <div class="section-content">').concat(A.body,'</div>\n  </div>\n  \n  <div class="section">\n    <div class="section-title">【結論】</div>\n    <div class="section-content">').concat(A.conclusion,"</div>\n  </div>\n  \n  ").concat((null==s?void 0:s.points)&&s.points.length>0?'\n    <div class="section">\n      <div class="section-title">【ポイント】</div>\n      <div class="section-content">\n        <ul style="list-style-position: inside; padding-left: 0;">\n          '.concat(s.points.map(e=>'<li style="margin-bottom: 8px;">'.concat(e,"</li>")).join(""),"\n        </ul>\n      </div>\n    </div>\n  "):"",'\n  \n  <div class="footer">\n    <p>この台本は VTuberツールスイート で生成されました</p>\n  </div>\n</body>\n</html>\n    ');t.document.write(l),t.document.close(),setTimeout(()=>{t.focus(),t.print()},250)},[A,a,e]),eQ=(0,l.useCallback)(()=>{A&&(eY(),X.oR.success("印刷ダイアログを開きました。PDFに保存する場合は「保存先」でPDFを選択してください。"))},[A,eY]),e0=(0,l.useCallback)(()=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{htmlFor:"keywords-mobile",children:"キーワード"}),(0,t.jsx)(n.p,{id:"keywords-mobile",placeholder:"例: ゲーム実況、マリオカート"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{htmlFor:"direction-mobile",children:"企画の方向性"}),(0,t.jsxs)(o.l6,{children:[(0,t.jsx)(o.bq,{id:"direction-mobile",children:(0,t.jsx)(o.yv,{placeholder:"方向性を選択"})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"funny",children:"面白い系"}),(0,t.jsx)(o.eb,{value:"moving",children:"感動系"}),(0,t.jsx)(o.eb,{value:"educational",children:"解説・学習系"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{children:"現在のトレンド"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(x.E,{variant:"outline",className:"cursor-pointer",children:"#VTuberの夏休み"}),(0,t.jsx)(x.E,{variant:"outline",className:"cursor-pointer",children:"#ゲーム実況"}),(0,t.jsx)(x.E,{variant:"outline",className:"cursor-pointer",children:"#新作ゲーム"})]})]}),(0,t.jsx)(i.$,{className:"w-full",onClick:eZ,disabled:p,children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):"企画案を生成する"})]}),[p,eZ]),e4=(0,l.useMemo)(()=>(0,t.jsxs)(d.tU,{value:eI,onValueChange:eF,className:"w-full",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(d.Xi,{value:"persona",children:"ペルソナ"}),(0,t.jsx)(d.Xi,{value:"history",children:"履歴"}),(0,t.jsx)(d.Xi,{value:"saved",children:"保存済み"})]}),(0,t.jsxs)(d.av,{value:"persona",className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{htmlFor:"persona-select-mobile",children:"使用するペルソナ"}),(0,t.jsxs)(o.l6,{children:[(0,t.jsx)(o.bq,{id:"persona-select-mobile",children:(0,t.jsx)(o.yv,{placeholder:"ペルソナを選択"})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"default",children:"デフォルト"}),(0,t.jsx)(o.eb,{value:"energetic",children:"エネルギッシュ"}),(0,t.jsx)(o.eb,{value:"calm",children:"落ち着いた"}),(0,t.jsx)(o.eb,{value:"funny",children:"面白い"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{htmlFor:"persona-desc-mobile",children:"ペルソナの特徴"}),(0,t.jsx)(c.T,{id:"persona-desc-mobile",placeholder:"ペルソナの特徴や話し方を記述...",className:"min-h-[100px]"})]})]}),(0,t.jsxs)(d.av,{value:"history",className:"mt-4 space-y-4",children:[ex.length>0&&(0,t.jsxs)("div",{className:"space-y-3 p-3 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(r.J,{htmlFor:"history-search-mobile",className:"flex items-center gap-2 text-sm text-[#E0E0E0]",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),"検索"]}),(0,t.jsx)(n.p,{id:"history-search-mobile",placeholder:"キーワード、方向性、タイトルで検索...",value:eh,onChange:e=>eA(e.target.value),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{className:"text-sm text-[#A0A0A0]",children:"カテゴリ"}),(0,t.jsxs)(o.l6,{value:eb,onValueChange:e=>ep(e),children:[(0,t.jsx)(o.bq,{className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,t.jsx)(o.yv,{})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"all",children:"すべて"}),Object.keys(V).map(e=>(0,t.jsx)(o.eb,{value:e,children:V[e].label},e))]})]})]}),(eh||"all"!==eb)&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{eA(""),ep("all")},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})}),(0,t.jsxs)("div",{className:"text-xs text-[#A0A0A0]",children:[eL.length,"件の履歴が見つかりました（全",ex.length,"件中）"]})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:0===ex.length?(0,t.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,t.jsx)(f.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,t.jsx)("p",{children:"まだ履歴がありません"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"企画案を生成すると、ここに履歴が表示されます"})]}):0===eL.length?(0,t.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,t.jsx)(v.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,t.jsx)("p",{children:"検索条件に一致する履歴がありません"})]}):eL.map(e=>(0,t.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all cursor-pointer",onClick:()=>eO(e),children:[(0,t.jsx)(m.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,t.jsxs)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:[e.ideas.length,"件の企画案"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.keywords&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.keywords}),e.direction&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.direction})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0]",children:[(0,t.jsx)(y.A,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),e$(e.id)},className:"h-8 w-8 text-[#A0A0A0] hover:text-red-400 hover:bg-red-500/10","aria-label":"履歴を削除",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsx)(m.Wu,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[e.ideas.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:(0,O.cn)("w-2 h-2 rounded-full",V[e.category].bgColor)}),e.title]},e.id)),e.ideas.length>3&&(0,t.jsxs)("div",{className:"text-xs text-[#4A4A4A]",children:["+",e.ideas.length-3,"件"]})]})})]},e.id))}),ex.length>0&&(0,t.jsx)("div",{className:"flex justify-end pt-2 border-t border-[#4A4A4A]",children:(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eP,className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 mr-1"}),"すべての履歴を削除"]})})]}),(0,t.jsx)(d.av,{value:"saved",className:"mt-4 space-y-4",children:(0,t.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:0===ey.length?(0,t.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,t.jsx)(E.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,t.jsx)("p",{children:"まだ保存済み台本がありません"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"台本を編集して保存すると、ここに表示されます"})]}):ey.map(e=>(0,t.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all",children:[(0,t.jsx)(m.aR,{className:"pb-3",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,t.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.title}),e.version>1&&(0,t.jsxs)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:["v",e.version]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0] mb-2",children:[(0,t.jsx)(y.A,{className:"h-3 w-3"}),"更新: ",new Date(e.updatedAt).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),(0,t.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-2",children:[e.introduction.substring(0,50),"..."]})]})})}),(0,t.jsxs)(m.wL,{className:"gap-2 pt-0",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>eU(e),className:"flex-1 border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"読み込む"]}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),confirm("この保存済み台本を削除しますか？")&&eG(e.id)},className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})]},e.id))})})]}),[eI,ex,eL,eh,eb,eO,e$,eP,ey,eU,eG]),e1=(0,l.useMemo)(()=>(0,t.jsxs)(d.tU,{value:eI,onValueChange:eF,className:"w-full",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(d.Xi,{value:"generate",children:"生成"}),(0,t.jsx)(d.Xi,{value:"persona",children:"ペルソナ"}),(0,t.jsx)(d.Xi,{value:"history",children:"履歴"}),(0,t.jsx)(d.Xi,{value:"saved",children:"保存済み"})]}),(0,t.jsxs)(d.av,{value:"generate",className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{htmlFor:"keywords",children:"キーワード"}),(0,t.jsx)(n.p,{id:"keywords",placeholder:"例: ゲーム実況、マリオカート"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{htmlFor:"direction",children:"企画の方向性"}),(0,t.jsxs)(o.l6,{children:[(0,t.jsx)(o.bq,{id:"direction",children:(0,t.jsx)(o.yv,{placeholder:"方向性を選択"})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"funny",children:"面白い系"}),(0,t.jsx)(o.eb,{value:"moving",children:"感動系"}),(0,t.jsx)(o.eb,{value:"educational",children:"解説・学習系"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{children:"現在のトレンド"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(x.E,{variant:"outline",className:"cursor-pointer",children:"#VTuberの夏休み"}),(0,t.jsx)(x.E,{variant:"outline",className:"cursor-pointer",children:"#ゲーム実況"}),(0,t.jsx)(x.E,{variant:"outline",className:"cursor-pointer",children:"#新作ゲーム"})]})]}),(0,t.jsx)(i.$,{className:"w-full",onClick:eZ,disabled:p,children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin"}),"生成中..."]}):"企画案を生成する"})]}),(0,t.jsxs)(d.av,{value:"persona",className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{htmlFor:"persona-select",children:"使用するペルソナ"}),(0,t.jsxs)(o.l6,{children:[(0,t.jsx)(o.bq,{id:"persona-select",children:(0,t.jsx)(o.yv,{placeholder:"ペルソナを選択"})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"persona-1",children:"元気なゲーマー女子"}),(0,t.jsx)(o.eb,{value:"persona-2",children:"クールな解説お姉さん"})]})]})]}),(0,t.jsx)(i.$,{variant:"outline",className:"w-full",children:"ペルソナを管理する"})]}),(0,t.jsxs)(d.av,{value:"history",className:"mt-4 space-y-4",children:[ex.length>0&&(0,t.jsxs)("div",{className:"space-y-3 p-3 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(r.J,{htmlFor:"history-search-desktop",className:"flex items-center gap-2 text-sm text-[#E0E0E0]",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),"検索"]}),(0,t.jsx)(n.p,{id:"history-search-desktop",placeholder:"キーワード、方向性、タイトルで検索...",value:eh,onChange:e=>eA(e.target.value),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{className:"text-sm text-[#A0A0A0]",children:"カテゴリ"}),(0,t.jsxs)(o.l6,{value:eb,onValueChange:e=>ep(e),children:[(0,t.jsx)(o.bq,{className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,t.jsx)(o.yv,{})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"all",children:"すべて"}),Object.keys(V).map(e=>(0,t.jsx)(o.eb,{value:e,children:V[e].label},e))]})]})]}),(eh||"all"!==eb)&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{eA(""),ep("all")},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})}),(0,t.jsxs)("div",{className:"text-xs text-[#A0A0A0]",children:[eL.length,"件の履歴が見つかりました（全",ex.length,"件中）"]})]}),(0,t.jsx)("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:0===ex.length?(0,t.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,t.jsx)(f.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,t.jsx)("p",{children:"まだ履歴がありません"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"企画案を生成すると、ここに履歴が表示されます"})]}):0===eL.length?(0,t.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,t.jsx)(v.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,t.jsx)("p",{children:"検索条件に一致する履歴がありません"})]}):eL.map(e=>(0,t.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all cursor-pointer",onClick:()=>eO(e),children:[(0,t.jsx)(m.aR,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,t.jsxs)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:[e.ideas.length,"件の企画案"]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[e.keywords&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.keywords}),e.direction&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:e.direction})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0]",children:[(0,t.jsx)(y.A,{className:"h-3 w-3"}),new Date(e.timestamp).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),e$(e.id)},className:"h-8 w-8 text-[#A0A0A0] hover:text-red-400 hover:bg-red-500/10","aria-label":"履歴を削除",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})}),(0,t.jsx)(m.Wu,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[e.ideas.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-1 flex items-center gap-2",children:[(0,t.jsx)("div",{className:(0,O.cn)("w-2 h-2 rounded-full",V[e.category].bgColor)}),e.title]},e.id)),e.ideas.length>3&&(0,t.jsxs)("div",{className:"text-xs text-[#4A4A4A]",children:["+",e.ideas.length-3,"件"]})]})})]},e.id))}),ex.length>0&&(0,t.jsx)("div",{className:"flex justify-end pt-2 border-t border-[#4A4A4A]",children:(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eP,className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:[(0,t.jsx)(w.A,{className:"h-4 w-4 mr-1"}),"すべての履歴を削除"]})})]}),(0,t.jsx)(d.av,{value:"saved",className:"mt-4 space-y-4",children:(0,t.jsx)("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:0===ey.length?(0,t.jsxs)("div",{className:"text-center py-8 text-[#A0A0A0]",children:[(0,t.jsx)(E.A,{className:"h-8 w-8 mx-auto mb-2"}),(0,t.jsx)("p",{children:"まだ保存済み台本がありません"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"台本を編集して保存すると、ここに表示されます"})]}):ey.map(e=>(0,t.jsxs)(m.Zp,{className:"bg-[#2D2D2D] border-[#4A4A4A] hover:border-[#4A4A4A]/80 transition-all",children:[(0,t.jsx)(m.aR,{className:"pb-3",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 text-[#A0A0A0]"}),(0,t.jsx)(m.ZB,{className:"text-sm font-semibold text-[#E0E0E0]",children:e.title}),e.version>1&&(0,t.jsxs)(x.E,{variant:"outline",className:"text-xs bg-[#1A1A1A] text-[#A0A0A0] border-[#4A4A4A]",children:["v",e.version]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-[#A0A0A0] mb-2",children:[(0,t.jsx)(y.A,{className:"h-3 w-3"}),"更新: ",new Date(e.updatedAt).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]}),(0,t.jsxs)("div",{className:"text-xs text-[#A0A0A0] line-clamp-2",children:[e.introduction.substring(0,50),"..."]})]})})}),(0,t.jsxs)(m.wL,{className:"gap-2 pt-0",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>eU(e),className:"flex-1 border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"読み込む"]}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:s=>{s.stopPropagation(),confirm("この保存済み台本を削除しますか？")&&eG(e.id)},className:"border-red-500/50 text-red-400 hover:bg-red-500/10",children:(0,t.jsx)(w.A,{className:"h-4 w-4"})})]})]},e.id))})})]}),[eI,eZ,p,ey,eU,eG]);return(0,t.jsxs)("div",{className:"relative flex flex-col lg:flex-row lg:h-[calc(100vh-4.1rem)] lg:overflow-hidden",children:[(0,t.jsx)("aside",{className:"\n        ".concat(eS&&ek?"w-1/4":"w-0","\n        ").concat(eS?"border-r border-[#4A4A4A]":"","\n        transition-all duration-300\n        overflow-hidden\n        flex-shrink-0\n        bg-[#1A1A1A]\n        relative\n      "),children:eS&&ek&&(0,t.jsxs)("div",{className:"h-full overflow-y-auto p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-[#E0E0E0]",children:"企画・台本サポート"}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>eD(!1),className:"h-8 w-8","aria-label":"サイドバーを閉じる",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-[#A0A0A0]",children:(0,t.jsx)("path",{d:"M18 6L6 18M6 6l12 12"})})})]}),e1]})}),(0,t.jsx)("main",{className:"flex-1 lg:w-1/2 p-4 overflow-y-auto lg:pt-4 pt-20 lg:border-r border-[#4A4A4A]",children:p?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[600px]",children:[(0,t.jsx)(j.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4 animate-spin","aria-hidden":"true"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0]",children:"企画案を生成中..."}),(0,t.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"AIがあなたにぴったりの企画案を考えています。しばらくお待ちください。"})]}),(0,t.jsx)("div",{className:"space-y-4",role:"status","aria-label":"企画案を生成中",children:[1,2,3].map(e=>(0,t.jsxs)(m.Zp,{children:[(0,t.jsxs)(m.aR,{children:[(0,t.jsx)(L.EA,{className:"h-6 w-3/4"}),(0,t.jsx)(L.EA,{className:"h-4 w-full"}),(0,t.jsx)(L.EA,{className:"h-4 w-2/3"})]}),(0,t.jsxs)(m.Wu,{children:[(0,t.jsx)(L.EA,{className:"h-4 w-1/4 mb-2"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)(L.EA,{className:"h-6 w-20"}),(0,t.jsx)(L.EA,{className:"h-6 w-24"}),(0,t.jsx)(L.EA,{className:"h-6 w-16"})]})]})]},e))})]}):0===e.length?(0,t.jsxs)("div",{className:"w-full h-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[600px]",children:[(0,t.jsx)(g.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0]",children:"企画案を生成しよう！"}),(0,t.jsx)("p",{className:"text-[#A0A0A0] mt-2",children:"サイドパネルからキーワードや企画の方向性を入力して、「企画案を生成する」ボタンを押してください。"})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[e.length>0&&(0,t.jsx)(d.tU,{value:ei,onValueChange:e=>en(e),className:"mb-4",children:(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-3 bg-[#2D2D2D] border border-[#4A4A4A]",children:[(0,t.jsxs)(d.Xi,{value:"all",className:"data-[state=active]:bg-[#1A1A1A]",children:["すべて (",e.length,")"]}),(0,t.jsxs)(d.Xi,{value:"favorites",className:"data-[state=active]:bg-[#1A1A1A]",children:["お気に入り (",e.filter(e=>e.isFavorite).length,")"]}),(0,t.jsx)(d.Xi,{value:"recent",className:"data-[state=active]:bg-[#1A1A1A]",children:"最近生成"})]})}),e.length>0&&(0,t.jsxs)("div",{className:"mb-4 space-y-4 p-4 bg-[#2D2D2D] rounded-lg border border-[#4A4A4A]",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(r.J,{htmlFor:"idea-search",className:"flex items-center gap-2 text-[#E0E0E0]",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),"検索"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(v.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-[#A0A0A0]"}),(0,t.jsx)(n.p,{id:"idea-search",placeholder:"タイトル、説明、ポイントで検索...",value:G,onChange:e=>H(e.target.value),className:"pl-10 bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"}),G&&(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>H(""),className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-7 w-7 hover:bg-[#4A4A4A]","aria-label":"検索をクリア",children:(0,t.jsx)(N.A,{className:"h-4 w-4 text-[#A0A0A0]"})})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(r.J,{className:"flex items-center gap-2 text-[#E0E0E0]",children:[(0,t.jsx)(k.A,{className:"h-4 w-4"}),"フィルター"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{className:"text-sm text-[#A0A0A0]",children:"カテゴリ"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.keys(V).map(e=>{let s=K.includes(e),a=V[e],l=a.icon;return(0,t.jsxs)(x.E,{className:(0,O.cn)("cursor-pointer transition-all text-xs font-medium",s?a.badgeColor+" border-2 shadow-md":"bg-[#2D2D2D] text-[#A0A0A0] border-[#4A4A4A] hover:border-[#A0A0A0] hover:bg-[#1A1A1A]"),onClick:()=>{Y(a=>s?a.filter(s=>s!==e):[...a,e])},children:[(0,t.jsx)(l,{className:"h-3 w-3 mr-1"}),a.label]},e)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{className:"text-sm text-[#A0A0A0]",children:"難易度"}),(0,t.jsxs)(o.l6,{value:Q,onValueChange:e=>ee(e),children:[(0,t.jsx)(o.bq,{className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0]",children:(0,t.jsx)(o.yv,{})}),(0,t.jsxs)(o.gC,{children:[(0,t.jsx)(o.eb,{value:"all",children:"すべて"}),(0,t.jsx)(o.eb,{value:"easy",children:"初級"}),(0,t.jsx)(o.eb,{value:"medium",children:"中級"}),(0,t.jsx)(o.eb,{value:"hard",children:"上級"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(r.J,{className:"text-sm text-[#A0A0A0]",children:"予想時間（分）"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(n.p,{type:"number",placeholder:"最小",min:"0",value:es.min||"",onChange:e=>ea(s=>({...s,min:e.target.value?parseInt(e.target.value):void 0})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"}),(0,t.jsx)("span",{className:"text-[#A0A0A0]",children:"〜"}),(0,t.jsx)(n.p,{type:"number",placeholder:"最大",min:"0",value:es.max||"",onChange:e=>ea(s=>({...s,max:e.target.value?parseInt(e.target.value):void 0})),className:"bg-[#1A1A1A] border-[#4A4A4A] text-[#E0E0E0] placeholder:text-[#4A4A4A]"})]})]})]}),(G||K.length>0||"all"!==Q||void 0!==es.min||void 0!==es.max)&&(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{H(""),Y([]),ee("all"),ea({})},className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A]",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})})]}),(0,t.jsxs)("div",{className:"text-sm text-[#A0A0A0] pt-2 border-t border-[#4A4A4A]",children:[(0,t.jsx)("span",{className:"font-medium text-[#E0E0E0]",children:eM.length}),"件の企画案が見つかりました",eM.length<e.length&&(0,t.jsxs)("span",{className:"ml-2",children:["（全",e.length,"件中）"]})]})]}),e.length>0&&0===eM.length&&(0,t.jsxs)("div",{className:"w-full bg-[#2D2D2D] rounded-md flex flex-col items-center justify-center text-center p-8 min-h-[400px] border border-[#4A4A4A]",children:[(0,t.jsx)(v.A,{className:"w-12 h-12 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-[#E0E0E0] mb-2",children:"検索条件に一致する企画案がありません"}),(0,t.jsx)("p",{className:"text-[#A0A0A0] mb-4",children:"検索条件やフィルターを変更してお試しください。"}),(0,t.jsxs)(i.$,{variant:"outline",onClick:()=>{H(""),Y([]),ee("all"),ea({})},className:"border-[#4A4A4A]",children:[(0,t.jsx)(N.A,{className:"h-4 w-4 mr-1"}),"フィルターをクリア"]})]}),eM.length>0&&(0,t.jsx)(B.JY,{onDragEnd:eR,children:(0,t.jsx)(B.gL,{droppableId:"ideas",children:e=>(0,t.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-4",children:[eM.map((e,s)=>{let l=V[e.category],n=l.icon;return(0,t.jsx)(B.sx,{draggableId:e.id.toString(),index:s,isDragDisabled:e.isFavorite,children:(s,r)=>(0,t.jsxs)(m.Zp,{ref:s.innerRef,...s.draggableProps,className:(0,O.cn)("cursor-pointer transition-all relative overflow-hidden","hover:border-primary hover:shadow-lg hover:shadow-primary/20",a===e.id&&"border-primary shadow-md",r.isDragging&&"shadow-2xl opacity-90 bg-[#3A3A3A]",e.isFavorite&&"border-l-4 border-l-yellow-500/80","bg-gradient-to-br ".concat(l.gradient),!e.isFavorite&&"border-l-4 ".concat(l.borderColor)),onClick:()=>eB(e.id),role:"button",tabIndex:0,"aria-expanded":a===e.id,"aria-label":"企画案: ".concat(e.title),onKeyDown:s=>{("Enter"===s.key||" "===s.key)&&(s.preventDefault(),eB(e.id))},children:[!e.isFavorite&&(0,t.jsx)("div",{...s.dragHandleProps,className:"absolute left-0 top-0 bottom-0 w-6 flex items-center justify-center cursor-grab active:cursor-grabbing hover:bg-[#4A4A4A]/50 z-10 rounded-l-md transition-colors",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(D.A,{className:"h-4 w-4 text-[#A0A0A0]"})}),(0,t.jsx)(m.aR,{className:(0,O.cn)("pb-3",!e.isFavorite&&"pl-8"),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:(0,O.cn)("w-12 h-12 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",l.bgColor,"border border-[#4A4A4A]"),children:(0,t.jsx)(n,{className:"h-6 w-6 text-[#E0E0E0]"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-2",children:[(0,t.jsx)(m.ZB,{className:"text-lg font-semibold line-clamp-2 text-[#E0E0E0] flex-1",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:s=>{s.stopPropagation(),eT(e.id)},className:(0,O.cn)("h-8 w-8",e.isFavorite?"text-yellow-400 hover:text-yellow-300 hover:bg-yellow-500/10":"text-[#A0A0A0] hover:text-yellow-400 hover:bg-yellow-500/10"),"aria-label":e.isFavorite?"お気に入りから削除":"お気に入りに追加",children:(0,t.jsx)(S.A,{className:(0,O.cn)("h-4 w-4 transition-all",e.isFavorite&&"fill-current")})}),(0,t.jsxs)(x.E,{variant:"outline",className:"flex-shrink-0 border-[#4A4A4A] text-[#A0A0A0]",children:[(0,t.jsx)(y.A,{className:"h-3 w-3 mr-1"}),e.estimatedDuration,"分"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[(0,t.jsx)(x.E,{className:(0,O.cn)(l.badgeColor,"text-xs font-medium"),children:l.label}),e.difficulty&&(0,t.jsx)(x.E,{variant:"outline",className:(0,O.cn)("text-xs font-medium border-[#4A4A4A]","easy"===e.difficulty&&"text-green-400 border-green-500/50 bg-green-500/10","medium"===e.difficulty&&"text-yellow-400 border-yellow-500/50 bg-yellow-500/10","hard"===e.difficulty&&"text-red-400 border-red-500/50 bg-red-500/10"),children:"easy"===e.difficulty?"初級":"medium"===e.difficulty?"中級":"上級"})]}),(0,t.jsx)(m.BT,{className:"line-clamp-2 text-[#A0A0A0]",children:e.description})]})]})}),(0,t.jsxs)(m.Wu,{children:[(0,t.jsx)("h4",{className:"font-semibold text-sm mb-2 text-[#E0E0E0]",children:"おすすめポイント"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.points.map((e,s)=>(0,t.jsx)(x.E,{variant:"secondary",className:"text-xs bg-[#2D2D2D] text-[#A0A0A0] border-[#4A4A4A]",children:e},s))})]}),(0,t.jsxs)(m.wL,{className:"gap-2",children:[(0,t.jsx)(i.$,{variant:"outline","aria-label":"この企画を調整",className:"border-[#4A4A4A]",children:"この企画を調整"}),(0,t.jsx)(i.$,{onClick:()=>eK(e),disabled:_,"aria-label":"".concat(e.title,"の台本を生成"),children:_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),"台本生成中..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.A,{className:"mr-2 h-4 w-4","aria-hidden":"true"}),"台本を生成する"]})})]})]})},e.id)}),e.placeholder]})})})]})}),(0,t.jsx)("aside",{className:"\n        hidden lg:block\n        w-1/4\n        overflow-y-auto\n        bg-[#1A1A1A]\n        border-l border-[#4A4A4A]\n        flex-shrink-0\n      ",children:(0,t.jsx)("div",{className:"p-4 h-full",children:A&&a===A.ideaId?(0,t.jsxs)(m.Zp,{className:"bg-[#2D2D2D]",children:[(0,t.jsx)(m.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(m.ZB,{className:"text-lg flex items-center gap-2 text-[#E0E0E0]",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"}),"台本プレビュー"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eY,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"印刷",children:[(0,t.jsx)(I.A,{className:"h-4 w-4 mr-1"}),"印刷"]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eQ,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"PDFエクスポート",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})}),(0,t.jsxs)(m.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 pb-2 border-b border-[#4A4A4A]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:eV,disabled:ej<=0,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"アンドゥ",children:(0,t.jsx)(z.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:eq,disabled:ej>=eu.length-1,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"リドゥ",children:(0,t.jsx)(J.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{A&&(eX(A),e_(!1))},disabled:!eN||"saving"===eE,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"保存",children:"saving"===eE?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-1 animate-spin"}),"保存中..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)($.A,{className:"h-4 w-4 mr-1"}),"保存"]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[eH&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#A0A0A0]",children:[(0,t.jsxs)("span",{children:["文字数: ",eH.total.chars]}),(0,t.jsxs)("span",{children:["行数: ",eH.total.lines]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(y.A,{className:"h-3 w-3"}),"予想時間: ",eH.total.estimatedMinutes,"分"]})]}),A&&(0,t.jsxs)("div",{className:"ml-auto",children:["saved"===eE&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-green-500/10 text-green-400 border-green-500/50",children:"保存済み"}),"editing"===eE&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-yellow-500/10 text-yellow-400 border-yellow-500/50",children:"編集中"}),"saving"===eE&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-blue-500/10 text-blue-400 border-blue-500/50",children:"保存中..."})]})]})]}),(0,t.jsxs)("div",{className:"border-l-4 border-blue-500/50 bg-blue-500/5 p-4 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h5",{className:"font-bold text-[#E0E0E0]",children:"【導入】"}),eH&&(0,t.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[eH.introduction.chars,"文字 / ",eH.introduction.lines,"行"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:A.introduction.split("\n").map((e,s)=>(0,t.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,t.jsx)(c.T,{value:A.introduction,onChange:e=>eW("introduction",e.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[120px]",placeholder:"導入部分を入力..."})]})]}),(0,t.jsxs)("div",{className:"border-l-4 border-green-500/50 bg-green-500/5 p-4 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h5",{className:"font-bold text-[#E0E0E0]",children:"【本題】"}),eH&&(0,t.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[eH.body.chars,"文字 / ",eH.body.lines,"行"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:A.body.split("\n").map((e,s)=>(0,t.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,t.jsx)(c.T,{value:A.body,onChange:e=>eW("body",e.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[200px]",placeholder:"本題部分を入力..."})]})]}),(0,t.jsxs)("div",{className:"border-l-4 border-purple-500/50 bg-purple-500/5 p-4 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h5",{className:"font-bold text-[#E0E0E0]",children:"【結論】"}),eH&&(0,t.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[eH.conclusion.chars,"文字 / ",eH.conclusion.lines,"行"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:A.conclusion.split("\n").map((e,s)=>(0,t.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,t.jsx)(c.T,{value:A.conclusion,onChange:e=>eW("conclusion",e.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[120px]",placeholder:"結論部分を入力..."})]})]})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px] text-center p-8",children:[(0,t.jsx)(C.A,{className:"w-16 h-16 text-[#A0A0A0] mb-4","aria-hidden":"true"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-[#E0E0E0] mb-2",children:"台本プレビュー"}),(0,t.jsx)("p",{className:"text-[#A0A0A0]",children:"企画案を選択して「台本を生成する」ボタンを押すと、ここに台本が表示されます。"})]})})}),(0,t.jsx)("div",{className:"p-4 border-t border-[#4A4A4A] lg:hidden",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)(P.A,{className:"h-5 w-5"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"企画案生成"})]}),e0()]})}),!eS&&A&&a===A.ideaId&&(0,t.jsx)("div",{className:"p-4 border-t border-[#4A4A4A] lg:hidden bg-[#1A1A1A]",children:(0,t.jsxs)(m.Zp,{className:"bg-[#2D2D2D]",children:[(0,t.jsx)(m.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(m.ZB,{className:"text-lg flex items-center gap-2 text-[#E0E0E0]",children:[(0,t.jsx)(C.A,{className:"h-5 w-5"}),"台本プレビュー"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eY,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"印刷",children:[(0,t.jsx)(I.A,{className:"h-4 w-4 mr-1"}),"印刷"]}),(0,t.jsxs)(i.$,{variant:"outline",size:"sm",onClick:eQ,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0]",title:"PDFエクスポート",children:[(0,t.jsx)(F.A,{className:"h-4 w-4 mr-1"}),"PDF"]})]})]})}),(0,t.jsxs)(m.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 pb-2 border-b border-[#4A4A4A]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:eV,disabled:ej<=0,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"アンドゥ",children:(0,t.jsx)(z.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:eq,disabled:ej>=eu.length-1,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"リドゥ",children:(0,t.jsx)(J.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{variant:"outline",size:"sm",onClick:()=>{A&&(eX(A),e_(!1))},disabled:!eN||"saving"===eE,className:"border-[#4A4A4A] text-[#A0A0A0] hover:bg-[#4A4A4A] hover:text-[#E0E0E0] disabled:opacity-50 disabled:cursor-not-allowed",title:"保存",children:"saving"===eE?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.A,{className:"h-4 w-4 mr-1 animate-spin"}),"保存中..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)($.A,{className:"h-4 w-4 mr-1"}),"保存"]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[eH&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-[#A0A0A0]",children:[(0,t.jsxs)("span",{children:["文字数: ",eH.total.chars]}),(0,t.jsxs)("span",{children:["行数: ",eH.total.lines]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(y.A,{className:"h-3 w-3"}),"予想時間: ",eH.total.estimatedMinutes,"分"]})]}),A&&(0,t.jsxs)("div",{className:"ml-auto",children:["saved"===eE&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-green-500/10 text-green-400 border-green-500/50",children:"保存済み"}),"editing"===eE&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-yellow-500/10 text-yellow-400 border-yellow-500/50",children:"編集中"}),"saving"===eE&&(0,t.jsx)(x.E,{variant:"outline",className:"text-xs bg-blue-500/10 text-blue-400 border-blue-500/50",children:"保存中..."})]})]})]}),(0,t.jsxs)("div",{className:"border-l-4 border-blue-500/50 bg-blue-500/5 p-4 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h5",{className:"font-bold text-[#E0E0E0]",children:"【導入】"}),eH&&(0,t.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[eH.introduction.chars,"文字 / ",eH.introduction.lines,"行"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:A.introduction.split("\n").map((e,s)=>(0,t.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,t.jsx)(c.T,{value:A.introduction,onChange:e=>eW("introduction",e.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[120px]",placeholder:"導入部分を入力..."})]})]}),(0,t.jsxs)("div",{className:"border-l-4 border-green-500/50 bg-green-500/5 p-4 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h5",{className:"font-bold text-[#E0E0E0]",children:"【本題】"}),eH&&(0,t.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[eH.body.chars,"文字 / ",eH.body.lines,"行"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:A.body.split("\n").map((e,s)=>(0,t.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,t.jsx)(c.T,{value:A.body,onChange:e=>eW("body",e.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[200px]",placeholder:"本題部分を入力..."})]})]}),(0,t.jsxs)("div",{className:"border-l-4 border-purple-500/50 bg-purple-500/5 p-4 rounded",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h5",{className:"font-bold text-[#E0E0E0]",children:"【結論】"}),eH&&(0,t.jsxs)("span",{className:"text-xs text-[#A0A0A0]",children:[eH.conclusion.chars,"文字 / ",eH.conclusion.lines,"行"]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-8 bg-[#2D2D2D] border-r border-[#4A4A4A] text-xs text-[#666] font-mono flex flex-col items-end pr-2 py-2 overflow-hidden",children:A.conclusion.split("\n").map((e,s)=>(0,t.jsx)("div",{className:"leading-6 whitespace-nowrap",children:s+1},s))}),(0,t.jsx)(c.T,{value:A.conclusion,onChange:e=>eW("conclusion",e.target.value),className:"pl-10 font-mono text-sm text-[#E0E0E0] bg-[#1A1A1A] border-[#4A4A4A] resize-none min-h-[120px]",placeholder:"結論部分を入力..."})]})]})]})]})}),!eS&&ek&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 z-30",onClick:()=>eD(!1)}),!eS&&(0,t.jsx)(M.B,{isOpen:ek,onClose:()=>eD(!1),title:"企画・台本サポート",isDesktop:eS,children:e4}),eS&&!ek&&(0,t.jsx)(M.R,{onOpen:()=>eD(!0),isDesktop:eS,tabs:[{id:"generate",label:"生成",icon:(0,t.jsx)(g.A,{className:"h-4 w-4"})},{id:"persona",label:"ペルソナ",icon:(0,t.jsx)(P.A,{className:"h-4 w-4"})},{id:"history",label:"履歴",icon:(0,t.jsx)(C.A,{className:"h-4 w-4"})},{id:"saved",label:"保存済み",icon:(0,t.jsx)(E.A,{className:"h-4 w-4"})}],onTabClick:eF})]})}},96681:(e,s,a)=>{Promise.resolve().then(a.bind(a,13631))}},e=>{e.O(0,[96,76,358],()=>e(e.s=96681)),_N_E=e.O()}]);