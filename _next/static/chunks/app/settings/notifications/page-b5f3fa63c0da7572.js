(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{1594:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(18841),i=t(58669),c=t(28198),r=t(98156),l=t(98356),n=t(23254),o=t(65939),d=t(24156),m=t(80889),x=t(63275),h=t(88077);let N="vtuber-tools-notification-settings";function A(){let[e,s]=(0,i.useState)({emailNewTools:!1,emailUpdates:!0,pushMentions:!0,pushComments:!1,browserNotifications:!1}),[t,A]=(0,i.useState)(!1);(0,i.useEffect)(()=>{try{let e=localStorage.getItem(N);e&&s(JSON.parse(e))}catch(e){d.vF.error("通知設定読み込み失敗",e,"NotificationsPage"),o.oR.error("通知設定の読み込みに失敗しました。")}finally{A(!0)}},[]);let j=(e,t)=>{s(s=>{let a={...s,[e]:t};try{localStorage.setItem(N,JSON.stringify(a))}catch(e){d.vF.error("通知設定保存失敗",e,"NotificationsPage"),o.oR.error("通知設定の保存に失敗しました。")}return a})},p=async()=>{if(!("Notification"in window))return void o.oR.error("このブラウザは通知機能をサポートしていません。");try{let e=await Notification.requestPermission();"granted"===e?(j("browserNotifications",!0),o.oR.success("ブラウザ通知が有効になりました。")):o.oR.error("ブラウザ通知の許可が必要です。")}catch(e){d.vF.error("通知許可取得失敗",e,"NotificationsPage"),o.oR.error("通知の許可に失敗しました。")}};return t?(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)(r.Zp,{className:"bg-[#2D2D2D] border-[#20B2AA]/30",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-[#20B2AA]"}),"ブラウザ通知"]}),(0,a.jsx)(r.BT,{className:"text-[#A0A0A0]",children:"デスクトップ通知を有効にして、リアルタイムで情報を受け取ります。"})]}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"browser-notifications",className:"text-white",children:"ブラウザ通知を許可"}),(0,a.jsx)("p",{className:"text-sm text-[#808080]",children:"このブラウザで通知を受け取る"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.d,{id:"browser-notifications",checked:e.browserNotifications,onCheckedChange:e=>{e?p():j("browserNotifications",!1)}}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.browserNotifications?"text-[#20B2AA]":"text-[#808080]"),children:e.browserNotifications?"ON":"OFF"})]})]}),!e.browserNotifications&&(0,a.jsxs)(c.$,{variant:"outline",onClick:p,className:"mt-4 border-[#20B2AA] text-[#20B2AA] hover:bg-[#20B2AA]/10 w-full",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"通知の許可をリクエスト"]})]})]}),(0,a.jsxs)(r.Zp,{className:"bg-[#2D2D2D] border-[#3A3A3A]",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-[#20B2AA]"}),"メール通知"]}),(0,a.jsx)(r.BT,{className:"text-[#A0A0A0]",children:"メールアドレス宛に通知を送信します。"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-[#3A3A3A] p-4 bg-[#1A1A1A]",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"email-new-tools",className:"text-white",children:"新しいツールのお知らせ"}),(0,a.jsx)("p",{className:"text-sm text-[#808080]",children:"新しいツールや機能が追加されたときにメールで通知します。"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.d,{id:"email-new-tools",checked:e.emailNewTools,onCheckedChange:e=>j("emailNewTools",e)}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.emailNewTools?"text-[#20B2AA]":"text-[#808080]"),children:e.emailNewTools?"ON":"OFF"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-[#3A3A3A] p-4 bg-[#1A1A1A]",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"email-updates",className:"text-white",children:"重要な更新"}),(0,a.jsx)("p",{className:"text-sm text-[#808080]",children:"利用規約の変更など、重要なお知らせをメールで通知します。"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.d,{id:"email-updates",checked:e.emailUpdates,onCheckedChange:e=>j("emailUpdates",e)}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.emailUpdates?"text-[#20B2AA]":"text-[#808080]"),children:e.emailUpdates?"ON":"OFF"})]})]})]})]}),(0,a.jsxs)(r.Zp,{className:"bg-[#2D2D2D] border-[#3A3A3A]",children:[(0,a.jsxs)(r.aR,{children:[(0,a.jsxs)(r.ZB,{className:"text-white flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-[#20B2AA]"}),"プッシュ通知"]}),(0,a.jsx)(r.BT,{className:"text-[#A0A0A0]",children:"アプリ内でのリアルタイム通知設定"})]}),(0,a.jsxs)(r.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-[#3A3A3A] p-4 bg-[#1A1A1A]",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"push-mentions",className:"text-white",children:"メンション"}),(0,a.jsx)("p",{className:"text-sm text-[#808080]",children:"他のユーザーからメンションされたときに通知します。"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.d,{id:"push-mentions",checked:e.pushMentions,onCheckedChange:e=>j("pushMentions",e)}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.pushMentions?"text-[#20B2AA]":"text-[#808080]"),children:e.pushMentions?"ON":"OFF"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-[#3A3A3A] p-4 bg-[#1A1A1A]",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.J,{htmlFor:"push-comments",className:"text-white",children:"コメント"}),(0,a.jsx)("p",{className:"text-sm text-[#808080]",children:"あなたの投稿にコメントがあったときに通知します。"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.d,{id:"push-comments",checked:e.pushComments,onCheckedChange:e=>j("pushComments",e)}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.pushComments?"text-[#20B2AA]":"text-[#808080]"),children:e.pushComments?"ON":"OFF"})]})]})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(c.$,{onClick:()=>{try{localStorage.setItem(N,JSON.stringify(e)),o.oR.success("通知設定を保存しました。")}catch(e){d.vF.error("通知設定保存失敗",e,"NotificationsPage"),o.oR.error("通知設定の保存に失敗しました。")}},className:"bg-[#20B2AA] hover:bg-[#1a9b94] text-white",children:"設定を保存"})})]}):(0,a.jsx)("div",{className:"p-8 text-center text-[#A0A0A0]",children:"通知設定を読み込み中..."})}},70838:(e,s,t)=>{Promise.resolve().then(t.bind(t,1594))}},e=>{e.O(0,[96,76,358],()=>e(e.s=70838)),_N_E=e.O()}]);