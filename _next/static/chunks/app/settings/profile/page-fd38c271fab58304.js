(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{58733:(e,s,a)=>{Promise.resolve().then(a.bind(a,81767))},81767:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var t=a(18841),r=a(58669),l=a(83199),c=a(28198),i=a(98156),n=a(77902),d=a(98356),o=a(65939),x=a(71121),h=a(20579),m=a(42542),A=a(18454);let u=l.Ikc({name:l.YjP().min(1,{message:"名前は必須です。"}),bio:l.YjP().max(160,{message:"自己紹介は160文字以内で入力してください。"}).optional(),avatar:l.YjP().url({message:"有効なURLを入力してください。"}).optional()});function p(){let[e,s]=(0,r.useState)({name:"",bio:"",avatar:""}),[a,l]=(0,r.useState)({}),[p,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[N,f]=(0,r.useState)(!1),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{s({name:"VTuber太郎",bio:"こんにちは！バーチャル世界で活動するVTuberです。ゲーム実況や歌ってみたを中心に活動しています。",avatar:"https://github.com/shadcn.png"}),j(!0)},[]);let w=e=>{let{id:t,value:r}=e.target;s(e=>({...e,[t]:r})),a[t]&&l(e=>({...e,[t]:void 0}))},y=async e=>{if(!e.type.startsWith("image/"))return void o.oR.error("画像ファイルを選択してください。");f(!0);let a=new FileReader;a.onloadend=()=>{let e=a.result;s(s=>({...s,avatar:e})),o.oR.success("画像がアップロードされました。"),f(!1)},a.readAsDataURL(e)};return p?(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)(i.Zp,{className:"bg-[#2D2D2D] border-[#3A3A3A]",children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{className:"text-white",children:"プロフィール情報"}),(0,t.jsx)(i.BT,{className:"text-[#A0A0A0]",children:"あなたの公開プロフィールを編集します。"})]}),(0,t.jsxs)(i.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(d.J,{htmlFor:"avatar",className:"text-white",children:"アバター画像"}),(0,t.jsxs)("div",{onDragOver:e=>{e.preventDefault(),v(!0)},onDragLeave:()=>{v(!1)},onDrop:e=>{e.preventDefault(),v(!1);let s=e.dataTransfer.files[0];s&&y(s)},onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},className:"\n                flex flex-col items-center justify-center border-2 border-dashed rounded-lg p-8\n                cursor-pointer transition-all duration-200\n                ".concat(b?"border-[#20B2AA] bg-[#20B2AA]/10":"border-[#3A3A3A] hover:border-[#20B2AA]/50 bg-[#1A1A1A]","\n              "),children:[(0,t.jsx)("input",{ref:g,type:"file",accept:"image/*",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];a&&y(a)},className:"hidden"}),N?(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#20B2AA] mx-auto"}),(0,t.jsx)("p",{className:"text-[#A0A0A0]",children:"アップロード中..."})]}):e.avatar?(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)(x.eu,{className:"h-24 w-24",children:[(0,t.jsx)(x.BK,{src:e.avatar,alt:"アバター"}),(0,t.jsx)(x.q5,{children:"VT"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity rounded-full",children:(0,t.jsx)(h.A,{className:"h-6 w-6 text-white"})})]}):(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsx)(h.A,{className:"h-12 w-12 text-[#20B2AA] mx-auto"}),(0,t.jsx)("p",{className:"text-[#A0A0A0]",children:"クリックまたは画像をドラッグ&ドロップ"}),(0,t.jsx)("p",{className:"text-sm text-[#808080]",children:"PNG, JPG, GIF形式に対応"})]})]}),e.avatar&&(0,t.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),s(e=>({...e,avatar:""})),g.current&&(g.current.value="")},className:"text-red-400 hover:text-red-500 hover:bg-red-500/10",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"画像を削除"]}),a.avatar&&(0,t.jsx)("p",{className:"text-sm text-red-400 mt-1",children:a.avatar[0]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"name",className:"text-white",children:"名前"}),(0,t.jsx)(n.p,{id:"name",value:e.name,onChange:w,className:"bg-[#1A1A1A] border-[#3A3A3A] text-white placeholder:text-[#808080] focus:border-[#20B2AA]"}),a.name&&(0,t.jsx)("p",{className:"text-sm text-red-400 mt-1",children:a.name[0]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.J,{htmlFor:"bio",className:"text-white",children:"自己紹介"}),(0,t.jsx)("textarea",{id:"bio",value:e.bio||"",onChange:w,maxLength:160,className:"flex min-h-[120px] w-full rounded-md border border-[#3A3A3A] bg-[#1A1A1A] px-3 py-2 text-sm text-white placeholder:text-[#808080] focus:outline-none focus:ring-2 focus:ring-[#20B2AA] focus:ring-offset-0 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"あなたの自己紹介を入力してください..."}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[a.bio&&(0,t.jsx)("p",{className:"text-sm text-red-400",children:a.bio[0]}),(0,t.jsxs)("p",{className:"text-xs text-[#808080] ml-auto",children:[(e.bio||"").length,"/160文字"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(d.J,{className:"text-white flex items-center gap-2",children:[(0,t.jsx)(A.A,{className:"h-4 w-4"}),"SNSリンク"]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.p,{placeholder:"Twitter URL",className:"bg-[#1A1A1A] border-[#3A3A3A] text-white placeholder:text-[#808080]"}),(0,t.jsx)(c.$,{variant:"outline",size:"icon",className:"border-[#3A3A3A] hover:bg-[#20B2AA]/10",children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.p,{placeholder:"YouTube URL",className:"bg-[#1A1A1A] border-[#3A3A3A] text-white placeholder:text-[#808080]"}),(0,t.jsx)(c.$,{variant:"outline",size:"icon",className:"border-[#3A3A3A] hover:bg-[#20B2AA]/10",children:(0,t.jsx)(A.A,{className:"h-4 w-4"})})]})]})]})]}),(0,t.jsx)(i.wL,{className:"border-t border-[#3A3A3A]",children:(0,t.jsx)(c.$,{onClick:()=>{let s=u.safeParse(e);if(!s.success){l(s.error.flatten().fieldErrors),o.oR.error("入力内容にエラーがあります。ご確認ください。");return}o.oR.success("プロフィールが保存されました。"),l({})},className:"bg-[#20B2AA] hover:bg-[#1a9b94] text-white",children:"プロフィールを保存"})})]})}):(0,t.jsx)("div",{className:"p-8 text-center text-[#A0A0A0]",children:"プロフィールを読み込み中..."})}}},e=>{e.O(0,[96,76,358],()=>e(e.s=58733)),_N_E=e.O()}]);